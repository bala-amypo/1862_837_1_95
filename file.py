import os
import base64
import sys

def create_file(path, content_b64):
    try:
        dir_name = os.path.dirname(path)
        if dir_name:
            os.makedirs(dir_name, exist_ok=True)
        
        with open(path, 'wb') as f:
            f.write(base64.b64decode(content_b64))
        print(f"Created: {path}")
    except Exception as e:
        print(f"Error creating {path}: {e}", file=sys.stderr)

def main():
    print("Starting project setup...")
    files = {
        ".gitattributes": "L212bncgdGV4dCBlb2w9bGYKKi5jbWQgdGV4dCBlb2w9Y3JsZgo=",
        ".gitignore": "SEVMUC5tZAp0YXJnZXQvCi5tdm4vd3JhcHBlci9tYXZlbi13cmFwcGVyLmphcgohKiovc3JjL21haW4vKiovdGFyZ2V0LwohKiovc3JjL3Rlc3QvKiovdGFyZ2V0LwoKIyMjIFNUUyAjIyMKLmFwdF9nZW5lcmF0ZWQKLmNsYXNzcGF0aAouZmFjdG9yeXBhdGgKLnByb2plY3QKLnNldHRpbmdzCi5zcHJpbmdCZWFucwouc3RzNC1jYWNoZQoKIyMjIEludGVsbGlKIElERUEgIyMjCi5pZGVhCiouaXdzCiouaW1sCiouaXByCgojIyMgTmV0QmVhbnMgIyMjCi9uYnByb2plY3QvcHJpdmF0ZS8KL25iYnVpbGQvCi9kaXN0LwovbmJkaXN0LwovLm5iLWdyYWRsZS8KYnVpbGQvCiEqKi9zcmMvbWFpbi8qKi9idWlsZC8KISoqL3NyYy90ZXN0LyoqL2J1aWxkLwoKIyMjIFZTIENvZGUgIyMjCi52c2NvZGUvCg==",
        "mvnw": "IyEvYmluL3NoCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKIyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKIyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgojIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKIyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiMgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQojIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKIwojICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAojCiMgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAojIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiMgIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiMgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiMgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwojIHVuZGVyIHRoZSBMaWNlbnNlLgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEFwYWNoZSBNYXZlbiBXcmFwcGVyIHN0YXJ0dXAgYmF0Y2ggc2NyaXB0LCB2ZXJzaW9uIDMuMy40CiMKIyBPcHRpb25hbCBFTlYgdmFycwojIC0tLS0tLS0tLS0tLS0tLS0tCiMgICBKQVZBX0hPTUUgLSBsb2NhdGlvbiBvZiBhIEpESyBob21lIGRpciwgcmVxdWlyZWQgd2hlbiBkb3dubG9hZCBtYXZlbiB2aWEgamF2YSBzb3VyY2UKIyAgIE1WTldfUkVQT1VSTCAtIHJlcG8gdXJsIGJhc2UgZm9yIGRvd25sb2FkaW5nIG1hdmVuIGRpc3RyaWJ1dGlvbgojICAgTVZOV19VU0VSTkFNRS9NVk5XX1BBU1NXT1JEIC0gdXNlciBhbmQgcGFzc3dvcmQgZm9yIGRvd25sb2FkaW5nIG1hdmVuCiMgICBNVk5XX1ZFUkJPU0UgLSB0cnVlOiBlbmFibGUgdmVyYm9zZSBsb2c7IGRlYnVnOiB0cmFjZSB0aGUgbXZudyBzY3JpcHQ7IG90aGVyczogc2lsZW5jZSB0aGUgb3V0cHV0CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKc2V0IC1ldWYKWyAiJHtNVk5XX1ZFUkJPU0UtfSIgIT0gZGVidWcgXSB8fCBzZXQgLXgKCiMgT1Mgc3BlY2lmaWMgc3VwcG9ydC4KbmF0aXZlX3BhdGgoKSB7IHByaW50ZiAlc1xcbiAiJDEiOyB9CmNhc2UgIiQodW5hbWUpIiBpbgpDWUdXSU4qIHwgTUlOR1cqKQogIFsgLXogIiR7SkFWQV9IT01FLX0iIF0gfHwgSkFWQV9IT01FPSIkKGN5Z3BhdGggLS11bml4ICIkSkFWQV9IT01FIikiCiAgbmF0aXZlX3BhdGgoKSB7IGN5Z3BhdGggLS1wYXRoIC0td2luZG93cyAiJDEiOyB9CiAgOzsKZXNhYwoKIyBzZXQgSkFWQUNNRCBhbmQgSkFWQUNDTUQKc2V0X2phdmFfaG9tZSgpIHsKICAjIEZvciBDeWd3aW4gYW5kIE1pbkdXLCBlbnN1cmUgcGF0aHMgYXJlIGluIFVuaXggZm9ybWF0IGJlZm9yZSBhbnl0aGluZyBpcyB0b3VjaGVkCiAgaWYgWyAtbiAiJHtKQVZBX0hPTUUtfSIgXTsgdGhlbgogICAgaWYgWyAteCAiJEpBVkFfSE9NRS9qcmUvc2gvamF2YSIgXTsgdGhlbgogICAgICAjIElCTSdzIEpESyBvbiBBSVggdXNlcyBzdHJhbmdlIGxvY2F0aW9ucyBmb3IgdGhlIGV4ZWN1dGFibGVzCiAgICAgIEpBVkFDTUQ9IiRKQVZBX0hPTUUvanJlL3NoL2phdmEiCiAgICAgIEpBVkFDQ01EPSIkSkFWQV9IT01FL2pyZS9zaC9qYXZhYyIKICAgIGVsc2UKICAgICAgSkFWQUNNRD0iJEpBVkFfSE9NRS9iaW4vamF2YSIKICAgICAgSkFWQUNDTUQ9IiRKQVZBX0hPTUUvYmluL2phdmFjIgoKICAgICAgaWYgWyAhIC14ICIkSkFWQUNNRCIgXSB8fCBbICEgLXggIiRKQVZBQ0NNRCIgXTsgdGhlbgogICAgICAgIGVjaG8gIlRoZSBKQVZBX0hPTUUgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IGRlZmluZWQgY29ycmVjdGx5LCBzbyBtdm53IGNhbm5vdCBydW4uIiA+JjIKICAgICAgICBlY2hvICJKQVZBX0hPTUUgaXMgc2V0IHRvIFwiJEpBVkFfSE9NRVwiLCBidXQgXCJcJEpBVkFfSE9NRS9iaW4vamF2YVwiIG9yIFwiXCRKQVZBX0hPTUUvYmluL2phdmFjXCIgZG9lcyBub3QgZXhpc3QuIiA+JjIKICAgICAgICByZXR1cm4gMQogICAgICBmaQogICAgZmkKICBlbHNlCiAgICBKQVZBQ01EPSIkKAogICAgICAnc2V0JyArZQogICAgICAndW5zZXQnIC1mIGNvbW1hbmQgMj4vZGV2L251bGwKICAgICAgJ2NvbW1hbmQnIC12IGphdmEKICAgICkiIHx8IDoKICAgIEpBVkFDQ01EPSIkKAogICAgICAnc2V0JyArZQogICAgICAndW5zZXQnIC1mIGNvbW1hbmQgMj4vZGV2L251bGwKICAgICAgJ2NvbW1hbmQnIC12IGphdmFjCiAgICApIiB8fCA6CgogICAgaWYgWyAhIC14ICIke0pBVkFDTUQtfSIgXSB8fCBbICEgLXggIiR7SkFWQUNDTUQtfSIgXTsgdGhlbgogICAgICBlY2hvICJUaGUgamF2YS9qYXZhYyBjb21tYW5kIGRvZXMgbm90IGV4aXN0IGluIFBBVEggbm9yIGlzIEpBVkFfSE9NRSBzZXQsIHNvIG12bncgY2Fubm90IHJ1bi4iID4mMgogICAgICByZXR1cm4gMQogICAgZmkKICBmaQp9CgojIGhhc2ggc3RyaW5nIGxpa2UgSmF2YSBTdHJpbmc6Omhhc2hDb2RlCmhhc2hfc3RyaW5nKCkgewogIHN0cj0iJHsxOi19IiBoPTAKICB3aGlsZSBbIC1uICIkc3RyIiBdOyBkbwogICAgY2hhcj0iJHtzdHIlIiR7c3RyIz99In0iCiAgICBoPSQoKChoICogMzEgKyAkKExDX0NUWVBFPUMgcHJpbnRmICVkICInJGNoYXIiKSkgJSA0Mjk0OTY3Mjk2KSkKICAgIHN0cj0iJHtzdHIjP30iCiAgZG9uZQogIHByaW50ZiAleFxcbiAkaAp9Cgp2ZXJib3NlKCkgeyA6OyB9ClsgIiR7TVZOV19WRVJCT1NFLX0iICE9IHRydWUgXSB8fCB2ZXJib3NlKCkgeyBwcmludGYgJXNcXG4gIiR7MS19IjsgfQoKZGllKCkgewogIHByaW50ZiAlc1xcbiAiJDEiID4mMgogIGV4aXQgMQp9Cgp0cmltKCkgewogICMgTVdSQVBQRVItMTM5OgogICMgICBUcmltcyB0cmFpbGluZyBhbmQgbGVhZGluZyB3aGl0ZXNwYWNlLCBjYXJyaWFnZSByZXR1cm5zLCB0YWJzLCBhbmQgbGluZWZlZWRzLgogICMgICBOZWVkZWQgZm9yIHJlbW92aW5nIHBvb3JseSBpbnRlcnByZXRlZCBuZXdsaW5lIHNlcXVlbmNlcyB3aGVuIHJ1bm5pbmcgaW4gbW9yZQogICMgICBleG90aWMgZW52aXJvbm1lbnRzIHN1Y2ggYXMgbWluZ3cgYmFzaCBvbiBXaW5kb3dzLgogIHByaW50ZiAiJXMiICIkezF9IiB8IHRyIC1kICdbOnNwYWNlOl0nCn0KCnNjcmlwdERpcj0iJChkaXJuYW1lICIkMCIpIgpzY3JpcHROYW1lPSIkKGJhc2VuYW1lICIkMCIpIgoKIyBwYXJzZSBkaXN0cmlidXRpb25VcmwgYW5kIG9wdGlvbmFsIGRpc3RyaWJ1dGlvblNoYTI1NlN1bSwgcmVxdWlyZXMgLm12bi93cmFwcGVyL21hdmVuLXdyYXBwZXIucHJvcGVydGllcwp3aGlsZSBJRlM9Ij0iIHJlYWQgLXIga2V5IHZhbHVlOyBkbwogIGNhc2UgIiR7a2V5LX0iIGluCiAgZGlzdHJpYnV0aW9uVXJsKSBkaXN0cmlidXRpb25Vcmw9JCh0cmltICIke3ZhbHVlLX0iKSA7OwogIGRpc3RyaWJ1dGlvblNoYTI1NlN1bSkgZGlzdHJpYnV0aW9uU2hhMjU2U3VtPSQodHJpbSAiJHt2YWx1ZS19IikgOzsKICBlc2FjCmRvbmUgPCIkc2NyaXB0RGlyLy5tdm4vd3JhcHBlci9tYXZlbi13cmFwcGVyLnByb3BlcnRpZXMiClsgLW4gIiR7ZGlzdHJpYnV0aW9uVXJsLX0iIF0gfHwgZGllICJjYW5ub3QgcmVhZCBkaXN0cmlidXRpb25VcmwgcHJvcGVydHkgaW4gJHNjcmlwdERpci8ubXZuL3dyYXBwZXIvbWF2ZW4td3JhcHBlci5wcm9wZXJ0aWVzIgoKY2FzZSAiJHtkaXN0cmlidXRpb25VcmwjIyovfSIgaW4KbWF2ZW4tbXZuZC0qYmluLiopCiAgTVZOX0NNRD1tdm5kLnNoIF9NVk5XX1JFUE9fUEFUVEVSTj0vbWF2ZW4vbXZuZC8KICBjYXNlICIke1BST0NFU1NPUl9BUkNISVRFQ1RVUkUtfSR7UFJPQ0VTU09SX0FSQ0hJVEVXNjQzMi19OiQodW5hbWUgLWEpIiBpbgogICpBTUQ2NDpDWUdXSU4qIHwgKkFNRDY0Ok1JTkdXKikgZGlzdHJpYnV0aW9uUGxhdGZvcm09d2luZG93cy1hbWQ2NCA7OwogIDpEYXJ3aW4qeDg2XzY0KSBkaXN0cmlidXRpb25QbGF0Zm9ybT1kYXJ3aW4tYW1kNjQgOzsKICA6RGFyd2luKmFybTY0KSBkaXN0cmlidXRpb25QbGF0Zm9ybT1kYXJ3aW4tYWFyY2g2NCA7OwogIDpMaW51eCp4ODZfNjQqKSBkaXN0cmlidXRpb25QbGF0Zm9ybT1saW51eC1hbWQ2NCA7OwogICopCiAgICBlY2hvICJDYW5ub3QgZGV0ZWN0IG5hdGl2ZSBwbGF0Zm9ybSBmb3IgbXZuZCBvbiAkKHVuYW1lKS0kKHVuYW1lIC1tKSwgdXNlIHB1cmUgamF2YSB2ZXJzaW9uIiA+JjIKICAgIGRpc3RyaWJ1dGlvblBsYXRmb3JtPWxpbnV4LWFtZDY0CiAgICA7OwogIGVzYWMKICBkaXN0cmlidXRpb25Vcmw9IiR7ZGlzdHJpYnV0aW9uVXJsJS1iaW4uKn0tJGRpc3RyaWJ1dGlvblBsYXRmb3JtLnppcCIKICA7OwptYXZlbi1tdm5kLSopIE1WTl9DTUQ9bXZuZC5zaCBfTVZOV19SRVBPX1BBVFRFUk49L21hdmVuL212bmQvIDs7CiopIE1WTl9DTUQ9Im12biR7c2NyaXB0TmFtZSNtdm53fSIgX01WTldfUkVQT19QQVRURVJOPS9vcmcvYXBhY2hlL21hdmVuLyA7Owplc2FjCgojIGFwcGx5IE1WTldfUkVQT1VSTCBhbmQgY2FsY3VsYXRlIE1BVkVOX0hPTUUKIyBtYXZlbiBob21lIHBhdHRlcm46IH4vLm0yL3dyYXBwZXIvZGlzdHMve2FwYWNoZS1tYXZlbi08dmVyc2lvbj4sbWF2ZW4tbXZuZC08dmVyc2lvbj4tPHBsYXRmb3JtPn0vPGhhc2g+ClsgLXogIiR7TVZOV19SRVBPVVJMLX0iIF0gfHwgZGlzdHJpYnV0aW9uVXJsPSIkTVZOV19SRVBPVVJMJF9NVk5XX1JFUE9fUEFUVEVSTiR7ZGlzdHJpYnV0aW9uVXJsIyoiJF9NVk5XX1JFUE9fUEFUVEVSTiJ9IgpkaXN0cmlidXRpb25VcmxOYW1lPSIke2Rpc3RyaWJ1dGlvblVybCMjKi99IgpkaXN0cmlidXRpb25VcmxOYW1lTWFpbj0iJHtkaXN0cmlidXRpb25VcmxOYW1lJS4qfSIKZGlzdHJpYnV0aW9uVXJsTmFtZU1haW49IiR7ZGlzdHJpYnV0aW9uVXJsTmFtZU1haW4lLWJpbn0iCk1BVkVOX1VTRVJfSE9NRT0iJHtNQVZFTl9VU0VSX0hPTUU6LSR7SE9NRX0vLm0yfSIKTUFWRU5fSE9NRT0iJHtNQVZFTl9VU0VSX0hPTUV9L3dyYXBwZXIvZGlzdHMvJHtkaXN0cmlidXRpb25VcmxOYW1lTWFpbi19LyQoaGFzaF9zdHJpbmcgIiRkaXN0cmlidXRpb25VcmwiKSIKCmV4ZWNfbWF2ZW4oKSB7CiAgdW5zZXQgTVZOV19WRVJCT1NFIE1WTldfVVNFUk5BTUUgTVZOV19QQVNTV09SRCBNVk5XX1JFUE9VUkwgfHwgOgogIGV4ZWMgIiRNQVZFTl9IT01FL2Jpbi8kTVZOX0NNRCIgIiRAIiB8fCBkaWUgImNhbm5vdCBleGVjICRNQVZFTl9IT01FL2Jpbi8kTVZOX0NNRCIKfQoKaWYgWyAtZCAiJE1BVkVOX0hPTUUiIF07IHRoZW4KICB2ZXJib3NlICJmb3VuZCBleGlzdGluZyBNQVZFTl9IT01FIGF0ICRNQVZFTl9IT01FIgogIGV4ZWNfbWF2ZW4gIiRAIgpmaQoKY2FzZSAiJHtkaXN0cmlidXRpb25VcmwtfSIgaW4KKj8tYmluLnppcCB8ICo/bWF2ZW4tbXZuZC0/Ki0/Ki56aXApIDs7CiopIGRpZSAiZGlzdHJpYnV0aW9uVXJsIGlzIG5vdCB2YWxpZCwgbXVzdCBtYXRjaCAqLWJpbi56aXAgb3IgbWF2ZW4tbXZuZC0qLnppcCwgYnV0IGZvdW5kICcke2Rpc3RyaWJ1dGlvblVybC19JyIgOzsKZXNhYwoKIyBwcmVwYXJlIHRtcCBkaXIKaWYgVE1QX0RPV05MT0FEX0RJUj0iJChta3RlbXAgLWQpIiAmJiBbIC1kICIkVE1QX0RPV05MT0FEX0RJUiIgXTsgdGhlbgogIGNsZWFuKCkgeyBybSAtcmYgLS0gIiRUTVBfRE9XTkxPQURfRElSIjsgfQogIHRyYXAgY2xlYW4gSFVQIElOVCBURVJNIEVYSVQKZWxzZQogIGRpZSAiY2Fubm90IGNyZWF0ZSB0ZW1wIGRpciIKZmkKCm1rZGlyIC1wIC0tICIke01BVkVOX0hPTUUlLyp9IgoKIyBEb3dubG9hZCBhbmQgSW5zdGFsbCBBcGFjaGUgTWF2ZW4KdmVyYm9zZSAiQ291bGRuJ3QgZmluZCBNQVZFTl9IT01FLCBkb3dubG9hZGluZyBhbmQgaW5zdGFsbGluZyBpdCAuLi4iCnZlcmJvc2UgIkRvd25sb2FkaW5nIGZyb206ICRkaXN0cmlidXRpb25VcmwiCnZlcmJvc2UgIkRvd25sb2FkaW5nIHRvOiAkVE1QX0RPV05MT0FEX0RJUi8kZGlzdHJpYnV0aW9uVXJsTmFtZSIKCiMgc2VsZWN0IC56aXAgb3IgLnRhci5negppZiAhIGNvbW1hbmQgLXYgdW56aXAgPi9kZXYvbnVsbDsgdGhlbgogIGRpc3RyaWJ1dGlvblVybD0iJHtkaXN0cmlidXRpb25VcmwlLnppcH0udGFyLmd6IgogIGRpc3RyaWJ1dGlvblVybE5hbWU9IiR7ZGlzdHJpYnV0aW9uVXJsIyMqL30iCmZpCgojIHZlcmJvc2Ugb3B0Cl9fTVZOV19RVUlFVF9XR0VUPS0tcXVpZXQgX19NVk5XX1FVSUVUX0NVUkw9LS1zaWxlbnQgX19NVk5XX1FVSUVUX1VOWklQPS1xIF9fTVZOV19RVUlFVF9UQVI9JycKWyAiJHtNVk5XX1ZFUkJPU0UtfSIgIT0gdHJ1ZSBdIHx8IF9fTVZOV19RVUlFVF9XR0VUPScnIF9fTVZOV19RVUlFVF9DVVJMPScnIF9fTVZOV19RVUlFVF9VTlpJUD0nJyBfX01WTldfUVVJRVRfVEFSPXYKCiMgbm9ybWFsaXplIGh0dHAgYXV0aApjYXNlICIke01WTldfUEFTU1dPUkQ6K2hhcy1wYXNzd29yZH0iIGluCicnKSBNVk5XX1VTRVJOQU1FPScnIE1WTldfUEFTU1dPUkQ9JycgOzsKaGFzLXBhc3N3b3JkKSBbIC1uICIke01WTldfVVNFUk5BTUUtfSIgXSB8fCBNVk5XX1VTRVJOQU1FPScnIE1WTldfUEFTU1dPUkQ9JycgOzsKZXNhYwoKaWYgWyAteiAiJHtNVk5XX1VTRVJOQU1FLX0iIF0gJiYgY29tbWFuZCAtdiB3Z2V0ID4vZGV2L251bGw7IHRoZW4KICB2ZXJib3NlICJGb3VuZCB3Z2V0IC4uLiB1c2luZyB3Z2V0IgogIHdnZXQgJHtfX01WTldfUVVJRVRfV0dFVDorIiRfX01WTldfUVVJRVRfV0dFVCJ9ICIkZGlzdHJpYnV0aW9uVXJsIiAtTyAiJFRNUF9ET1dOTE9BRF9ESVIvJGRpc3RyaWJ1dGlvblVybE5hbWUiIHx8IGRpZSAid2dldDogRmFpbGVkIHRvIGZldGNoICRkaXN0cmlidXRpb25VcmwiCmVsaWYgWyAteiAiJHtNVk5XX1VTRVJOQU1FLX0iIF0gJiYgY29tbWFuZCAtdiBjdXJsID4vZGV2L251bGw7IHRoZW4KICB2ZXJib3NlICJGb3VuZCBjdXJsIC4uLiB1c2luZyBjdXJsIgogIGN1cmwgJHtfX01WTldfUVVJRVRfQ1VSTDorIiRfX01WTldfUVVJRVRfQ1VSTCJ9IC1mIC1MIC1vICIkVE1QX0RPV05MT0FEX0RJUi8kZGlzdHJpYnV0aW9uVXJsTmFtZSIgIiRkaXN0cmlidXRpb25VcmwiIHx8IGRpZSAiY3VybDogRmFpbGVkIHRvIGZldGNoICRkaXN0cmlidXRpb25VcmwiCmVsaWYgc2V0X2phdmFfaG9tZTsgdGhlbgogIHZlcmJvc2UgIkZhbGxpbmcgYmFjayB0byB1c2UgSmF2YSB0byBkb3dubG9hZCIKICBqYXZhU291cmNlPSIkVE1QX0RPV05MT0FEX0RJUi9Eb3dubG9hZGVyLmphdmEiCiAgdGFyZ2V0WmlwPSIkVE1QX0RPV05MT0FEX0RJUi8kZGlzdHJpYnV0aW9uVXJsTmFtZSIKICBjYXQgPiIkamF2YVNvdXJjZSIgPDwtRU5ECglwdWJsaWMgY2xhc3MgRG93bmxvYWRlciBleHRlbmRzIGphdmEubmV0LkF1dGhlbnRpY2F0b3IKCXsKCSAgcHJvdGVjdGVkIGphdmEubmV0LlBhc3N3b3JkQXV0aGVudGljYXRpb24gZ2V0UGFzc3dvcmRBdXRoZW50aWNhdGlvbigpCgkgIHsKCSAgICByZXR1cm4gbmV3IGphdmEubmV0LlBhc3N3b3JkQXV0aGVudGljYXRpb24oIFN5c3RlbS5nZXRlbnYoICJNVk5XX1VTRVJOQU1FIiApLCBTeXN0ZW0uZ2V0ZW52KCAiTVZOV19QQVNTV09SRCIgKS50b0NoYXJBcnJheSgpICk7CgkgIH0KCSAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oIFN0cmluZ1tdIGFyZ3MgKSB0aHJvd3MgRXhjZXB0aW9uCgkgIHsKCSAgICBzZXREZWZhdWx0KCBuZXcgRG93bmxvYWRlcigpICk7CgkgICAgamF2YS5uaW8uZmlsZS5GaWxlcy5jb3B5KCBqYXZhLm5ldC5VUkkuY3JlYXRlKCBhcmdzWzBdICkudG9VUkwoKS5vcGVuU3RyZWFtKCksIGphdmEubmlvLmZpbGUuUGF0aHMuZ2V0KCBhcmdzWzFdICkudG9BYnNvbHV0ZVBhdGgoKS5ub3JtYWxpemUoKSApOwoJICB9Cgl9CglFTkQKICAjIEZvciBDeWd3aW4vTWluR1csIHN3aXRjaCBwYXRocyB0byBXaW5kb3dzIGZvcm1hdCBiZWZvcmUgcnVubmluZyBqYXZhYyBhbmQgamF2YQogIHZlcmJvc2UgIiAtIENvbXBpbGluZyBEb3dubG9hZGVyLmphdmEgLi4uIgogICIkKG5hdGl2ZV9wYXRoICIkSkFWQUNDTUQiKSIgIiQobmF0aXZlX3BhdGggIiRqYXZhU291cmNlIikiIHx8IGRpZSAiRmFpbGVkIHRvIGNvbXBpbGUgRG93bmxvYWRlci5qYXZhIgogIHZlcmJvc2UgIiAtIFJ1bm5pbmcgRG93bmxvYWRlci5qYXZhIC4uLiIKICAiJChuYXRpdmVfcGF0aCAiJEpBVkFDTUQiKSIgLWNwICIkKG5hdGl2ZV9wYXRoICIkVE1QX0RPV05MT0FEX0RJUiIpIiBEb3dubG9hZGVyICIkZGlzdHJpYnV0aW9uVXJsIiAiJChuYXRpdmVfcGF0aCAiJHRhcmdldFppcCIpIgpmaQoKIyBJZiBzcGVjaWZpZWQsIHZhbGlkYXRlIHRoZSBTSEEtMjU2IHN1bSBvZiB0aGUgTWF2ZW4gZGlzdHJpYnV0aW9uIHppcCBmaWxlCmlmIFsgLW4gIiR7ZGlzdHJpYnV0aW9uU2hhMjU2U3VtLX0iIF07IHRoZW4KICBkaXN0cmlidXRpb25TaGEyNTZSZXN1bHQ9ZmFsc2UKICBpZiBbICIkTVZOX0NNRCIgPSBtdm5kLnNoIF07IHRoZW4KICAgIGVjaG8gIkNoZWNrc3VtIHZhbGlkYXRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3IgbWF2ZW4tbXZuZC4iID4mMgogICAgZWNobyAiUGxlYXNlIGRpc2FibGUgdmFsaWRhdGlvbiBieSByZW1vdmluZyAnZGlzdHJpYnV0aW9uU2hhMjU2U3VtJyBmcm9tIHlvdXIgbWF2ZW4td3JhcHBlci5wcm9wZXJ0aWVzLiIgPiYyCiAgICBleGl0IDEKICBlbGlmIGNvbW1hbmQgLXYgc2hhMjU2c3VtID4vZGV2L251bGw7IHRoZW4KICAgIGlmIGVjaG8gIiRkaXN0cmlidXRpb25TaGEyNTZTdW0gICRUTVBfRE9XTkxPQURfRElSLyRkaXN0cmlidXRpb25VcmxOYW1lIiB8IHNoYTI1NnN1bSAtYyAtID4vZGV2L251bGwgMj4mMTsgdGhlbgogICAgICBkaXN0cmlidXRpb25TaGEyNTZSZXN1bHQ9dHJ1ZQogICAgZmkKICBlbGlmIGNvbW1hbmQgLXYgc2hhc3VtID4vZGV2L251bGw7IHRoZW4KICAgIGlmIGVjaG8gIiRkaXN0cmlidXRpb25TaGEyNTZTdW0gICRUTVBfRE9XTkxPQURfRElSLyRkaXN0cmlidXRpb25VcmxOYW1lIiB8IHNoYXN1bSAtYSAyNTYgLWMgPi9kZXYvbnVsbCAyPiYxOyB0aGVuCiAgICAgIGRpc3RyaWJ1dGlvblNoYTI1NlJlc3VsdD10cnVlCiAgICBmaQogIGVsc2UKICAgIGVjaG8gIkNoZWNrc3VtIHZhbGlkYXRpb24gd2FzIHJlcXVlc3RlZCBidXQgbmVpdGhlciAnc2hhMjU2c3VtJyBvciAnc2hhc3VtJyBhcmUgYXZhaWxhYmxlLiIgPiYyCiAgICBlY2hvICJQbGVhc2UgaW5zdGFsbCBlaXRoZXIgY29tbWFuZCwgb3IgZGlzYWJsZSB2YWxpZGF0aW9uIGJ5IHJlbW92aW5nICdkaXN0cmlidXRpb25TaGEyNTZTdW0nIGZyb20geW91ciBtYXZlbi13cmFwcGVyLnByb3BlcnRpZXMuIiA+JjIKICAgIGV4aXQgMQogIGZpCiAgaWYgWyAkZGlzdHJpYnV0aW9uU2hhMjU2UmVzdWx0ID0gZmFsc2UgXTsgdGhlbgogICAgZWNobyAiRXJyb3I6IEZhaWxlZCB0byB2YWxpZGF0ZSBNYXZlbiBkaXN0cmlidXRpb24gU0hBLTI1NiwgeW91ciBNYXZlbiBkaXN0cmlidXRpb24gbWlnaHQgYmUgY29tcHJvbWlzZWQuIiA+JjIKICAgIGVjaG8gIklmIHlvdSB1cGRhdGVkIHlvdXIgTWF2ZW4gdmVyc2lvbiwgeW91IG5lZWQgdG8gdXBkYXRlIHRoZSBzcGVjaWZpZWQgZGlzdHJpYnV0aW9uU2hhMjU2U3VtIHByb3BlcnR5LiIgPiYyCiAgICBleGl0IDEKICBmaQpmaQoKIyB1bnppcCBhbmQgbW92ZQppZiBjb21tYW5kIC12IHVuemlwID4vZGV2L251bGw7IHRoZW4KICB1bnppcCAke19fTVZOV19RVUlFVF9VTlpJUDorIiRfX01WTldfUVVJRVRfVU5aSVAifSAiJFRNUF9ET1dOTE9BRF9ESVIvJGRpc3RyaWJ1dGlvblVybE5hbWUiIC1kICIkVE1QX0RPV05MT0FEX0RJUiIgfHwgZGllICJmYWlsZWQgdG8gdW56aXAiCmVsc2UKICB0YXIgeHpmJHtfX01WTldfUVVJRVRfVEFSOisiJF9fTVZOV19RVUlFVF9UQVIifSAiJFRNUF9ET1dOTE9BRF9ESVIvJGRpc3RyaWJ1dGlvblVybE5hbWUiIC1DICIkVE1QX0RPV05MT0FEX0RJUiIgfHwgZGllICJmYWlsZWQgdG8gdW50YXIiCmZpCgojIEZpbmQgdGhlIGFjdHVhbCBleHRyYWN0ZWQgZGlyZWN0b3J5IG5hbWUgKGhhbmRsZXMgc25hcHNob3RzIHdoZXJlIGZpbGVuYW1lICE9IGRpcmVjdG9yeSBuYW1lKQphY3R1YWxEaXN0cmlidXRpb25EaXI9IiIKCiMgRmlyc3QgdHJ5IHRoZSBleHBlY3RlZCBkaXJlY3RvcnkgbmFtZSAoZm9yIHJlZ3VsYXIgZGlzdHJpYnV0aW9ucykKaWYgWyAtZCAiJFRNUF9ET1dOTE9BRF9ESVIvJGRpc3RyaWJ1dGlvblVybE5hbWVNYWluIiBdOyB0aGVuCiAgaWYgWyAtZiAiJFRNUF9ET1dOTE9BRF9ESVIvJGRpc3RyaWJ1dGlvblVybE5hbWVNYWluL2Jpbi8kTVZOX0NNRCIgXTsgdGhlbgogICAgYWN0dWFsRGlzdHJpYnV0aW9uRGlyPSIkZGlzdHJpYnV0aW9uVXJsTmFtZU1haW4iCiAgZmkKZmkKCiMgSWYgbm90IGZvdW5kLCBzZWFyY2ggZm9yIGFueSBkaXJlY3Rvcnkgd2l0aCB0aGUgTWF2ZW4gZXhlY3V0YWJsZSAoZm9yIHNuYXBzaG90cykKaWYgWyAteiAiJGFjdHVhbERpc3RyaWJ1dGlvbkRpciIgXTsgdGhlbgogICMgZW5hYmxlIGdsb2JiaW5nIHRvIGl0ZXJhdGUgb3ZlciBpdGVtcwogIHNldCArZgogIGZvciBkaXIgaW4gIiRUTVBfRE9XTkxPQURfRElSIi8qOyBkbwogICAgaWYgWyAtZCAiJGRpciIgXTsgdGhlbgogICAgICBpZiBbIC1mICIkZGlyL2Jpbi8kTVZOX0NNRCIgXTsgdGhlbgogICAgICAgIGFjdHVhbERpc3RyaWJ1dGlvbkRpcj0iJChiYXNlbmFtZSAiJGRpciIpIgogICAgICAgIGJyZWFrCiAgICAgIGZpCiAgICBmaQogIGRvbmUKICBzZXQgLWYKZmkKCmlmIFsgLXogIiRhY3R1YWxEaXN0cmlidXRpb25EaXIiIF07IHRoZW4KICB2ZXJib3NlICJDb250ZW50cyBvZiAkVE1QX0RPV05MT0FEX0RJUjoiCiAgdmVyYm9zZSAiJChscyAtbGEgIiRUTVBfRE9XTkxPQURfRElSIikiCiAgZGllICJDb3VsZCBub3QgZmluZCBNYXZlbiBkaXN0cmlidXRpb24gZGlyZWN0b3J5IGluIGV4dHJhY3RlZCBhcmNoaXZlIgpmaQoKdmVyYm9zZSAiRm91bmQgZXh0cmFjdGVkIE1hdmVuIGRpc3RyaWJ1dGlvbiBkaXJlY3Rvcnk6ICRhY3R1YWxEaXN0cmlidXRpb25EaXIiCnByaW50ZiAlc1xcbiAiJGRpc3RyaWJ1dGlvblVybCIgPiIkVE1QX0RPV05MT0FEX0RJUi8kYWN0dWFsRGlzdHJpYnV0aW9uRGlyL212bncudXJsIgptdiAtLSAiJFRNUF9ET1dOTE9BRF9ESVIvJGFjdHVhbERpc3RyaWJ1dGlvbkRpciIgIiRNQVZFTl9IT01FIiB8fCBbIC1kICIkTUFWRU5fSE9NRSIgXSB8fCBkaWUgImZhaWwgdG8gbW92ZSBNQVZFTl9IT01FIgoKY2xlYW4gfHwgOgpleGVjX21hdmVuICIkQCIK",
        "mvnw.cmd": "PCMgOiBiYXRjaCBwb3J0aW9uCkBSRU0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpAUkVNIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKQFJFTSBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKQFJFTSBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgpAUkVNIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKQFJFTSB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCkBSRU0gIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQpAUkVNIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKQFJFTQpAUkVNICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMApAUkVNCkBSRU0gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLApAUkVNIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCkBSRU0gIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCkBSRU0gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCkBSRU0gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwpAUkVNIHVuZGVyIHRoZSBMaWNlbnNlLgpAUkVNIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkBSRU0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpAUkVNIEFwYWNoZSBNYXZlbiBXcmFwcGVyIHN0YXJ0dXAgYmF0Y2ggc2NyaXB0LCB2ZXJzaW9uIDMuMy40CkBSRU0KQFJFTSBPcHRpb25hbCBFTlYgdmFycwpAUkVNICAgTVZOV19SRVBPVVJMIC0gcmVwbyB1cmwgYmFzZSBmb3IgZG93bmxvYWRpbmcgbWF2ZW4gZGlzdHJpYnV0aW9uCkBSRU0gICBNVk5XX1VTRVJOQU1FL01WTldfUEFTU1dPUkQgLSB1c2VyIGFuZCBwYXNzd29yZCBmb3IgZG93bmxvYWRpbmcgbWF2ZW4KQFJFTSAgIE1WTldfVkVSQk9TRSAtIHRydWU6IGVuYWJsZSB2ZXJib3NlIGxvZzsgb3RoZXJzOiBzaWxlbmNlIHRoZSBvdXRwdXQKQFJFTSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpASUYgIiVfX01WTldfQVJHMF9OQU1FX18lIj09IiIgKFNFVCBfX01WTldfQVJHMF9OQU1FX189JX5ueDApCkBTRVQgX19NVk5XX0NNRF9fPQpAU0VUIF9fTVZOV19FUlJPUl9fPQpAU0VUIF9fTVZOV19QU01PRFVMRVBfU0FWRT0lUFNNb2R1bGVQYXRoJQpAU0VUIFBTTW9kdWxlUGF0aD0KQEZPUiAvRiAidXNlYmFja3EgdG9rZW5zPTEqIGRlbGltcz09IiAlJUEgSU4gKGBwb3dlcnNoZWxsIC1ub3Byb2ZpbGUgIiYgeyRzY3JpcHREaXI9JyV+ZHAwJzsgJHNjcmlwdD0nJV9fTVZOV19BUkcwX05BTUVfXyUnOyBpY20gLVNjcmlwdEJsb2NrIChbU2NyaXB0YmxvY2tdOjpDcmVhdGUoKEdldC1Db250ZW50IC1SYXcgJyV+ZjAnKSkpIC1Ob05ld1Njb3BlfSJgKSBETyBAKAogIElGICIlJUEiPT0iTVZOX0NNRCIgKHNldCBfX01WTldfQ01EX189JSVCKSBFTFNFIElGICIlJUIiPT0iIiAoZWNobyAlJUEpIEVMU0UgKGVjaG8gJSVBPSUlQikKKQpAU0VUIFBTTW9kdWxlUGF0aD0lX19NVk5XX1BTTU9EVUxFUF9TQVZFJQpAU0VUIF9fTVZOV19QU01PRFVMRVBfU0FWRT0KQFNFVCBfX01WTldfQVJHMF9OQU1FX189CkBTRVQgTVZOV19VU0VSTkFNRT0KQFNFVCBNVk5XX1BBU1NXT1JEPQpASUYgTk9UICIlX19NVk5XX0NNRF9fJSI9PSIiICgiJV9fTVZOV19DTURfXyUiICUqKQpAZWNobyBDYW5ub3Qgc3RhcnQgbWF2ZW4gZnJvbSB3cmFwcGVyID4mMiAmJiBleGl0IC9iIDEKQEdPVE8gOkVPRgo6IGVuZCBiYXRjaCAvIGJlZ2luIHBvd2Vyc2hlbGwgIz4KCiRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAiU3RvcCIKaWYgKCRlbnY6TVZOV19WRVJCT1NFIC1lcSAidHJ1ZSIpIHsKICAkVmVyYm9zZVByZWZlcmVuY2UgPSAiQ29udGludWUiCn0KCiMgY2FsY3VsYXRlIGRpc3RyaWJ1dGlvblVybCwgcmVxdWlyZXMgLm12bi93cmFwcGVyL21hdmVuLXdyYXBwZXIucHJvcGVydGllcwokZGlzdHJpYnV0aW9uVXJsID0gKEdldC1Db250ZW50IC1SYXcgIiRzY3JpcHREaXIvLm12bi93cmFwcGVyL21hdmVuLXdyYXBwZXIucHJvcGVydGllcyIgfCBDb252ZXJ0RnJvbS1TdHJpbmdEYXRhKS5kaXN0cmlidXRpb25VcmwKaWYgKCEkZGlzdHJpYnV0aW9uVXJsKSB7CiAgV3JpdGUtRXJyb3IgImNhbm5vdCByZWFkIGRpc3RyaWJ1dGlvblVybCBwcm9wZXJ0eSBpbiAkc2NyaXB0RGlyLy5tdm4vd3JhcHBlci9tYXZlbi13cmFwcGVyLnByb3BlcnRpZXMiCn0KCnN3aXRjaCAtd2lsZGNhcmQgLWNhc2VzZW5zaXRpdmUgKCAkKCRkaXN0cmlidXRpb25VcmwgLXJlcGxhY2UgJ14uKi8nLCcnKSApIHsKICAibWF2ZW4tbXZuZC0qIiB7CiAgICAkVVNFX01WTkQgPSAkdHJ1ZQogICAgJGRpc3RyaWJ1dGlvblVybCA9ICRkaXN0cmlidXRpb25VcmwgLXJlcGxhY2UgJy1iaW5cLlteLl0qJCcsIi13aW5kb3dzLWFtZDY0LnppcCIKICAgICRNVk5fQ01EID0gIm12bmQuY21kIgogICAgYnJlYWsKICB9CiAgZGVmYXVsdCB7CiAgICAkVVNFX01WTkQgPSAkZmFsc2UKICAgICRNVk5fQ01EID0gJHNjcmlwdCAtcmVwbGFjZSAnXm12bncnLCdtdm4nCiAgICBicmVhawogIH0KfQoKIyBhcHBseSBNVk5XX1JFUE9VUkwgYW5kIGNhbGN1bGF0ZSBNQVZFTl9IT01FCiMgbWF2ZW4gaG9tZSBwYXR0ZXJuOiB+Ly5tMi93cmFwcGVyL2Rpc3RzL3thcGFjaGUtbWF2ZW4tPHZlcnNpb24+LG1hdmVuLW12bmQtPHZlcnNpb24+LTxwbGF0Zm9ybT59LzxoYXNoPgppZiAoJGVudjpNVk5XX1JFUE9VUkwpIHsKICAkTVZOV19SRVBPX1BBVFRFUk4gPSBpZiAoJFVTRV9NVk5EIC1lcSAkRmFsc2UpIHsgIi9vcmcvYXBhY2hlL21hdmVuLyIgfSBlbHNlIHsgIi9tYXZlbi9tdm5kLyIgfQogICRkaXN0cmlidXRpb25VcmwgPSAiJGVudjpNVk5XX1JFUE9VUkwkTVZOV19SRVBPX1BBVFRFUk4kKCRkaXN0cmlidXRpb25VcmwgLXJlcGxhY2UgIl4uKiRNVk5XX1JFUE9fUEFUVEVSTiIsJycpIgp9CiRkaXN0cmlidXRpb25VcmxOYW1lID0gJGRpc3RyaWJ1dGlvblVybCAtcmVwbGFjZSAnXi4qLycsJycKJGRpc3RyaWJ1dGlvblVybE5hbWVNYWluID0gJGRpc3RyaWJ1dGlvblVybE5hbWUgLXJlcGxhY2UgJ1wuW14uXSokJywnJyAtcmVwbGFjZSAnLWJpbiQnLCcnCgokTUFWRU5fTTJfUEFUSCA9ICIkSE9NRS8ubTIiCmlmICgkZW52Ok1BVkVOX1VTRVJfSE9NRSkgewogICRNQVZFTl9NMl9QQVRIID0gIiRlbnY6TUFWRU5fVVNFUl9IT01FIgp9CgppZiAoLW5vdCAoVGVzdC1QYXRoIC1QYXRoICRNQVZFTl9NMl9QQVRIKSkgewogICAgTmV3LUl0ZW0gLVBhdGggJE1BVkVOX00yX1BBVEggLUl0ZW1UeXBlIERpcmVjdG9yeSB8IE91dC1OdWxsCn0KCiRNQVZFTl9XUkFQUEVSX0RJU1RTID0gJG51bGwKaWYgKChHZXQtSXRlbSAkTUFWRU5fTTJfUEFUSCkuVGFyZ2V0WzBdIC1lcSAkbnVsbCkgewogICRNQVZFTl9XUkFQUEVSX0RJU1RTID0gIiRNQVZFTl9NMl9QQVRIL3dyYXBwZXIvZGlzdHMiCn0gZWxzZSB7CiAgJE1BVkVOX1dSQVBQRVJfRElTVFMgPSAoR2V0LUl0ZW0gJE1BVkVOX00yX1BBVEgpLlRhcmdldFswXSArICIvd3JhcHBlci9kaXN0cyIKfQoKJE1BVkVOX0hPTUVfUEFSRU5UID0gIiRNQVZFTl9XUkFQUEVSX0RJU1RTLyRkaXN0cmlidXRpb25VcmxOYW1lTWFpbiIKJE1BVkVOX0hPTUVfTkFNRSA9IChbU3lzdGVtLlNlY3VyaXR5LkNyeXB0b2dyYXBoeS5TSEEyNTZdOjpDcmVhdGUoKS5Db21wdXRlSGFzaChbYnl0ZVtdXVtjaGFyW11dJGRpc3RyaWJ1dGlvblVybCkgfCBGb3JFYWNoLU9iamVjdCB7JF8uVG9TdHJpbmcoIngyIil9KSAtam9pbiAnJwokTUFWRU5fSE9NRSA9ICIkTUFWRU5fSE9NRV9QQVJFTlQvJE1BVkVOX0hPTUVfTkFNRSIKCmlmIChUZXN0LVBhdGggLVBhdGggIiRNQVZFTl9IT01FIiAtUGF0aFR5cGUgQ29udGFpbmVyKSB7CiAgV3JpdGUtVmVyYm9zZSAiZm91bmQgZXhpc3RpbmcgTUFWRU5fSE9NRSBhdCAkTUFWRU5fSE9NRSIKICBXcml0ZS1PdXRwdXQgIk1WTl9DTUQ9JE1BVkVOX0hPTUUvYmluLyRNVk5fQ01EIgogIGV4aXQgJD8KfQoKaWYgKCEgJGRpc3RyaWJ1dGlvblVybE5hbWVNYWluIC1vciAoJGRpc3RyaWJ1dGlvblVybE5hbWUgLWVxICRkaXN0cmlidXRpb25VcmxOYW1lTWFpbikpIHsKICBXcml0ZS1FcnJvciAiZGlzdHJpYnV0aW9uVXJsIGlzIG5vdCB2YWxpZCwgbXVzdCBlbmQgd2l0aCAqLWJpbi56aXAsIGJ1dCBmb3VuZCAkZGlzdHJpYnV0aW9uVXJsIgp9CgojIHByZXBhcmUgdG1wIGRpcgokVE1QX0RPV05MT0FEX0RJUl9IT0xERVIgPSBOZXctVGVtcG9yYXJ5RmlsZQokVE1QX0RPV05MT0FEX0RJUiA9IE5ldy1JdGVtIC1JdGVtdHlwZSBEaXJlY3RvcnkgLVBhdGggIiRUTVBfRE9XTkxPQURfRElSX0hPTERFUi5kaXIiCiRUTVBfRE9XTkxPQURfRElSX0hPTERFUi5EZWxldGUoKSB8IE91dC1OdWxsCnRyYXAgewogIGlmICgkVE1QX0RPV05MT0FEX0RJUi5FeGlzdHMpIHsKICAgIHRyeSB7IFJlbW92ZS1JdGVtICRUTVBfRE9XTkxPQURfRElSIC1SZWN1cnNlIC1Gb3JjZSB8IE91dC1OdWxsIH0KICAgIGNhdGNoIHsgV3JpdGUtV2FybmluZyAiQ2Fubm90IHJlbW92ZSAkVE1QX0RPV05MT0FEX0RJUiIgfQogIH0KfQoKTmV3LUl0ZW0gLUl0ZW10eXBlIERpcmVjdG9yeSAtUGF0aCAiJE1BVkVOX0hPTUVfUEFSRU5UIiAtRm9yY2UgfCBPdXQtTnVsbAoKIyBEb3dubG9hZCBhbmQgSW5zdGFsbCBBcGFjaGUgTWF2ZW4KV3JpdGUtVmVyYm9zZSAiQ291bGRuJ3QgZmluZCBNQVZFTl9IT01FLCBkb3dubG9hZGluZyBhbmQgaW5zdGFsbGluZyBpdCAuLi4iCldyaXRlLVZlcmJvc2UgIkRvd25sb2FkaW5nIGZyb206ICRkaXN0cmlidXRpb25VcmwiCldyaXRlLVZlcmJvc2UgIkRvd25sb2FkaW5nIHRvOiAkVE1QX0RPV05MT0FEX0RJUi8kZGlzdHJpYnV0aW9uVXJsTmFtZSIKCiR3ZWJjbGllbnQgPSBOZXctT2JqZWN0IFN5c3RlbS5OZXQuV2ViQ2xpZW50CmlmICgkZW52Ok1WTldfVVNFUk5BTUUgLWFuZCAkZW52Ok1WTldfUEFTU1dPUkQpIHsKICAkd2ViY2xpZW50LkNyZWRlbnRpYWxzID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0Lk5ldHdvcmtDcmVkZW50aWFsKCRlbnY6TVZOV19VU0VSTkFNRSwgJGVudjpNVk5XX1BBU1NXT1JEKQp9CltOZXQuU2VydmljZVBvaW50TWFuYWdlcl06OlNlY3VyaXR5UHJvdG9jb2wgPSBbTmV0LlNlY3VyaXR5UHJvdG9jb2xUeXBlXTo6VGxzMTIKJHdlYmNsaWVudC5Eb3dubG9hZEZpbGUoJGRpc3RyaWJ1dGlvblVybCwgIiRUTVBfRE9XTkxPQURfRElSLyRkaXN0cmlidXRpb25VcmxOYW1lIikgfCBPdXQtTnVsbAoKIyBJZiBzcGVjaWZpZWQsIHZhbGlkYXRlIHRoZSBTSEEtMjU2IHN1bSBvZiB0aGUgTWF2ZW4gZGlzdHJpYnV0aW9uIHppcCBmaWxlCiRkaXN0cmlidXRpb25TaGEyNTZTdW0gPSAoR2V0LUNvbnRlbnQgLVJhdyAiJHNjcmlwdERpci8ubXZuL3dyYXBwZXIvbWF2ZW4td3JhcHBlci5wcm9wZXJ0aWVzIiB8IENvbnZlcnRGcm9tLVN0cmluZ0RhdGEpLmRpc3RyaWJ1dGlvblNoYTI1NlN1bQppZiAoJGRpc3RyaWJ1dGlvblNoYTI1NlN1bSkgewogIGlmICgkVVNFX01WTkQpIHsKICAgIFdyaXRlLUVycm9yICJDaGVja3N1bSB2YWxpZGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG1hdmVuLW12bmQuIGBuUGxlYXNlIGRpc2FibGUgdmFsaWRhdGlvbiBieSByZW1vdmluZyAnZGlzdHJpYnV0aW9uU2hhMjU2U3VtJyBmcm9tIHlvdXIgbWF2ZW4td3JhcHBlci5wcm9wZXJ0aWVzLiIKICB9CiAgSW1wb3J0LU1vZHVsZSAkUFNIT01FXE1vZHVsZXNcTWljcm9zb2Z0LlBvd2VyU2hlbGwuVXRpbGl0eSAtRnVuY3Rpb24gR2V0LUZpbGVIYXNoCiAgaWYgKChHZXQtRmlsZUhhc2ggIiRUTVBfRE9XTkxPQURfRElSLyRkaXN0cmlidXRpb25VcmxOYW1lIiAtQWxnb3JpdGhtIFNIQTI1NikuSGFzaC5Ub0xvd2VyKCkgLW5lICRkaXN0cmlidXRpb25TaGEyNTZTdW0pIHsKICAgIFdyaXRlLUVycm9yICJFcnJvcjogRmFpbGVkIHRvIHZhbGlkYXRlIE1hdmVuIGRpc3RyaWJ1dGlvbiBTSEEtMjU2LCB5b3VyIE1hdmVuIGRpc3RyaWJ1dGlvbiBtaWdodCBiZSBjb21wcm9taXNlZC4gSWYgeW91IHVwZGF0ZWQgeW91ciBNYXZlbiB2ZXJzaW9uLCB5b3UgbmVlZCB0byB1cGRhdGUgdGhlIHNwZWNpZmllZCBkaXN0cmlidXRpb25TaGEyNTZTdW0gcHJvcGVydHkuIgogIH0KfQoKIyB1bnppcCBhbmQgbW92ZQpFeHBhbmQtQXJjaGl2ZSAiJFRNUF9ET1dOTE9BRF9ESVIvJGRpc3RyaWJ1dGlvblVybE5hbWUiIC1EZXN0aW5hdGlvblBhdGggIiRUTVBfRE9XTkxPQURfRElSIiB8IE91dC1OdWxsCgojIEZpbmQgdGhlIGFjdHVhbCBleHRyYWN0ZWQgZGlyZWN0b3J5IG5hbWUgKGhhbmRsZXMgc25hcHNob3RzIHdoZXJlIGZpbGVuYW1lICE9IGRpcmVjdG9yeSBuYW1lKQokYWN0dWFsRGlzdHJpYnV0aW9uRGlyID0gIiIKCiMgRmlyc3QgdHJ5IHRoZSBleHBlY3RlZCBkaXJlY3RvcnkgbmFtZSAoZm9yIHJlZ3VsYXIgZGlzdHJpYnV0aW9ucykKJGV4cGVjdGVkUGF0aCA9IEpvaW4tUGF0aCAiJFRNUF9ET1dOTE9BRF9ESVIiICIkZGlzdHJpYnV0aW9uVXJsTmFtZU1haW4iCiRleHBlY3RlZE12blBhdGggPSBKb2luLVBhdGggIiRleHBlY3RlZFBhdGgiICJiaW4vJE1WTl9DTUQiCmlmICgoVGVzdC1QYXRoIC1QYXRoICRleHBlY3RlZFBhdGggLVBhdGhUeXBlIENvbnRhaW5lcikgLWFuZCAoVGVzdC1QYXRoIC1QYXRoICRleHBlY3RlZE12blBhdGggLVBhdGhUeXBlIExlYWYpKSB7CiAgJGFjdHVhbERpc3RyaWJ1dGlvbkRpciA9ICRkaXN0cmlidXRpb25VcmxOYW1lTWFpbgp9CgojIElmIG5vdCBmb3VuZCwgc2VhcmNoIGZvciBhbnkgZGlyZWN0b3J5IHdpdGggdGhlIE1hdmVuIGV4ZWN1dGFibGUgKGZvciBzbmFwc2hvdHMpCmlmICghJGFjdHVhbERpc3RyaWJ1dGlvbkRpcikgewogIEdldC1DaGlsZEl0ZW0gLVBhdGggIiRUTVBfRE9XTkxPQURfRElSIiAtRGlyZWN0b3J5IHwgRm9yRWFjaC1PYmplY3QgewogICAgJHRlc3RQYXRoID0gSm9pbi1QYXRoICRfLkZ1bGxOYW1lICJiaW4vJE1WTl9DTUQiCiAgICBpZiAoVGVzdC1QYXRoIC1QYXRoICR0ZXN0UGF0aCAtUGF0aFR5cGUgTGVhZikgewogICAgICAkYWN0dWFsRGlzdHJpYnV0aW9uRGlyID0gJF8uTmFtZQogICAgfQogIH0KfQoKaWYgKCEkYWN0dWFsRGlzdHJpYnV0aW9uRGlyKSB7CiAgV3JpdGUtRXJyb3IgIkNvdWxkIG5vdCBmaW5kIE1hdmVuIGRpc3RyaWJ1dGlvbiBkaXJlY3RvcnkgaW4gZXh0cmFjdGVkIGFyY2hpdmUiCn0KCldyaXRlLVZlcmJvc2UgIkZvdW5kIGV4dHJhY3RlZCBNYXZlbiBkaXN0cmlidXRpb24gZGlyZWN0b3J5OiAkYWN0dWFsRGlzdHJpYnV0aW9uRGlyIgpSZW5hbWUtSXRlbSAtUGF0aCAiJFRNUF9ET1dOTE9BRF9ESVIvJGFjdHVhbERpc3RyaWJ1dGlvbkRpciIgLU5ld05hbWUgJE1BVkVOX0hPTUVfTkFNRSB8IE91dC1OdWxsCnRyeSB7CiAgTW92ZS1JdGVtIC1QYXRoICIkVE1QX0RPV05MT0FEX0RJUi8kTUFWRU5fSE9NRV9OQU1FIiAtRGVzdGluYXRpb24gJE1BVkVOX0hPTUVfUEFSRU5UIHwgT3V0LU51bGwKfSBjYXRjaCB7CiAgaWYgKCEgKFRlc3QtUGF0aCAtUGF0aCAiJE1BVkVOX0hPTUUiIC1QYXRoVHlwZSBDb250YWluZXIpKSB7CiAgICBXcml0ZS1FcnJvciAiZmFpbCB0byBtb3ZlIE1BVkVOX0hPTUUiCiAgfQp9IGZpbmFsbHkgewogIHRyeSB7IFJlbW92ZS1JdGVtICRUTVBfRE9XTkxPQURfRElSIC1SZWN1cnNlIC1Gb3JjZSB8IE91dC1OdWxsIH0KICBjYXRjaCB7IFdyaXRlLVdhcm5pbmcgIkNhbm5vdCByZW1vdmUgJFRNUF9ET1dOTE9BRF9ESVIiIH0KfQoKV3JpdGUtT3V0cHV0ICJNVk5fQ01EPSRNQVZFTl9IT01FL2Jpbi8kTVZOX0NNRCIK",
        "pom.xml": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHByb2plY3QgeG1sbnM9Imh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL1BPTS80LjAuMCIgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIKCXhzaTpzY2hlbWFMb2NhdGlvbj0iaHR0cDovL21hdmVuLmFwYWNoZS5vcmcvUE9NLzQuMC4wIGh0dHBzOi8vbWF2ZW4uYXBhY2hlLm9yZy94c2QvbWF2ZW4tNC4wLjAueHNkIj4KCTxtb2RlbFZlcnNpb24+NC4wLjA8L21vZGVsVmVyc2lvbj4KCTxwYXJlbnQ+CgkJPGdyb3VwSWQ+b3JnLnNwcmluZ2ZyYW1ld29yay5ib290PC9ncm91cElkPgoJCTxhcnRpZmFjdElkPnNwcmluZy1ib290LXN0YXJ0ZXItcGFyZW50PC9hcnRpZmFjdElkPgoJCTx2ZXJzaW9uPjMuMi4xPC92ZXJzaW9uPgoJCTxyZWxhdGl2ZVBhdGgvPiA8IS0tIGxvb2t1cCBwYXJlbnQgZnJvbSByZXBvc2l0b3J5IC0tPgoJPC9wYXJlbnQ+Cgk8Z3JvdXBJZD5jb20uZXhhbXBsZTwvZ3JvdXBJZD4KCTxhcnRpZmFjdElkPmRlbW88L2FydGlmYWN0SWQ+Cgk8dmVyc2lvbj4wLjAuMS1TTkFQU0hPVDwvdmVyc2lvbj4KCTxuYW1lPmRlbW88L25hbWU+Cgk8ZGVzY3JpcHRpb24+RGVtbyBwcm9qZWN0IGZvciBTcHJpbmcgQm9vdDwvZGVzY3JpcHRpb24+Cgk8dXJsLz4KCTxsaWNlbnNlcz4KCQk8bGljZW5zZS8+Cgk8L2xpY2Vuc2VzPgoJPGRldmVsb3BlcnM+CgkJPGRldmVsb3Blci8+Cgk8L2RldmVsb3BlcnM+Cgk8c2NtPgoJCTxjb25uZWN0aW9uLz4KCQk8ZGV2ZWxvcGVyQ29ubmVjdGlvbi8+CgkJPHRhZy8+CgkJPHVybC8+Cgk8L3NjbT4KCTxwcm9wZXJ0aWVzPgoJCTxqYXZhLnZlcnNpb24+MTc8L2phdmEudmVyc2lvbj4KCTwvcHJvcGVydGllcz4KCTxkZXBlbmRlbmNpZXM+CgkJPGRlcGVuZGVuY3k+CgkJCTxncm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdDwvZ3JvdXBJZD4KCQkJPGFydGlmYWN0SWQ+c3ByaW5nLWJvb3Qtc3RhcnRlci1kYXRhLWpwYTwvYXJ0aWZhY3RJZD4KCQk8L2RlcGVuZGVuY3k+CgkJPGRlcGVuZGVuY3k+CgkJCTxncm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdDwvZ3JvdXBJZD4KCQkJPGFydGlmYWN0SWQ+c3ByaW5nLWJvb3Qtc3RhcnRlci1zZWN1cml0eTwvYXJ0aWZhY3RJZD4KCQk8L2RlcGVuZGVuY3k+CgkJPGRlcGVuZGVuY3k+CgkJCTxncm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdDwvZ3JvdXBJZD4KCQkJPGFydGlmYWN0SWQ+c3ByaW5nLWJvb3Qtc3RhcnRlci13ZWI8L2FydGlmYWN0SWQ+CgkJPC9kZXBlbmRlbmN5PgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CgkJCTxhcnRpZmFjdElkPnNwcmluZy1ib290LXN0YXJ0ZXItdmFsaWRhdGlvbjwvYXJ0aWZhY3RJZD4KCQk8L2RlcGVuZGVuY3k+CgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5jb20ubXlzcWw8L2dyb3VwSWQ+CgkJCTxhcnRpZmFjdElkPm15c3FsLWNvbm5lY3Rvci1qPC9hcnRpZmFjdElkPgoJCQk8c2NvcGU+cnVudGltZTwvc2NvcGU+CgkJPC9kZXBlbmRlbmN5PgoJCQoJCTwhLS0gSldUIC0tPgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5pby5qc29ud2VidG9rZW48L2dyb3VwSWQ+CgkJCTxhcnRpZmFjdElkPmpqd3QtYXBpPC9hcnRpZmFjdElkPgoJCQk8dmVyc2lvbj4wLjExLjU8L3ZlcnNpb24+CgkJPC9kZXBlbmRlbmN5PgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5pby5qc29ud2VidG9rZW48L2dyb3VwSWQ+CgkJCTxhcnRpZmFjdElkPmpqd3QtaW1wbDwvYXJ0aWZhY3RJZD4KCQkJPHZlcnNpb24+MC4xMS41PC92ZXJzaW9uPgoJCQk8c2NvcGU+cnVudGltZTwvc2NvcGU+CgkJPC9kZXBlbmRlbmN5PgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5pby5qc29ud2VidG9rZW48L2dyb3VwSWQ+CgkJCTxhcnRpZmFjdElkPmpqd3QtamFja3NvbjwvYXJ0aWZhY3RJZD4KCQkJPHZlcnNpb24+MC4xMS41PC92ZXJzaW9uPgoJCQk8c2NvcGU+cnVudGltZTwvc2NvcGU+CgkJPC9kZXBlbmRlbmN5PgoKCQk8ZGVwZW5kZW5jeT4KCQkJPGdyb3VwSWQ+b3JnLnNwcmluZ2ZyYW1ld29yay5ib290PC9ncm91cElkPgoJCQk8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLXRvbWNhdDwvYXJ0aWZhY3RJZD4KCQk8L2RlcGVuZGVuY3k+CgkJPGRlcGVuZGVuY3k+CgkJCTxncm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdDwvZ3JvdXBJZD4KCQkJPGFydGlmYWN0SWQ+c3ByaW5nLWJvb3Qtc3RhcnRlci10ZXN0PC9hcnRpZmFjdElkPgoJCQk8c2NvcGU+dGVzdDwvc2NvcGU+CgkJPC9kZXBlbmRlbmN5PgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5PC9ncm91cElkPgoJCQk8YXJ0aWZhY3RJZD5zcHJpbmctc2VjdXJpdHktdGVzdDwvYXJ0aWZhY3RJZD4KCQkJPHNjb3BlPnRlc3Q8L3Njb3BlPgoJCTwvZGVwZW5kZW5jeT4KCQk8IS0tIFRlc3RORyBEZXBlbmRlbmN5IC0tPgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5vcmcudGVzdG5nPC9ncm91cElkPgoJCQk8YXJ0aWZhY3RJZD50ZXN0bmc8L2FydGlmYWN0SWQ+CgkJCTx2ZXJzaW9uPjcuNy4wPC92ZXJzaW9uPgoJCQk8c2NvcGU+dGVzdDwvc2NvcGU+CgkJPC9kZXBlbmRlbmN5PgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5vcmcuc3ByaW5nZG9jPC9ncm91cElkPgoJCQk8YXJ0aWZhY3RJZD5zcHJpbmdkb2Mtb3BlbmFwaS1zdGFydGVyLXdlYm12Yy11aTwvYXJ0aWZhY3RJZD4KCQkJPHZlcnNpb24+Mi4zLjA8L3ZlcnNpb24+CgkJPC9kZXBlbmRlbmN5PgoJPC9kZXBlbmRlbmNpZXM+CgoJPGJ1aWxkPgoJCTxwbHVnaW5zPgoJCQk8cGx1Z2luPgoJCQkJPGdyb3VwSWQ+b3JnLnNwcmluZ2ZyYW1ld29yay5ib290PC9ncm91cElkPgoJCQkJPGFydGlmYWN0SWQ+c3ByaW5nLWJvb3QtbWF2ZW4tcGx1Z2luPC9hcnRpZmFjdElkPgoJCQk8L3BsdWdpbj4KCQkJPCEtLSBDb25maWd1cmUgTWF2ZW4gU3VyZWZpcmUgUGx1Z2luIHRvIHVzZSBUZXN0TkcgLS0+CgkJCTxwbHVnaW4+CgkJCQk8Z3JvdXBJZD5vcmcuYXBhY2hlLm1hdmVuLnBsdWdpbnM8L2dyb3VwSWQ+CgkJCQk8YXJ0aWZhY3RJZD5tYXZlbi1zdXJlZmlyZS1wbHVnaW48L2FydGlmYWN0SWQ+CgkJCQk8dmVyc2lvbj4zLjEuMjwvdmVyc2lvbj4KCQkJCTxjb25maWd1cmF0aW9uPgoJCQkJCTxhcmdMaW5lPi1EbmV0LmJ5dGVidWRkeS5leHBlcmltZW50YWw9dHJ1ZTwvYXJnTGluZT4KCQkJCTwvY29uZmlndXJhdGlvbj4KCQkJCTxkZXBlbmRlbmNpZXM+CgkJCQkJPGRlcGVuZGVuY3k+CgkJCQkJCTxncm91cElkPm9yZy5hcGFjaGUubWF2ZW4uc3VyZWZpcmU8L2dyb3VwSWQ+CgkJCQkJCTxhcnRpZmFjdElkPnN1cmVmaXJlLXRlc3RuZzwvYXJ0aWZhY3RJZD4KCQkJCQkJPHZlcnNpb24+My4xLjI8L3ZlcnNpb24+CgkJCQkJPC9kZXBlbmRlbmN5PgoJCQkJPC9kZXBlbmRlbmNpZXM+CgkJCTwvcGx1Z2luPgoJCTwvcGx1Z2lucz4KCTwvYnVpbGQ+Cgo8L3Byb2plY3Q+",
        ".mvn/wrapper/maven-wrapper.properties": "d3JhcHBlclZlcnNpb249My4zLjQKZGlzdHJpYnV0aW9uVHlwZT1vbmx5LXNjcmlwdApkaXN0cmlidXRpb25Vcmw9aHR0cHM6Ly9yZXBvLm1hdmVuLmFwYWNoZS5vcmcvbWF2ZW4yL29yZy9hcGFjaGUvbWF2ZW4vYXBhY2hlLW1hdmVuLzMuOS4xMi9hcGFjaGUtbWF2ZW4tMy45LjEyLWJpbi56aXAK",
        "setup_project.sh": "IyEvYmluL2Jhc2gKCiMgQ3JlYXRlIG5lY2Vzc2FyeSBkaXJlY3Rvcmllcwpta2RpciAtcCBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8KbWtkaXIgLXAgc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL2NvbmZpZwpta2RpciAtcCBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vY29udHJvbGxlcgpta2RpciAtcCBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vZHRvCm1rZGlyIC1wIHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9leGNlcHRpb24KbWtkaXIgLXAgc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL21vZGVsCm1rZGlyIC1wIHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9yZXBvc2l0b3J5Cm1rZGlyIC1wIHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9zZWN1cml0eQpta2RpciAtcCBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vc2VydmljZQpta2RpciAtcCBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vc2VydmljZS9pbXBsCm1rZGlyIC1wIHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9zZXJ2bGV0Cm1rZGlyIC1wIHNyYy9tYWluL3Jlc291cmNlcwoKIyBXcml0ZSBmaWxlcwpjYXQgPDwgJ0VPRicgPiBwb20ueG1sCjw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+Cjxwcm9qZWN0IHhtbG5zPSJodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy9QT00vNC4wLjAiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiCgl4c2k6c2NoZW1hTG9jYXRpb249Imh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL1BPTS80LjAuMCBodHRwczovL21hdmVuLmFwYWNoZS5vcmcveHNkL21hdmVuLTQuMC4wLnhzZCI+Cgk8bW9kZWxWZXJzaW9uPjQuMC4wPC9tb2RlbFZlcnNpb24+Cgk8cGFyZW50PgoJCTxncm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdDwvZ3JvdXBJZD4KCQk8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLXBhcmVudDwvYXJ0aWZhY3RJZD4KCQk8dmVyc2lvbj4zLjIuMTwvdmVyc2lvbj4KCQk8cmVsYXRpdmVQYXRoLz4gPCEtLSBsb29rdXAgcGFyZW50IGZyb20gcmVwb3NpdG9yeSAtLT4KCTwvcGFyZW50PgoJPGdyb3VwSWQ+Y29tLmV4YW1wbGU8L2dyb3VwSWQ+Cgk8YXJ0aWZhY3RJZD5kZW1vPC9hcnRpZmFjdElkPgoJPHZlcnNpb24+MC4wLjEtU05BUFNIT1Q8L3ZlcnNpb24+Cgk8bmFtZT5kZW1vPC9uYW1lPgoJPGRlc2NyaXB0aW9uPkRlbW8gcHJvamVjdCBmb3IgU3ByaW5nIEJvb3Q8L2Rlc2NyaXB0aW9uPgoJPHVybC8+Cgk8bGljZW5zZXM+CgkJPGxpY2Vuc2UvPgoJPC9saWNlbnNlcz4KCTxkZXZlbG9wZXJzPgoJCTxkZXZlbG9wZXIvPgoJPC9kZXZlbG9wZXJzPgoJPHNjbT4KCQk8Y29ubmVjdGlvbi8+CgkJPGRldmVsb3BlckNvbm5lY3Rpb24vPgoJCTx0YWcvPgoJCTx1cmwvPgoJPC9zY20+Cgk8cHJvcGVydGllcz4KCQk8amF2YS52ZXJzaW9uPjE3PC9qYXZhLnZlcnNpb24+Cgk8L3Byb3BlcnRpZXM+Cgk8ZGVwZW5kZW5jaWVzPgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CgkJCTxhcnRpZmFjdElkPnNwcmluZy1ib290LXN0YXJ0ZXItZGF0YS1qcGE8L2FydGlmYWN0SWQ+CgkJPC9kZXBlbmRlbmN5PgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CgkJCTxhcnRpZmFjdElkPnNwcmluZy1ib290LXN0YXJ0ZXItc2VjdXJpdHk8L2FydGlmYWN0SWQ+CgkJPC9kZXBlbmRlbmN5PgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CgkJCTxhcnRpZmFjdElkPnNwcmluZy1ib290LXN0YXJ0ZXItd2ViPC9hcnRpZmFjdElkPgoJCTwvZGVwZW5kZW5jeT4KCQk8ZGVwZW5kZW5jeT4KCQkJPGdyb3VwSWQ+b3JnLnNwcmluZ2ZyYW1ld29yay5ib290PC9ncm91cElkPgoJCQk8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLXZhbGlkYXRpb248L2FydGlmYWN0SWQ+CgkJPC9kZXBlbmRlbmN5PgoKCQk8ZGVwZW5kZW5jeT4KCQkJPGdyb3VwSWQ+Y29tLm15c3FsPC9ncm91cElkPgoJCQk8YXJ0aWZhY3RJZD5teXNxbC1jb25uZWN0b3ItajwvYXJ0aWZhY3RJZD4KCQkJPHNjb3BlPnJ1bnRpbWU8L3Njb3BlPgoJCTwvZGVwZW5kZW5jeT4KCQkKCQk8IS0tIEpXVCAtLT4KCQk8ZGVwZW5kZW5jeT4KCQkJPGdyb3VwSWQ+aW8uanNvbndlYnRva2VuPC9ncm91cElkPgoJCQk8YXJ0aWZhY3RJZD5qand0LWFwaTwvYXJ0aWZhY3RJZD4KCQkJPHZlcnNpb24+MC4xMS41PC92ZXJzaW9uPgoJCTwvZGVwZW5kZW5jeT4KCQk8ZGVwZW5kZW5jeT4KCQkJPGdyb3VwSWQ+aW8uanNvbndlYnRva2VuPC9ncm91cElkPgoJCQk8YXJ0aWZhY3RJZD5qand0LWltcGw8L2FydGlmYWN0SWQ+CgkJCTx2ZXJzaW9uPjAuMTEuNTwvdmVyc2lvbj4KCQkJPHNjb3BlPnJ1bnRpbWU8L3Njb3BlPgoJCTwvZGVwZW5kZW5jeT4KCQk8ZGVwZW5kZW5jeT4KCQkJPGdyb3VwSWQ+aW8uanNvbndlYnRva2VuPC9ncm91cElkPgoJCQk8YXJ0aWZhY3RJZD5qand0LWphY2tzb248L2FydGlmYWN0SWQ+CgkJCTx2ZXJzaW9uPjAuMTEuNTwvdmVyc2lvbj4KCQkJPHNjb3BlPnJ1bnRpbWU8L3Njb3BlPgoJCTwvZGVwZW5kZW5jeT4KCgkJPGRlcGVuZGVuY3k+CgkJCTxncm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdDwvZ3JvdXBJZD4KCQkJPGFydGlmYWN0SWQ+c3ByaW5nLWJvb3Qtc3RhcnRlci10b21jYXQ8L2FydGlmYWN0SWQ+CgkJPC9kZXBlbmRlbmN5PgoJCTxkZXBlbmRlbmN5PgoJCQk8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CgkJCTxhcnRpZmFjdElkPnNwcmluZy1ib290LXN0YXJ0ZXItdGVzdDwvYXJ0aWZhY3RJZD4KCQkJPHNjb3BlPnRlc3Q8L3Njb3BlPgoJCTwvZGVwZW5kZW5jeT4KCQk8ZGVwZW5kZW5jeT4KCQkJPGdyb3VwSWQ+b3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eTwvZ3JvdXBJZD4KCQkJPGFydGlmYWN0SWQ+c3ByaW5nLXNlY3VyaXR5LXRlc3Q8L2FydGlmYWN0SWQ+CgkJCTxzY29wZT50ZXN0PC9zY29wZT4KCQk8L2RlcGVuZGVuY3k+CgkJPGRlcGVuZGVuY3k+CgkJCTxncm91cElkPm9yZy5zcHJpbmdkb2M8L2dyb3VwSWQ+CgkJCTxhcnRpZmFjdElkPnNwcmluZ2RvYy1vcGVuYXBpLXN0YXJ0ZXItd2VibXZjLXVpPC9hcnRpZmFjdElkPgoJCQk8dmVyc2lvbj4yLjMuMDwvdmVyc2lvbj4KCQk8L2RlcGVuZGVuY3k+Cgk8L2RlcGVuZGVuY2llcz4KCgk8YnVpbGQ+CgkJPHBsdWdpbnM+CgkJCTxwbHVnaW4+CgkJCQk8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CgkJCQk8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1tYXZlbi1wbHVnaW48L2FydGlmYWN0SWQ+CgkJCTwvcGx1Z2luPgoJCTwvcGx1Z2lucz4KCTwvYnVpbGQ+Cgo8L3Byb2plY3Q+CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vcmVzb3VyY2VzL2FwcGxpY2F0aW9uLnByb3BlcnRpZXMKc3ByaW5nLmFwcGxpY2F0aW9uLm5hbWU9ZGVtbwoKc3ByaW5nLmRhdGFzb3VyY2UudXJsPWpkYmM6bXlzcWw6Ly9sb2NhbGhvc3Q6MzMwNi9kZW1vX2RiP2NyZWF0ZURhdGFiYXNlSWZOb3RFeGlzdD10cnVlJnVzZVNTTD1mYWxzZQpzcHJpbmcuZGF0YXNvdXJjZS51c2VybmFtZT1yb290CnNwcmluZy5kYXRhc291cmNlLnBhc3N3b3JkPWhlbGxvCnNwcmluZy5kYXRhc291cmNlLmRyaXZlci1jbGFzcy1uYW1lPWNvbS5teXNxbC5jai5qZGJjLkRyaXZlcgoKc3ByaW5nLmpwYS5oaWJlcm5hdGUuZGRsLWF1dG89dXBkYXRlCnNwcmluZy5qcGEuc2hvdy1zcWw9dHJ1ZQpzcHJpbmcuanBhLnByb3BlcnRpZXMuaGliZXJuYXRlLmRpYWxlY3Q9b3JnLmhpYmVybmF0ZS5kaWFsZWN0Lk15U1FMRGlhbGVjdAoKIyBKV1QKYXBwLmp3dFNlY3JldD1TZWNyZXRLZXlUb0dlbkpXVHNTZWNyZXRLZXlUb0dlbkpXVHNTZWNyZXRLZXlUb0dlbkpXVHMKYXBwLmp3dEV4cGlyYXRpb25Jbk1zPTYwNDgwMDAwMAoKc3ByaW5nZG9jLmFwaS1kb2NzLnBhdGg9L3YzL2FwaS1kb2NzCnNwcmluZ2RvYy5zd2FnZ2VyLXVpLnBhdGg9L3N3YWdnZXItdWkuaHRtbApFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9tb2RlbC9Vc2VyLmphdmEKcGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLm1vZGVsOwoKaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKQEVudGl0eQpAVGFibGUobmFtZSA9ICJ1c2VycyIpCnB1YmxpYyBjbGFzcyBVc2VyIHsKCiAgICBASWQKICAgIEBHZW5lcmF0ZWRWYWx1ZShzdHJhdGVneSA9IEdlbmVyYXRpb25UeXBlLklERU5USVRZKQogICAgcHJpdmF0ZSBMb25nIGlkOwoKICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7CgogICAgQENvbHVtbih1bmlxdWUgPSB0cnVlKQogICAgcHJpdmF0ZSBTdHJpbmcgZW1haWw7CgogICAgcHJpdmF0ZSBTdHJpbmcgcGFzc3dvcmQ7CgogICAgcHJpdmF0ZSBTdHJpbmcgcm9sZTsgLy8gIlVTRVIiIG9yICJBRE1JTiIKCiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gInVzZXIiKQogICAgcHJpdmF0ZSBMaXN0PFRyYW5zYWN0aW9uTG9nPiB0cmFuc2FjdGlvbkxvZ3M7CgogICAgQE9uZVRvTWFueShtYXBwZWRCeSA9ICJ1c2VyIikKICAgIHByaXZhdGUgTGlzdDxCdWRnZXRQbGFuPiBidWRnZXRQbGFuczsKCiAgICBwdWJsaWMgVXNlcigpIHsKICAgIH0KCiAgICBwdWJsaWMgVXNlcihMb25nIGlkLCBTdHJpbmcgbmFtZSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyByb2xlKSB7CiAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsOwogICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDsKICAgICAgICB0aGlzLnJvbGUgPSByb2xlOwogICAgfQoKICAgIHB1YmxpYyBMb25nIGdldElkKCkgewogICAgICAgIHJldHVybiBpZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJZChMb25nIGlkKSB7CiAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsKICAgICAgICByZXR1cm4gbmFtZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXROYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEVtYWlsKCkgewogICAgICAgIHJldHVybiBlbWFpbDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRFbWFpbChTdHJpbmcgZW1haWwpIHsKICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHsKICAgICAgICByZXR1cm4gcGFzc3dvcmQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UGFzc3dvcmQoU3RyaW5nIHBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Um9sZSgpIHsKICAgICAgICByZXR1cm4gcm9sZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRSb2xlKFN0cmluZyByb2xlKSB7CiAgICAgICAgdGhpcy5yb2xlID0gcm9sZTsKICAgIH0KCiAgICBwdWJsaWMgTGlzdDxUcmFuc2FjdGlvbkxvZz4gZ2V0VHJhbnNhY3Rpb25Mb2dzKCkgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkxvZ3M7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VHJhbnNhY3Rpb25Mb2dzKExpc3Q8VHJhbnNhY3Rpb25Mb2c+IHRyYW5zYWN0aW9uTG9ncykgewogICAgICAgIHRoaXMudHJhbnNhY3Rpb25Mb2dzID0gdHJhbnNhY3Rpb25Mb2dzOwogICAgfQoKICAgIHB1YmxpYyBMaXN0PEJ1ZGdldFBsYW4+IGdldEJ1ZGdldFBsYW5zKCkgewogICAgICAgIHJldHVybiBidWRnZXRQbGFuczsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRCdWRnZXRQbGFucyhMaXN0PEJ1ZGdldFBsYW4+IGJ1ZGdldFBsYW5zKSB7CiAgICAgICAgdGhpcy5idWRnZXRQbGFucyA9IGJ1ZGdldFBsYW5zOwogICAgfQp9CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL21vZGVsL0NhdGVnb3J5LmphdmEKcGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLm1vZGVsOwoKaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKQEVudGl0eQpAVGFibGUobmFtZSA9ICJjYXRlZ29yaWVzIikKcHVibGljIGNsYXNzIENhdGVnb3J5IHsKCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBUWVBFX0lOQ09NRSA9ICJJTkNPTUUiOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgVFlQRV9FWFBFTlNFID0gIkVYUEVOU0UiOwoKICAgIEBJZAogICAgQEdlbmVyYXRlZFZhbHVlKHN0cmF0ZWd5ID0gR2VuZXJhdGlvblR5cGUuSURFTlRJVFkpCiAgICBwcml2YXRlIExvbmcgaWQ7CgogICAgQENvbHVtbih1bmlxdWUgPSB0cnVlKQogICAgcHJpdmF0ZSBTdHJpbmcgbmFtZTsKCiAgICBwcml2YXRlIFN0cmluZyB0eXBlOwoKICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSAiY2F0ZWdvcnkiKQogICAgcHJpdmF0ZSBMaXN0PFRyYW5zYWN0aW9uTG9nPiB0cmFuc2FjdGlvbkxvZ3M7CgogICAgcHVibGljIENhdGVnb3J5KCkgewogICAgfQoKICAgIHB1YmxpYyBDYXRlZ29yeShMb25nIGlkLCBTdHJpbmcgbmFtZSwgU3RyaW5nIHR5cGUpIHsKICAgICAgICB0aGlzLmlkID0gaWQ7CiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgICB0aGlzLnR5cGUgPSB0eXBlOwogICAgfQoKICAgIHB1YmxpYyBMb25nIGdldElkKCkgewogICAgICAgIHJldHVybiBpZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJZChMb25nIGlkKSB7CiAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsKICAgICAgICByZXR1cm4gbmFtZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXROYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFR5cGUoKSB7CiAgICAgICAgcmV0dXJuIHR5cGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VHlwZShTdHJpbmcgdHlwZSkgewogICAgICAgIHRoaXMudHlwZSA9IHR5cGU7CiAgICB9CgogICAgcHVibGljIExpc3Q8VHJhbnNhY3Rpb25Mb2c+IGdldFRyYW5zYWN0aW9uTG9ncygpIHsKICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25Mb2dzOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRyYW5zYWN0aW9uTG9ncyhMaXN0PFRyYW5zYWN0aW9uTG9nPiB0cmFuc2FjdGlvbkxvZ3MpIHsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uTG9ncyA9IHRyYW5zYWN0aW9uTG9nczsKICAgIH0KfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9tb2RlbC9UcmFuc2FjdGlvbkxvZy5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5tb2RlbDsKCmltcG9ydCBqYWthcnRhLnBlcnNpc3RlbmNlLio7CmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlOwoKQEVudGl0eQpAVGFibGUobmFtZSA9ICJ0cmFuc2FjdGlvbl9sb2dzIikKcHVibGljIGNsYXNzIFRyYW5zYWN0aW9uTG9nIHsKCiAgICBASWQKICAgIEBHZW5lcmF0ZWRWYWx1ZShzdHJhdGVneSA9IEdlbmVyYXRpb25UeXBlLklERU5USVRZKQogICAgcHJpdmF0ZSBMb25nIGlkOwoKICAgIEBNYW55VG9PbmUKICAgIEBKb2luQ29sdW1uKG5hbWUgPSAidXNlcl9pZCIpCiAgICBwcml2YXRlIFVzZXIgdXNlcjsKCiAgICBATWFueVRvT25lCiAgICBASm9pbkNvbHVtbihuYW1lID0gImNhdGVnb3J5X2lkIikKICAgIHByaXZhdGUgQ2F0ZWdvcnkgY2F0ZWdvcnk7CgogICAgcHJpdmF0ZSBEb3VibGUgYW1vdW50OwoKICAgIHByaXZhdGUgU3RyaW5nIGRlc2NyaXB0aW9uOwoKICAgIHByaXZhdGUgTG9jYWxEYXRlIHRyYW5zYWN0aW9uRGF0ZTsKCiAgICBwdWJsaWMgVHJhbnNhY3Rpb25Mb2coKSB7CiAgICB9CgogICAgcHVibGljIFRyYW5zYWN0aW9uTG9nKExvbmcgaWQsIFVzZXIgdXNlciwgQ2F0ZWdvcnkgY2F0ZWdvcnksIERvdWJsZSBhbW91bnQsIFN0cmluZyBkZXNjcmlwdGlvbiwgTG9jYWxEYXRlIHRyYW5zYWN0aW9uRGF0ZSkgewogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgICAgICB0aGlzLnVzZXIgPSB1c2VyOwogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBjYXRlZ29yeTsKICAgICAgICB0aGlzLmFtb3VudCA9IGFtb3VudDsKICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247CiAgICAgICAgdGhpcy50cmFuc2FjdGlvbkRhdGUgPSB0cmFuc2FjdGlvbkRhdGU7CiAgICB9CgogICAgcHVibGljIExvbmcgZ2V0SWQoKSB7CiAgICAgICAgcmV0dXJuIGlkOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldElkKExvbmcgaWQpIHsKICAgICAgICB0aGlzLmlkID0gaWQ7CiAgICB9CgogICAgcHVibGljIFVzZXIgZ2V0VXNlcigpIHsKICAgICAgICByZXR1cm4gdXNlcjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRVc2VyKFVzZXIgdXNlcikgewogICAgICAgIHRoaXMudXNlciA9IHVzZXI7CiAgICB9CgogICAgcHVibGljIENhdGVnb3J5IGdldENhdGVnb3J5KCkgewogICAgICAgIHJldHVybiBjYXRlZ29yeTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDYXRlZ29yeShDYXRlZ29yeSBjYXRlZ29yeSkgewogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBjYXRlZ29yeTsKICAgIH0KCiAgICBwdWJsaWMgRG91YmxlIGdldEFtb3VudCgpIHsKICAgICAgICByZXR1cm4gYW1vdW50OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEFtb3VudChEb3VibGUgYW1vdW50KSB7CiAgICAgICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHsKICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RGVzY3JpcHRpb24oU3RyaW5nIGRlc2NyaXB0aW9uKSB7CiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uOwogICAgfQoKICAgIHB1YmxpYyBMb2NhbERhdGUgZ2V0VHJhbnNhY3Rpb25EYXRlKCkgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkRhdGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VHJhbnNhY3Rpb25EYXRlKExvY2FsRGF0ZSB0cmFuc2FjdGlvbkRhdGUpIHsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uRGF0ZSA9IHRyYW5zYWN0aW9uRGF0ZTsKICAgIH0KfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9tb2RlbC9CdWRnZXRQbGFuLmphdmEKcGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLm1vZGVsOwoKaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjsKCkBFbnRpdHkKQFRhYmxlKG5hbWUgPSAiYnVkZ2V0X3BsYW5zIikKcHVibGljIGNsYXNzIEJ1ZGdldFBsYW4gewoKICAgIEBJZAogICAgQEdlbmVyYXRlZFZhbHVlKHN0cmF0ZWd5ID0gR2VuZXJhdGlvblR5cGUuSURFTlRJVFkpCiAgICBwcml2YXRlIExvbmcgaWQ7CgogICAgQE1hbnlUb09uZQogICAgQEpvaW5Db2x1bW4obmFtZSA9ICJ1c2VyX2lkIikKICAgIHByaXZhdGUgVXNlciB1c2VyOwoKICAgIHByaXZhdGUgSW50ZWdlciBtb250aDsKCiAgICBAQ29sdW1uKG5hbWUgPSAiYHllYXJgIikKICAgIHByaXZhdGUgSW50ZWdlciB5ZWFyOwoKICAgIHByaXZhdGUgRG91YmxlIGluY29tZVRhcmdldDsKCiAgICBwcml2YXRlIERvdWJsZSBleHBlbnNlTGltaXQ7CgogICAgQE9uZVRvT25lKG1hcHBlZEJ5ID0gImJ1ZGdldFBsYW4iKQogICAgcHJpdmF0ZSBCdWRnZXRTdW1tYXJ5IGJ1ZGdldFN1bW1hcnk7CgogICAgcHVibGljIEJ1ZGdldFBsYW4oKSB7CiAgICB9CgogICAgcHVibGljIEJ1ZGdldFBsYW4oTG9uZyBpZCwgVXNlciB1c2VyLCBJbnRlZ2VyIG1vbnRoLCBJbnRlZ2VyIHllYXIsIERvdWJsZSBpbmNvbWVUYXJnZXQsIERvdWJsZSBleHBlbnNlTGltaXQpIHsKICAgICAgICB0aGlzLmlkID0gaWQ7CiAgICAgICAgdGhpcy51c2VyID0gdXNlcjsKICAgICAgICB0aGlzLm1vbnRoID0gbW9udGg7CiAgICAgICAgdGhpcy55ZWFyID0geWVhcjsKICAgICAgICB0aGlzLmluY29tZVRhcmdldCA9IGluY29tZVRhcmdldDsKICAgICAgICB0aGlzLmV4cGVuc2VMaW1pdCA9IGV4cGVuc2VMaW1pdDsKICAgIH0KCiAgICBwdWJsaWMgTG9uZyBnZXRJZCgpIHsKICAgICAgICByZXR1cm4gaWQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SWQoTG9uZyBpZCkgewogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgIH0KCiAgICBwdWJsaWMgVXNlciBnZXRVc2VyKCkgewogICAgICAgIHJldHVybiB1c2VyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVzZXIoVXNlciB1c2VyKSB7CiAgICAgICAgdGhpcy51c2VyID0gdXNlcjsKICAgIH0KCiAgICBwdWJsaWMgSW50ZWdlciBnZXRNb250aCgpIHsKICAgICAgICByZXR1cm4gbW9udGg7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TW9udGgoSW50ZWdlciBtb250aCkgewogICAgICAgIHRoaXMubW9udGggPSBtb250aDsKICAgIH0KCiAgICBwdWJsaWMgSW50ZWdlciBnZXRZZWFyKCkgewogICAgICAgIHJldHVybiB5ZWFyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFllYXIoSW50ZWdlciB5ZWFyKSB7CiAgICAgICAgdGhpcy55ZWFyID0geWVhcjsKICAgIH0KCiAgICBwdWJsaWMgRG91YmxlIGdldEluY29tZVRhcmdldCgpIHsKICAgICAgICByZXR1cm4gaW5jb21lVGFyZ2V0OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEluY29tZVRhcmdldChEb3VibGUgaW5jb21lVGFyZ2V0KSB7CiAgICAgICAgdGhpcy5pbmNvbWVUYXJnZXQgPSBpbmNvbWVUYXJnZXQ7CiAgICB9CgogICAgcHVibGljIERvdWJsZSBnZXRFeHBlbnNlTGltaXQoKSB7CiAgICAgICAgcmV0dXJuIGV4cGVuc2VMaW1pdDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRFeHBlbnNlTGltaXQoRG91YmxlIGV4cGVuc2VMaW1pdCkgewogICAgICAgIHRoaXMuZXhwZW5zZUxpbWl0ID0gZXhwZW5zZUxpbWl0OwogICAgfQoKICAgIHB1YmxpYyBCdWRnZXRTdW1tYXJ5IGdldEJ1ZGdldFN1bW1hcnkoKSB7CiAgICAgICAgcmV0dXJuIGJ1ZGdldFN1bW1hcnk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QnVkZ2V0U3VtbWFyeShCdWRnZXRTdW1tYXJ5IGJ1ZGdldFN1bW1hcnkpIHsKICAgICAgICB0aGlzLmJ1ZGdldFN1bW1hcnkgPSBidWRnZXRTdW1tYXJ5OwogICAgfQp9CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL21vZGVsL0J1ZGdldFN1bW1hcnkuamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8ubW9kZWw7CgppbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS4qOwppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7CgpARW50aXR5CkBUYWJsZShuYW1lID0gImJ1ZGdldF9zdW1tYXJpZXMiKQpwdWJsaWMgY2xhc3MgQnVkZ2V0U3VtbWFyeSB7CgogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgU1RBVFVTX1VOREVSX0xJTUlUID0gIlVOREVSX0xJTUlUIjsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIFNUQVRVU19PVkVSX0xJTUlUID0gIk9WRVJfTElNSVQiOwoKICAgIEBJZAogICAgQEdlbmVyYXRlZFZhbHVlKHN0cmF0ZWd5ID0gR2VuZXJhdGlvblR5cGUuSURFTlRJVFkpCiAgICBwcml2YXRlIExvbmcgaWQ7CgogICAgQE9uZVRvT25lCiAgICBASm9pbkNvbHVtbihuYW1lID0gImJ1ZGdldF9wbGFuX2lkIikKICAgIHByaXZhdGUgQnVkZ2V0UGxhbiBidWRnZXRQbGFuOwoKICAgIHByaXZhdGUgRG91YmxlIHRvdGFsSW5jb21lOwoKICAgIHByaXZhdGUgRG91YmxlIHRvdGFsRXhwZW5zZTsKCiAgICBwcml2YXRlIFN0cmluZyBzdGF0dXM7CgogICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIGdlbmVyYXRlZEF0OwoKICAgIHB1YmxpYyBCdWRnZXRTdW1tYXJ5KCkgewogICAgfQoKICAgIHB1YmxpYyBCdWRnZXRTdW1tYXJ5KExvbmcgaWQsIEJ1ZGdldFBsYW4gYnVkZ2V0UGxhbiwgRG91YmxlIHRvdGFsSW5jb21lLCBEb3VibGUgdG90YWxFeHBlbnNlLCBTdHJpbmcgc3RhdHVzLCBMb2NhbERhdGVUaW1lIGdlbmVyYXRlZEF0KSB7CiAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgICAgIHRoaXMuYnVkZ2V0UGxhbiA9IGJ1ZGdldFBsYW47CiAgICAgICAgdGhpcy50b3RhbEluY29tZSA9IHRvdGFsSW5jb21lOwogICAgICAgIHRoaXMudG90YWxFeHBlbnNlID0gdG90YWxFeHBlbnNlOwogICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzOwogICAgICAgIHRoaXMuZ2VuZXJhdGVkQXQgPSBnZW5lcmF0ZWRBdDsKICAgIH0KCiAgICBAUHJlUGVyc2lzdAogICAgcHVibGljIHZvaWQgb25DcmVhdGUoKSB7CiAgICAgICAgaWYgKHRoaXMuZ2VuZXJhdGVkQXQgPT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLmdlbmVyYXRlZEF0ID0gTG9jYWxEYXRlVGltZS5ub3coKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIExvbmcgZ2V0SWQoKSB7CiAgICAgICAgcmV0dXJuIGlkOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldElkKExvbmcgaWQpIHsKICAgICAgICB0aGlzLmlkID0gaWQ7CiAgICB9CgogICAgcHVibGljIEJ1ZGdldFBsYW4gZ2V0QnVkZ2V0UGxhbigpIHsKICAgICAgICByZXR1cm4gYnVkZ2V0UGxhbjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRCdWRnZXRQbGFuKEJ1ZGdldFBsYW4gYnVkZ2V0UGxhbikgewogICAgICAgIHRoaXMuYnVkZ2V0UGxhbiA9IGJ1ZGdldFBsYW47CiAgICB9CgogICAgcHVibGljIERvdWJsZSBnZXRUb3RhbEluY29tZSgpIHsKICAgICAgICByZXR1cm4gdG90YWxJbmNvbWU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VG90YWxJbmNvbWUoRG91YmxlIHRvdGFsSW5jb21lKSB7CiAgICAgICAgdGhpcy50b3RhbEluY29tZSA9IHRvdGFsSW5jb21lOwogICAgfQoKICAgIHB1YmxpYyBEb3VibGUgZ2V0VG90YWxFeHBlbnNlKCkgewogICAgICAgIHJldHVybiB0b3RhbEV4cGVuc2U7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VG90YWxFeHBlbnNlKERvdWJsZSB0b3RhbEV4cGVuc2UpIHsKICAgICAgICB0aGlzLnRvdGFsRXhwZW5zZSA9IHRvdGFsRXhwZW5zZTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFN0YXR1cygpIHsKICAgICAgICByZXR1cm4gc3RhdHVzOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFN0YXR1cyhTdHJpbmcgc3RhdHVzKSB7CiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7CiAgICB9CgogICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0R2VuZXJhdGVkQXQoKSB7CiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZEF0OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEdlbmVyYXRlZEF0KExvY2FsRGF0ZVRpbWUgZ2VuZXJhdGVkQXQpIHsKICAgICAgICB0aGlzLmdlbmVyYXRlZEF0ID0gZ2VuZXJhdGVkQXQ7CiAgICB9Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vcmVwb3NpdG9yeS9Vc2VyUmVwb3NpdG9yeS5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5yZXBvc2l0b3J5OwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVXNlcjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5qcGEucmVwb3NpdG9yeS5KcGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlJlcG9zaXRvcnk7CgpAUmVwb3NpdG9yeQpwdWJsaWMgaW50ZXJmYWNlIFVzZXJSZXBvc2l0b3J5IGV4dGVuZHMgSnBhUmVwb3NpdG9yeTxVc2VyLCBMb25nPiB7CiAgICBib29sZWFuIGV4aXN0c0J5RW1haWwoU3RyaW5nIGVtYWlsKTsKICAgIC8vIE5lZWRlZCBmb3IgQXV0aAogICAgamF2YS51dGlsLk9wdGlvbmFsPFVzZXI+IGZpbmRCeUVtYWlsKFN0cmluZyBlbWFpbCk7Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vcmVwb3NpdG9yeS9DYXRlZ29yeVJlcG9zaXRvcnkuamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8ucmVwb3NpdG9yeTsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLkNhdGVnb3J5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5kYXRhLmpwYS5yZXBvc2l0b3J5LkpwYVJlcG9zaXRvcnk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuUmVwb3NpdG9yeTsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKQFJlcG9zaXRvcnkKcHVibGljIGludGVyZmFjZSBDYXRlZ29yeVJlcG9zaXRvcnkgZXh0ZW5kcyBKcGFSZXBvc2l0b3J5PENhdGVnb3J5LCBMb25nPiB7CiAgICBib29sZWFuIGV4aXN0c0J5TmFtZShTdHJpbmcgbmFtZSk7CiAgICBMaXN0PENhdGVnb3J5PiBmaW5kQWxsKCk7Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vcmVwb3NpdG9yeS9UcmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkuamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8ucmVwb3NpdG9yeTsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLlRyYW5zYWN0aW9uTG9nOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5Vc2VyOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5kYXRhLmpwYS5yZXBvc2l0b3J5LkpwYVJlcG9zaXRvcnk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuUmVwb3NpdG9yeTsKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCkBSZXBvc2l0b3J5CnB1YmxpYyBpbnRlcmZhY2UgVHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5IGV4dGVuZHMgSnBhUmVwb3NpdG9yeTxUcmFuc2FjdGlvbkxvZywgTG9uZz4gewogICAgTGlzdDxUcmFuc2FjdGlvbkxvZz4gZmluZEJ5VXNlcihVc2VyIHVzZXIpOwogICAgTGlzdDxUcmFuc2FjdGlvbkxvZz4gZmluZEJ5VXNlckFuZFRyYW5zYWN0aW9uRGF0ZUJldHdlZW4oVXNlciB1c2VyLCBMb2NhbERhdGUgc3RhcnQsIExvY2FsRGF0ZSBlbmQpOwp9CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL3JlcG9zaXRvcnkvQnVkZ2V0UGxhblJlcG9zaXRvcnkuamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8ucmVwb3NpdG9yeTsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLkJ1ZGdldFBsYW47CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLlVzZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmRhdGEuanBhLnJlcG9zaXRvcnkuSnBhUmVwb3NpdG9yeTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5SZXBvc2l0b3J5OwppbXBvcnQgamF2YS51dGlsLk9wdGlvbmFsOwoKQFJlcG9zaXRvcnkKcHVibGljIGludGVyZmFjZSBCdWRnZXRQbGFuUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8QnVkZ2V0UGxhbiwgTG9uZz4gewogICAgT3B0aW9uYWw8QnVkZ2V0UGxhbj4gZmluZEJ5VXNlckFuZE1vbnRoQW5kWWVhcihVc2VyIHVzZXIsIEludGVnZXIgbW9udGgsIEludGVnZXIgeWVhcik7Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vcmVwb3NpdG9yeS9CdWRnZXRTdW1tYXJ5UmVwb3NpdG9yeS5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5yZXBvc2l0b3J5OwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuQnVkZ2V0UGxhbjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuQnVkZ2V0U3VtbWFyeTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5qcGEucmVwb3NpdG9yeS5KcGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlJlcG9zaXRvcnk7CmltcG9ydCBqYXZhLnV0aWwuT3B0aW9uYWw7CgpAUmVwb3NpdG9yeQpwdWJsaWMgaW50ZXJmYWNlIEJ1ZGdldFN1bW1hcnlSZXBvc2l0b3J5IGV4dGVuZHMgSnBhUmVwb3NpdG9yeTxCdWRnZXRTdW1tYXJ5LCBMb25nPiB7CiAgICBPcHRpb25hbDxCdWRnZXRTdW1tYXJ5PiBmaW5kQnlCdWRnZXRQbGFuKEJ1ZGdldFBsYW4gcGxhbik7Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vZHRvL0xvZ2luUmVxdWVzdC5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5kdG87CgpwdWJsaWMgY2xhc3MgTG9naW5SZXF1ZXN0IHsKICAgIHByaXZhdGUgU3RyaW5nIGVtYWlsOwogICAgcHJpdmF0ZSBTdHJpbmcgcGFzc3dvcmQ7CgogICAgcHVibGljIExvZ2luUmVxdWVzdCgpIHt9CgogICAgcHVibGljIExvZ2luUmVxdWVzdChTdHJpbmcgZW1haWwsIFN0cmluZyBwYXNzd29yZCkgewogICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDsKICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRFbWFpbCgpIHsgcmV0dXJuIGVtYWlsOyB9CiAgICBwdWJsaWMgdm9pZCBzZXRFbWFpbChTdHJpbmcgZW1haWwpIHsgdGhpcy5lbWFpbCA9IGVtYWlsOyB9CgogICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHsgcmV0dXJuIHBhc3N3b3JkOyB9CiAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHsgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkOyB9Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vZHRvL1JlZ2lzdGVyUmVxdWVzdC5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5kdG87CgpwdWJsaWMgY2xhc3MgUmVnaXN0ZXJSZXF1ZXN0IHsKICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7CiAgICBwcml2YXRlIFN0cmluZyBlbWFpbDsKICAgIHByaXZhdGUgU3RyaW5nIHBhc3N3b3JkOwoKICAgIHB1YmxpYyBSZWdpc3RlclJlcXVlc3QoKSB7fQoKICAgIHB1YmxpYyBSZWdpc3RlclJlcXVlc3QoU3RyaW5nIG5hbWUsIFN0cmluZyBlbWFpbCwgU3RyaW5nIHBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7CiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsgcmV0dXJuIG5hbWU7IH0KICAgIHB1YmxpYyB2b2lkIHNldE5hbWUoU3RyaW5nIG5hbWUpIHsgdGhpcy5uYW1lID0gbmFtZTsgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW1haWwoKSB7IHJldHVybiBlbWFpbDsgfQogICAgcHVibGljIHZvaWQgc2V0RW1haWwoU3RyaW5nIGVtYWlsKSB7IHRoaXMuZW1haWwgPSBlbWFpbDsgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGFzc3dvcmQoKSB7IHJldHVybiBwYXNzd29yZDsgfQogICAgcHVibGljIHZvaWQgc2V0UGFzc3dvcmQoU3RyaW5nIHBhc3N3b3JkKSB7IHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDsgfQp9CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL2R0by9BdXRoUmVzcG9uc2UuamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8uZHRvOwoKcHVibGljIGNsYXNzIEF1dGhSZXNwb25zZSB7CiAgICBwcml2YXRlIFN0cmluZyBhY2Nlc3NUb2tlbjsKICAgIHByaXZhdGUgU3RyaW5nIHRva2VuVHlwZSA9ICJCZWFyZXIiOwoKICAgIHB1YmxpYyBBdXRoUmVzcG9uc2UoU3RyaW5nIGFjY2Vzc1Rva2VuKSB7CiAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWNjZXNzVG9rZW4oKSB7IHJldHVybiBhY2Nlc3NUb2tlbjsgfQogICAgcHVibGljIHZvaWQgc2V0QWNjZXNzVG9rZW4oU3RyaW5nIGFjY2Vzc1Rva2VuKSB7IHRoaXMuYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbjsgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0VG9rZW5UeXBlKCkgeyByZXR1cm4gdG9rZW5UeXBlOyB9CiAgICBwdWJsaWMgdm9pZCBzZXRUb2tlblR5cGUoU3RyaW5nIHRva2VuVHlwZSkgeyB0aGlzLnRva2VuVHlwZSA9IHRva2VuVHlwZTsgfQp9CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL2V4Y2VwdGlvbi9CYWRSZXF1ZXN0RXhjZXB0aW9uLmphdmEKcGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmh0dHAuSHR0cFN0YXR1czsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5SZXNwb25zZVN0YXR1czsKCkBSZXNwb25zZVN0YXR1cyhIdHRwU3RhdHVzLkJBRF9SRVFVRVNUKQpwdWJsaWMgY2xhc3MgQmFkUmVxdWVzdEV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24gewogICAgcHVibGljIEJhZFJlcXVlc3RFeGNlcHRpb24oU3RyaW5nIG1lc3NhZ2UpIHsKICAgICAgICBzdXBlcihtZXNzYWdlKTsKICAgIH0KfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9leGNlcHRpb24vQ29uZmxpY3RFeGNlcHRpb24uamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8uZXhjZXB0aW9uOwoKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuaHR0cC5IdHRwU3RhdHVzOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLlJlc3BvbnNlU3RhdHVzOwoKQFJlc3BvbnNlU3RhdHVzKEh0dHBTdGF0dXMuQ09ORkxJQ1QpCnB1YmxpYyBjbGFzcyBDb25mbGljdEV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24gewogICAgcHVibGljIENvbmZsaWN0RXhjZXB0aW9uKFN0cmluZyBtZXNzYWdlKSB7CiAgICAgICAgc3VwZXIobWVzc2FnZSk7CiAgICB9Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vZXhjZXB0aW9uL0dsb2JhbEV4Y2VwdGlvbkhhbmRsZXIuamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8uZXhjZXB0aW9uOwoKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuaHR0cC5IdHRwU3RhdHVzOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5odHRwLlJlc3BvbnNlRW50aXR5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLkNvbnRyb2xsZXJBZHZpY2U7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5iaW5kLmFubm90YXRpb24uRXhjZXB0aW9uSGFuZGxlcjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmNvbnRleHQucmVxdWVzdC5XZWJSZXF1ZXN0OwoKaW1wb3J0IGphdmEudXRpbC5EYXRlOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwoKQENvbnRyb2xsZXJBZHZpY2UKcHVibGljIGNsYXNzIEdsb2JhbEV4Y2VwdGlvbkhhbmRsZXIgewoKICAgIEBFeGNlcHRpb25IYW5kbGVyKEJhZFJlcXVlc3RFeGNlcHRpb24uY2xhc3MpCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8Pz4gaGFuZGxlQmFkUmVxdWVzdEV4Y2VwdGlvbihCYWRSZXF1ZXN0RXhjZXB0aW9uIGV4LCBXZWJSZXF1ZXN0IHJlcXVlc3QpIHsKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IGJvZHkgPSBuZXcgSGFzaE1hcDw+KCk7CiAgICAgICAgYm9keS5wdXQoInRpbWVzdGFtcCIsIG5ldyBEYXRlKCkpOwogICAgICAgIGJvZHkucHV0KCJzdGF0dXMiLCBIdHRwU3RhdHVzLkJBRF9SRVFVRVNULnZhbHVlKCkpOwogICAgICAgIGJvZHkucHV0KCJlcnJvciIsICJCYWQgUmVxdWVzdCIpOwogICAgICAgIGJvZHkucHV0KCJtZXNzYWdlIiwgZXguZ2V0TWVzc2FnZSgpKTsKICAgICAgICBib2R5LnB1dCgicGF0aCIsIHJlcXVlc3QuZ2V0RGVzY3JpcHRpb24oZmFsc2UpKTsKICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlRW50aXR5PD4oYm9keSwgSHR0cFN0YXR1cy5CQURfUkVRVUVTVCk7CiAgICB9CgogICAgQEV4Y2VwdGlvbkhhbmRsZXIoQ29uZmxpY3RFeGNlcHRpb24uY2xhc3MpCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8Pz4gaGFuZGxlQ29uZmxpY3RFeGNlcHRpb24oQ29uZmxpY3RFeGNlcHRpb24gZXgsIFdlYlJlcXVlc3QgcmVxdWVzdCkgewogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gYm9keSA9IG5ldyBIYXNoTWFwPD4oKTsKICAgICAgICBib2R5LnB1dCgidGltZXN0YW1wIiwgbmV3IERhdGUoKSk7CiAgICAgICAgYm9keS5wdXQoInN0YXR1cyIsIEh0dHBTdGF0dXMuQ09ORkxJQ1QudmFsdWUoKSk7CiAgICAgICAgYm9keS5wdXQoImVycm9yIiwgIkNvbmZsaWN0Iik7CiAgICAgICAgYm9keS5wdXQoIm1lc3NhZ2UiLCBleC5nZXRNZXNzYWdlKCkpOwogICAgICAgIGJvZHkucHV0KCJwYXRoIiwgcmVxdWVzdC5nZXREZXNjcmlwdGlvbihmYWxzZSkpOwogICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2VFbnRpdHk8Pihib2R5LCBIdHRwU3RhdHVzLkNPTkZMSUNUKTsKICAgIH0KCiAgICBARXhjZXB0aW9uSGFuZGxlcihFeGNlcHRpb24uY2xhc3MpCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8Pz4gaGFuZGxlR2xvYmFsRXhjZXB0aW9uKEV4Y2VwdGlvbiBleCwgV2ViUmVxdWVzdCByZXF1ZXN0KSB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiBib2R5ID0gbmV3IEhhc2hNYXA8PigpOwogICAgICAgIGJvZHkucHV0KCJ0aW1lc3RhbXAiLCBuZXcgRGF0ZSgpKTsKICAgICAgICBib2R5LnB1dCgic3RhdHVzIiwgSHR0cFN0YXR1cy5JTlRFUk5BTF9TRVJWRVJfRVJST1IudmFsdWUoKSk7CiAgICAgICAgYm9keS5wdXQoImVycm9yIiwgIkludGVybmFsIFNlcnZlciBFcnJvciIpOwogICAgICAgIGJvZHkucHV0KCJtZXNzYWdlIiwgZXguZ2V0TWVzc2FnZSgpKTsKICAgICAgICBib2R5LnB1dCgicGF0aCIsIHJlcXVlc3QuZ2V0RGVzY3JpcHRpb24oZmFsc2UpKTsKICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlRW50aXR5PD4oYm9keSwgSHR0cFN0YXR1cy5JTlRFUk5BTF9TRVJWRVJfRVJST1IpOwogICAgfQp9CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL3NlY3VyaXR5L0N1c3RvbVVzZXJEZXRhaWxzU2VydmljZS5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZWN1cml0eTsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLlVzZXI7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnkuVXNlclJlcG9zaXRvcnk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUudXNlcmRldGFpbHMuVXNlckRldGFpbHM7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUudXNlcmRldGFpbHMuVXNlckRldGFpbHNTZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb3JlLnVzZXJkZXRhaWxzLlVzZXJuYW1lTm90Rm91bmRFeGNlcHRpb247CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUuYXV0aG9yaXR5LlNpbXBsZUdyYW50ZWRBdXRob3JpdHk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuU2VydmljZTsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsKCkBTZXJ2aWNlCnB1YmxpYyBjbGFzcyBDdXN0b21Vc2VyRGV0YWlsc1NlcnZpY2UgaW1wbGVtZW50cyBVc2VyRGV0YWlsc1NlcnZpY2UgewoKICAgIHByaXZhdGUgZmluYWwgVXNlclJlcG9zaXRvcnkgdXNlclJlcG9zaXRvcnk7CgogICAgcHVibGljIEN1c3RvbVVzZXJEZXRhaWxzU2VydmljZShVc2VyUmVwb3NpdG9yeSB1c2VyUmVwb3NpdG9yeSkgewogICAgICAgIHRoaXMudXNlclJlcG9zaXRvcnkgPSB1c2VyUmVwb3NpdG9yeTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBVc2VyRGV0YWlscyBsb2FkVXNlckJ5VXNlcm5hbWUoU3RyaW5nIGVtYWlsKSB0aHJvd3MgVXNlcm5hbWVOb3RGb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgVXNlciB1c2VyID0gdXNlclJlcG9zaXRvcnkuZmluZEJ5RW1haWwoZW1haWwpCiAgICAgICAgICAgICAgICAub3JFbHNlVGhyb3coKCkgLT4gbmV3IFVzZXJuYW1lTm90Rm91bmRFeGNlcHRpb24oIlVzZXIgbm90IGZvdW5kIHdpdGggZW1haWw6ICIgKyBlbWFpbCkpOwoKICAgICAgICByZXR1cm4gbmV3IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS51c2VyZGV0YWlscy5Vc2VyKAogICAgICAgICAgICAgICAgdXNlci5nZXRFbWFpbCgpLAogICAgICAgICAgICAgICAgdXNlci5nZXRQYXNzd29yZCgpLAogICAgICAgICAgICAgICAgQ29sbGVjdGlvbnMuc2luZ2xldG9uTGlzdChuZXcgU2ltcGxlR3JhbnRlZEF1dGhvcml0eSgiUk9MRV8iICsgdXNlci5nZXRSb2xlKCkpKQogICAgICAgICk7CiAgICB9Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vc2VjdXJpdHkvSnd0VG9rZW5Qcm92aWRlci5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZWN1cml0eTsKCmltcG9ydCBpby5qc29ud2VidG9rZW4uKjsKaW1wb3J0IGlvLmpzb253ZWJ0b2tlbi5zZWN1cml0eS5LZXlzOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5iZWFucy5mYWN0b3J5LmFubm90YXRpb24uVmFsdWU7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUuQXV0aGVudGljYXRpb247CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUudXNlcmRldGFpbHMuVXNlckRldGFpbHM7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuQ29tcG9uZW50OwoKaW1wb3J0IGphdmEuc2VjdXJpdHkuS2V5OwppbXBvcnQgamF2YS51dGlsLkRhdGU7CmltcG9ydCBqYXZhLm5pby5jaGFyc2V0LlN0YW5kYXJkQ2hhcnNldHM7CgpAQ29tcG9uZW50CnB1YmxpYyBjbGFzcyBKd3RUb2tlblByb3ZpZGVyIHsKCiAgICBAVmFsdWUoIiR7YXBwLmp3dFNlY3JldH0iKQogICAgcHJpdmF0ZSBTdHJpbmcgand0U2VjcmV0OwoKICAgIEBWYWx1ZSgiJHthcHAuand0RXhwaXJhdGlvbkluTXN9IikKICAgIHByaXZhdGUgaW50IGp3dEV4cGlyYXRpb25Jbk1zOwoKICAgIHByaXZhdGUgS2V5IGdldFNpZ25pbmdLZXkoKSB7CiAgICAgICAgYnl0ZVtdIGtleUJ5dGVzID0gand0U2VjcmV0LmdldEJ5dGVzKFN0YW5kYXJkQ2hhcnNldHMuVVRGXzgpOwogICAgICAgIHJldHVybiBLZXlzLmhtYWNTaGFLZXlGb3Ioa2V5Qnl0ZXMpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2VuZXJhdGVUb2tlbihBdXRoZW50aWNhdGlvbiBhdXRoZW50aWNhdGlvbikgewogICAgICAgIFVzZXJEZXRhaWxzIHVzZXJQcmluY2lwYWwgPSAoVXNlckRldGFpbHMpIGF1dGhlbnRpY2F0aW9uLmdldFByaW5jaXBhbCgpOwogICAgICAgIERhdGUgbm93ID0gbmV3IERhdGUoKTsKICAgICAgICBEYXRlIGV4cGlyeURhdGUgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgand0RXhwaXJhdGlvbkluTXMpOwoKICAgICAgICByZXR1cm4gSnd0cy5idWlsZGVyKCkKICAgICAgICAgICAgICAgIC5zZXRTdWJqZWN0KHVzZXJQcmluY2lwYWwuZ2V0VXNlcm5hbWUoKSkKICAgICAgICAgICAgICAgIC5zZXRJc3N1ZWRBdChuZXcgRGF0ZSgpKQogICAgICAgICAgICAgICAgLnNldEV4cGlyYXRpb24oZXhwaXJ5RGF0ZSkKICAgICAgICAgICAgICAgIC5zaWduV2l0aChnZXRTaWduaW5nS2V5KCksIFNpZ25hdHVyZUFsZ29yaXRobS5IUzUxMikKICAgICAgICAgICAgICAgIC5jb21wYWN0KCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRVc2VyVXNlcm5hbWVGcm9tSldUKFN0cmluZyB0b2tlbikgewogICAgICAgIENsYWltcyBjbGFpbXMgPSBKd3RzLnBhcnNlckJ1aWxkZXIoKQogICAgICAgICAgICAgICAgLnNldFNpZ25pbmdLZXkoZ2V0U2lnbmluZ0tleSgpKQogICAgICAgICAgICAgICAgLmJ1aWxkKCkKICAgICAgICAgICAgICAgIC5wYXJzZUNsYWltc0p3cyh0b2tlbikKICAgICAgICAgICAgICAgIC5nZXRCb2R5KCk7CgogICAgICAgIHJldHVybiBjbGFpbXMuZ2V0U3ViamVjdCgpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlVG9rZW4oU3RyaW5nIGF1dGhUb2tlbikgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEp3dHMucGFyc2VyQnVpbGRlcigpLnNldFNpZ25pbmdLZXkoZ2V0U2lnbmluZ0tleSgpKS5idWlsZCgpLnBhcnNlQ2xhaW1zSndzKGF1dGhUb2tlbik7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gY2F0Y2ggKEp3dEV4Y2VwdGlvbiB8IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBleCkgewogICAgICAgICAgICAvLyBMb2cgZXhjZXB0aW9uCiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9zZWN1cml0eS9Kd3RBdXRoZW50aWNhdGlvbkZpbHRlci5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZWN1cml0eTsKCmltcG9ydCBqYWthcnRhLnNlcnZsZXQuRmlsdGVyQ2hhaW47CmltcG9ydCBqYWthcnRhLnNlcnZsZXQuU2VydmxldEV4Y2VwdGlvbjsKaW1wb3J0IGpha2FydGEuc2VydmxldC5odHRwLkh0dHBTZXJ2bGV0UmVxdWVzdDsKaW1wb3J0IGpha2FydGEuc2VydmxldC5odHRwLkh0dHBTZXJ2bGV0UmVzcG9uc2U7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmJlYW5zLmZhY3RvcnkuYW5ub3RhdGlvbi5BdXRvd2lyZWQ7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmF1dGhlbnRpY2F0aW9uLlVzZXJuYW1lUGFzc3dvcmRBdXRoZW50aWNhdGlvblRva2VuOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb3JlLmNvbnRleHQuU2VjdXJpdHlDb250ZXh0SG9sZGVyOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb3JlLnVzZXJkZXRhaWxzLlVzZXJEZXRhaWxzOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYXV0aGVudGljYXRpb24uV2ViQXV0aGVudGljYXRpb25EZXRhaWxzU291cmNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLkNvbXBvbmVudDsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmZpbHRlci5PbmNlUGVyUmVxdWVzdEZpbHRlcjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsudXRpbC5TdHJpbmdVdGlsczsKCmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOwoKQENvbXBvbmVudApwdWJsaWMgY2xhc3MgSnd0QXV0aGVudGljYXRpb25GaWx0ZXIgZXh0ZW5kcyBPbmNlUGVyUmVxdWVzdEZpbHRlciB7CgogICAgQEF1dG93aXJlZAogICAgcHJpdmF0ZSBKd3RUb2tlblByb3ZpZGVyIHRva2VuUHJvdmlkZXI7CgogICAgQEF1dG93aXJlZAogICAgcHJpdmF0ZSBDdXN0b21Vc2VyRGV0YWlsc1NlcnZpY2UgY3VzdG9tVXNlckRldGFpbHNTZXJ2aWNlOwoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgZG9GaWx0ZXJJbnRlcm5hbChIdHRwU2VydmxldFJlcXVlc3QgcmVxdWVzdCwgSHR0cFNlcnZsZXRSZXNwb25zZSByZXNwb25zZSwgRmlsdGVyQ2hhaW4gZmlsdGVyQ2hhaW4pCiAgICAgICAgICAgIHRocm93cyBTZXJ2bGV0RXhjZXB0aW9uLCBJT0V4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIGp3dCA9IGdldEp3dEZyb21SZXF1ZXN0KHJlcXVlc3QpOwoKICAgICAgICBpZiAoU3RyaW5nVXRpbHMuaGFzVGV4dChqd3QpICYmIHRva2VuUHJvdmlkZXIudmFsaWRhdGVUb2tlbihqd3QpKSB7CiAgICAgICAgICAgIFN0cmluZyB1c2VybmFtZSA9IHRva2VuUHJvdmlkZXIuZ2V0VXNlclVzZXJuYW1lRnJvbUpXVChqd3QpOwoKICAgICAgICAgICAgVXNlckRldGFpbHMgdXNlckRldGFpbHMgPSBjdXN0b21Vc2VyRGV0YWlsc1NlcnZpY2UubG9hZFVzZXJCeVVzZXJuYW1lKHVzZXJuYW1lKTsKICAgICAgICAgICAgVXNlcm5hbWVQYXNzd29yZEF1dGhlbnRpY2F0aW9uVG9rZW4gYXV0aGVudGljYXRpb24gPSBuZXcgVXNlcm5hbWVQYXNzd29yZEF1dGhlbnRpY2F0aW9uVG9rZW4oCiAgICAgICAgICAgICAgICAgICAgdXNlckRldGFpbHMsIG51bGwsIHVzZXJEZXRhaWxzLmdldEF1dGhvcml0aWVzKCkpOwogICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5zZXREZXRhaWxzKG5ldyBXZWJBdXRoZW50aWNhdGlvbkRldGFpbHNTb3VyY2UoKS5idWlsZERldGFpbHMocmVxdWVzdCkpOwoKICAgICAgICAgICAgU2VjdXJpdHlDb250ZXh0SG9sZGVyLmdldENvbnRleHQoKS5zZXRBdXRoZW50aWNhdGlvbihhdXRoZW50aWNhdGlvbik7CiAgICAgICAgfQoKICAgICAgICBmaWx0ZXJDaGFpbi5kb0ZpbHRlcihyZXF1ZXN0LCByZXNwb25zZSk7CiAgICB9CgogICAgcHJpdmF0ZSBTdHJpbmcgZ2V0Snd0RnJvbVJlcXVlc3QoSHR0cFNlcnZsZXRSZXF1ZXN0IHJlcXVlc3QpIHsKICAgICAgICBTdHJpbmcgYmVhcmVyVG9rZW4gPSByZXF1ZXN0LmdldEhlYWRlcigiQXV0aG9yaXphdGlvbiIpOwogICAgICAgIGlmIChTdHJpbmdVdGlscy5oYXNUZXh0KGJlYXJlclRva2VuKSAmJiBiZWFyZXJUb2tlbi5zdGFydHNXaXRoKCJCZWFyZXIgIikpIHsKICAgICAgICAgICAgcmV0dXJuIGJlYXJlclRva2VuLnN1YnN0cmluZyg3KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vY29uZmlnL1NlY3VyaXR5Q29uZmlnLmphdmEKcGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmNvbmZpZzsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlY3VyaXR5LkN1c3RvbVVzZXJEZXRhaWxzU2VydmljZTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VjdXJpdHkuSnd0QXV0aGVudGljYXRpb25GaWx0ZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmNvbnRleHQuYW5ub3RhdGlvbi5CZWFuOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5jb250ZXh0LmFubm90YXRpb24uQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuYXV0aGVudGljYXRpb24uQXV0aGVudGljYXRpb25NYW5hZ2VyOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb25maWcuYW5ub3RhdGlvbi5hdXRoZW50aWNhdGlvbi5jb25maWd1cmF0aW9uLkF1dGhlbnRpY2F0aW9uQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29uZmlnLmFubm90YXRpb24ud2ViLmJ1aWxkZXJzLkh0dHBTZWN1cml0eTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29uZmlnLmFubm90YXRpb24ud2ViLmNvbmZpZ3VyYXRpb24uRW5hYmxlV2ViU2VjdXJpdHk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvbmZpZy5odHRwLlNlc3Npb25DcmVhdGlvblBvbGljeTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY3J5cHRvLmJjcnlwdC5CQ3J5cHRQYXNzd29yZEVuY29kZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNyeXB0by5wYXNzd29yZC5QYXNzd29yZEVuY29kZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5TZWN1cml0eUZpbHRlckNoYWluOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYXV0aGVudGljYXRpb24uVXNlcm5hbWVQYXNzd29yZEF1dGhlbnRpY2F0aW9uRmlsdGVyOwoKQENvbmZpZ3VyYXRpb24KQEVuYWJsZVdlYlNlY3VyaXR5CnB1YmxpYyBjbGFzcyBTZWN1cml0eUNvbmZpZyB7CgogICAgcHJpdmF0ZSBmaW5hbCBDdXN0b21Vc2VyRGV0YWlsc1NlcnZpY2UgdXNlckRldGFpbHNTZXJ2aWNlOwogICAgcHJpdmF0ZSBmaW5hbCBKd3RBdXRoZW50aWNhdGlvbkZpbHRlciBqd3RBdXRoZW50aWNhdGlvbkZpbHRlcjsKCiAgICBwdWJsaWMgU2VjdXJpdHlDb25maWcoQ3VzdG9tVXNlckRldGFpbHNTZXJ2aWNlIHVzZXJEZXRhaWxzU2VydmljZSwgSnd0QXV0aGVudGljYXRpb25GaWx0ZXIgand0QXV0aGVudGljYXRpb25GaWx0ZXIpIHsKICAgICAgICB0aGlzLnVzZXJEZXRhaWxzU2VydmljZSA9IHVzZXJEZXRhaWxzU2VydmljZTsKICAgICAgICB0aGlzLmp3dEF1dGhlbnRpY2F0aW9uRmlsdGVyID0gand0QXV0aGVudGljYXRpb25GaWx0ZXI7CiAgICB9CgogICAgQEJlYW4KICAgIHB1YmxpYyBTZWN1cml0eUZpbHRlckNoYWluIHNlY3VyaXR5RmlsdGVyQ2hhaW4oSHR0cFNlY3VyaXR5IGh0dHApIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGh0dHAKICAgICAgICAgICAgLmNzcmYoY3NyZiAtPiBjc3JmLmRpc2FibGUoKSkKICAgICAgICAgICAgLnNlc3Npb25NYW5hZ2VtZW50KHNlc3Npb24gLT4gc2Vzc2lvbi5zZXNzaW9uQ3JlYXRpb25Qb2xpY3koU2Vzc2lvbkNyZWF0aW9uUG9saWN5LlNUQVRFTEVTUykpCiAgICAgICAgICAgIC5hdXRob3JpemVIdHRwUmVxdWVzdHMoYXV0aCAtPiBhdXRoCiAgICAgICAgICAgICAgICAucmVxdWVzdE1hdGNoZXJzKCIvYXBpL2F1dGgvKioiKS5wZXJtaXRBbGwoKQogICAgICAgICAgICAgICAgLnJlcXVlc3RNYXRjaGVycygiL3YzL2FwaS1kb2NzLyoqIiwgIi9zd2FnZ2VyLXVpLyoqIiwgIi9zd2FnZ2VyLXVpLmh0bWwiKS5wZXJtaXRBbGwoKQogICAgICAgICAgICAgICAgLnJlcXVlc3RNYXRjaGVycygiL3NpbXBsZS1oZWxsbyIpLnBlcm1pdEFsbCgpIC8vIEFsbG93IHNlcnZsZXQKICAgICAgICAgICAgICAgIC5hbnlSZXF1ZXN0KCkuYXV0aGVudGljYXRlZCgpCiAgICAgICAgICAgICk7CgogICAgICAgIGh0dHAuYWRkRmlsdGVyQmVmb3JlKGp3dEF1dGhlbnRpY2F0aW9uRmlsdGVyLCBVc2VybmFtZVBhc3N3b3JkQXV0aGVudGljYXRpb25GaWx0ZXIuY2xhc3MpOwoKICAgICAgICByZXR1cm4gaHR0cC5idWlsZCgpOwogICAgfQoKICAgIEBCZWFuCiAgICBwdWJsaWMgQXV0aGVudGljYXRpb25NYW5hZ2VyIGF1dGhlbnRpY2F0aW9uTWFuYWdlcihBdXRoZW50aWNhdGlvbkNvbmZpZ3VyYXRpb24gYXV0aGVudGljYXRpb25Db25maWd1cmF0aW9uKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gYXV0aGVudGljYXRpb25Db25maWd1cmF0aW9uLmdldEF1dGhlbnRpY2F0aW9uTWFuYWdlcigpOwogICAgfQoKICAgIEBCZWFuCiAgICBwdWJsaWMgUGFzc3dvcmRFbmNvZGVyIHBhc3N3b3JkRW5jb2RlcigpIHsKICAgICAgICByZXR1cm4gbmV3IEJDcnlwdFBhc3N3b3JkRW5jb2RlcigpOwogICAgfQp9CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL3NlcnZpY2UvVXNlclNlcnZpY2UuamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8uc2VydmljZTsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLlVzZXI7CgpwdWJsaWMgaW50ZXJmYWNlIFVzZXJTZXJ2aWNlIHsKICAgIFVzZXIgcmVnaXN0ZXIoVXNlciB1c2VyKTsKICAgIFVzZXIgZmluZEJ5RW1haWwoU3RyaW5nIGVtYWlsKTsKfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9zZXJ2aWNlL0NhdGVnb3J5U2VydmljZS5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlOwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuQ2F0ZWdvcnk7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCnB1YmxpYyBpbnRlcmZhY2UgQ2F0ZWdvcnlTZXJ2aWNlIHsKICAgIENhdGVnb3J5IGFkZENhdGVnb3J5KENhdGVnb3J5IGNhdGVnb3J5KTsKICAgIExpc3Q8Q2F0ZWdvcnk+IGdldEFsbENhdGVnb3JpZXMoKTsKfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9zZXJ2aWNlL1RyYW5zYWN0aW9uU2VydmljZS5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlOwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVHJhbnNhY3Rpb25Mb2c7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCnB1YmxpYyBpbnRlcmZhY2UgVHJhbnNhY3Rpb25TZXJ2aWNlIHsKICAgIFRyYW5zYWN0aW9uTG9nIGFkZFRyYW5zYWN0aW9uKExvbmcgdXNlcklkLCBUcmFuc2FjdGlvbkxvZyBsb2cpOwogICAgTGlzdDxUcmFuc2FjdGlvbkxvZz4gZ2V0VXNlclRyYW5zYWN0aW9ucyhMb25nIHVzZXJJZCk7Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vc2VydmljZS9CdWRnZXRQbGFuU2VydmljZS5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlOwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuQnVkZ2V0UGxhbjsKCnB1YmxpYyBpbnRlcmZhY2UgQnVkZ2V0UGxhblNlcnZpY2UgewogICAgQnVkZ2V0UGxhbiBjcmVhdGVCdWRnZXRQbGFuKExvbmcgdXNlcklkLCBCdWRnZXRQbGFuIHBsYW4pOwogICAgQnVkZ2V0UGxhbiBnZXRCdWRnZXRQbGFuKExvbmcgdXNlcklkLCBJbnRlZ2VyIG1vbnRoLCBJbnRlZ2VyIHllYXIpOwp9CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL3NlcnZpY2UvQnVkZ2V0U3VtbWFyeVNlcnZpY2UuamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8uc2VydmljZTsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLkJ1ZGdldFN1bW1hcnk7CgpwdWJsaWMgaW50ZXJmYWNlIEJ1ZGdldFN1bW1hcnlTZXJ2aWNlIHsKICAgIEJ1ZGdldFN1bW1hcnkgZ2VuZXJhdGVTdW1tYXJ5KExvbmcgYnVkZ2V0UGxhbklkKTsKICAgIEJ1ZGdldFN1bW1hcnkgZ2V0U3VtbWFyeShMb25nIGJ1ZGdldFBsYW5JZCk7Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vc2VydmljZS9pbXBsL1VzZXJTZXJ2aWNlSW1wbC5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLmltcGw7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5leGNlcHRpb24uQmFkUmVxdWVzdEV4Y2VwdGlvbjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uZXhjZXB0aW9uLkNvbmZsaWN0RXhjZXB0aW9uOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5Vc2VyOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5yZXBvc2l0b3J5LlVzZXJSZXBvc2l0b3J5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLlVzZXJTZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jcnlwdG8ucGFzc3dvcmQuUGFzc3dvcmRFbmNvZGVyOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlNlcnZpY2U7CgpAU2VydmljZQpwdWJsaWMgY2xhc3MgVXNlclNlcnZpY2VJbXBsIGltcGxlbWVudHMgVXNlclNlcnZpY2UgewoKICAgIHByaXZhdGUgZmluYWwgVXNlclJlcG9zaXRvcnkgdXNlclJlcG9zaXRvcnk7CiAgICBwcml2YXRlIGZpbmFsIFBhc3N3b3JkRW5jb2RlciBwYXNzd29yZEVuY29kZXI7CgogICAgcHVibGljIFVzZXJTZXJ2aWNlSW1wbChVc2VyUmVwb3NpdG9yeSB1c2VyUmVwb3NpdG9yeSwgUGFzc3dvcmRFbmNvZGVyIHBhc3N3b3JkRW5jb2RlcikgewogICAgICAgIHRoaXMudXNlclJlcG9zaXRvcnkgPSB1c2VyUmVwb3NpdG9yeTsKICAgICAgICB0aGlzLnBhc3N3b3JkRW5jb2RlciA9IHBhc3N3b3JkRW5jb2RlcjsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBVc2VyIHJlZ2lzdGVyKFVzZXIgdXNlcikgewogICAgICAgIGlmICh1c2VyUmVwb3NpdG9yeS5leGlzdHNCeUVtYWlsKHVzZXIuZ2V0RW1haWwoKSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IENvbmZsaWN0RXhjZXB0aW9uKCJFbWFpbCBhbHJlYWR5IGV4aXN0cyIpOwogICAgICAgIH0KCiAgICAgICAgdXNlci5zZXRQYXNzd29yZChwYXNzd29yZEVuY29kZXIuZW5jb2RlKHVzZXIuZ2V0UGFzc3dvcmQoKSkpOwogICAgICAgIGlmICh1c2VyLmdldFJvbGUoKSA9PSBudWxsIHx8IHVzZXIuZ2V0Um9sZSgpLmlzRW1wdHkoKSkgewogICAgICAgICAgICB1c2VyLnNldFJvbGUoIlVTRVIiKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB1c2VyUmVwb3NpdG9yeS5zYXZlKHVzZXIpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFVzZXIgZmluZEJ5RW1haWwoU3RyaW5nIGVtYWlsKSB7CiAgICAgICAgcmV0dXJuIHVzZXJSZXBvc2l0b3J5LmZpbmRCeUVtYWlsKGVtYWlsKQogICAgICAgICAgICAgICAgLm9yRWxzZVRocm93KCgpIC0+IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCJVc2VyIG5vdCBmb3VuZCB3aXRoIGVtYWlsOiAiICsgZW1haWwpKTsKICAgIH0KfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9zZXJ2aWNlL2ltcGwvQ2F0ZWdvcnlTZXJ2aWNlSW1wbC5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLmltcGw7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5leGNlcHRpb24uQmFkUmVxdWVzdEV4Y2VwdGlvbjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuQ2F0ZWdvcnk7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnkuQ2F0ZWdvcnlSZXBvc2l0b3J5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLkNhdGVnb3J5U2VydmljZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5TZXJ2aWNlOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgpAU2VydmljZQpwdWJsaWMgY2xhc3MgQ2F0ZWdvcnlTZXJ2aWNlSW1wbCBpbXBsZW1lbnRzIENhdGVnb3J5U2VydmljZSB7CgogICAgcHJpdmF0ZSBmaW5hbCBDYXRlZ29yeVJlcG9zaXRvcnkgY2F0ZWdvcnlSZXBvc2l0b3J5OwoKICAgIHB1YmxpYyBDYXRlZ29yeVNlcnZpY2VJbXBsKENhdGVnb3J5UmVwb3NpdG9yeSBjYXRlZ29yeVJlcG9zaXRvcnkpIHsKICAgICAgICB0aGlzLmNhdGVnb3J5UmVwb3NpdG9yeSA9IGNhdGVnb3J5UmVwb3NpdG9yeTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBDYXRlZ29yeSBhZGRDYXRlZ29yeShDYXRlZ29yeSBjYXRlZ29yeSkgewogICAgICAgIGlmIChjYXRlZ29yeVJlcG9zaXRvcnkuZXhpc3RzQnlOYW1lKGNhdGVnb3J5LmdldE5hbWUoKSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oIkNhdGVnb3J5IGFscmVhZHkgZXhpc3RzIik7CiAgICAgICAgfQogICAgICAgIHZhbGlkYXRlVHlwZShjYXRlZ29yeS5nZXRUeXBlKCkpOwogICAgICAgIHJldHVybiBjYXRlZ29yeVJlcG9zaXRvcnkuc2F2ZShjYXRlZ29yeSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgTGlzdDxDYXRlZ29yeT4gZ2V0QWxsQ2F0ZWdvcmllcygpIHsKICAgICAgICByZXR1cm4gY2F0ZWdvcnlSZXBvc2l0b3J5LmZpbmRBbGwoKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgdmFsaWRhdGVUeXBlKFN0cmluZyB0eXBlKSB7CiAgICAgICAgaWYgKCFDYXRlZ29yeS5UWVBFX0lOQ09NRS5lcXVhbHModHlwZSkgJiYgIUNhdGVnb3J5LlRZUEVfRVhQRU5TRS5lcXVhbHModHlwZSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oIkludmFsaWQgY2F0ZWdvcnkgdHlwZSIpOwogICAgICAgIH0KICAgIH0KfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9zZXJ2aWNlL2ltcGwvVHJhbnNhY3Rpb25TZXJ2aWNlSW1wbC5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLmltcGw7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5leGNlcHRpb24uQmFkUmVxdWVzdEV4Y2VwdGlvbjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuQ2F0ZWdvcnk7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLlRyYW5zYWN0aW9uTG9nOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5Vc2VyOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5yZXBvc2l0b3J5LlRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ucmVwb3NpdG9yeS5Vc2VyUmVwb3NpdG9yeTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VydmljZS5UcmFuc2FjdGlvblNlcnZpY2U7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuU2VydmljZTsKCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgpAU2VydmljZQpwdWJsaWMgY2xhc3MgVHJhbnNhY3Rpb25TZXJ2aWNlSW1wbCBpbXBsZW1lbnRzIFRyYW5zYWN0aW9uU2VydmljZSB7CgogICAgcHJpdmF0ZSBmaW5hbCBUcmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkgdHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5OwogICAgcHJpdmF0ZSBmaW5hbCBVc2VyUmVwb3NpdG9yeSB1c2VyUmVwb3NpdG9yeTsKCiAgICBwdWJsaWMgVHJhbnNhY3Rpb25TZXJ2aWNlSW1wbChUcmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkgdHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5LCBVc2VyUmVwb3NpdG9yeSB1c2VyUmVwb3NpdG9yeSkgewogICAgICAgIHRoaXMudHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5ID0gdHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5OwogICAgICAgIHRoaXMudXNlclJlcG9zaXRvcnkgPSB1c2VyUmVwb3NpdG9yeTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBUcmFuc2FjdGlvbkxvZyBhZGRUcmFuc2FjdGlvbihMb25nIHVzZXJJZCwgVHJhbnNhY3Rpb25Mb2cgbG9nKSB7CiAgICAgICAgVXNlciB1c2VyID0gdXNlclJlcG9zaXRvcnkuZmluZEJ5SWQodXNlcklkKQogICAgICAgICAgICAgICAgLm9yRWxzZVRocm93KCgpIC0+IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCJVc2VyIG5vdCBmb3VuZCIpKTsKICAgICAgICAKICAgICAgICBpZiAobG9nLmdldEFtb3VudCgpIDw9IDApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oIkFtb3VudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIik7CiAgICAgICAgfQogICAgICAgIGlmIChsb2cuZ2V0VHJhbnNhY3Rpb25EYXRlKCkuaXNBZnRlcihMb2NhbERhdGUubm93KCkpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCJEYXRlIGNhbm5vdCBiZSBpbiB0aGUgZnV0dXJlIik7CiAgICAgICAgfQoKICAgICAgICBsb2cuc2V0VXNlcih1c2VyKTsKICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5LnNhdmUobG9nKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBMaXN0PFRyYW5zYWN0aW9uTG9nPiBnZXRVc2VyVHJhbnNhY3Rpb25zKExvbmcgdXNlcklkKSB7CiAgICAgICAgVXNlciB1c2VyID0gdXNlclJlcG9zaXRvcnkuZmluZEJ5SWQodXNlcklkKQogICAgICAgICAgICAgICAgLm9yRWxzZVRocm93KCgpIC0+IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCJVc2VyIG5vdCBmb3VuZCIpKTsKICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5LmZpbmRCeVVzZXIodXNlcik7CiAgICB9Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vc2VydmljZS9pbXBsL0J1ZGdldFBsYW5TZXJ2aWNlSW1wbC5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLmltcGw7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5leGNlcHRpb24uQmFkUmVxdWVzdEV4Y2VwdGlvbjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuQnVkZ2V0UGxhbjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVXNlcjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ucmVwb3NpdG9yeS5CdWRnZXRQbGFuUmVwb3NpdG9yeTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ucmVwb3NpdG9yeS5Vc2VyUmVwb3NpdG9yeTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VydmljZS5CdWRnZXRQbGFuU2VydmljZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5TZXJ2aWNlOwoKQFNlcnZpY2UKcHVibGljIGNsYXNzIEJ1ZGdldFBsYW5TZXJ2aWNlSW1wbCBpbXBsZW1lbnRzIEJ1ZGdldFBsYW5TZXJ2aWNlIHsKCiAgICBwcml2YXRlIGZpbmFsIEJ1ZGdldFBsYW5SZXBvc2l0b3J5IGJ1ZGdldFBsYW5SZXBvc2l0b3J5OwogICAgcHJpdmF0ZSBmaW5hbCBVc2VyUmVwb3NpdG9yeSB1c2VyUmVwb3NpdG9yeTsKCiAgICBwdWJsaWMgQnVkZ2V0UGxhblNlcnZpY2VJbXBsKEJ1ZGdldFBsYW5SZXBvc2l0b3J5IGJ1ZGdldFBsYW5SZXBvc2l0b3J5LCBVc2VyUmVwb3NpdG9yeSB1c2VyUmVwb3NpdG9yeSkgewogICAgICAgIHRoaXMuYnVkZ2V0UGxhblJlcG9zaXRvcnkgPSBidWRnZXRQbGFuUmVwb3NpdG9yeTsKICAgICAgICB0aGlzLnVzZXJSZXBvc2l0b3J5ID0gdXNlclJlcG9zaXRvcnk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgQnVkZ2V0UGxhbiBjcmVhdGVCdWRnZXRQbGFuKExvbmcgdXNlcklkLCBCdWRnZXRQbGFuIHBsYW4pIHsKICAgICAgICBVc2VyIHVzZXIgPSB1c2VyUmVwb3NpdG9yeS5maW5kQnlJZCh1c2VySWQpCiAgICAgICAgICAgICAgICAub3JFbHNlVGhyb3coKCkgLT4gbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oIlVzZXIgbm90IGZvdW5kIikpOwoKICAgICAgICBpZiAocGxhbi5nZXRNb250aCgpIDwgMSB8fCBwbGFuLmdldE1vbnRoKCkgPiAxMikgewogICAgICAgICAgICB0aHJvdyBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiSW52YWxpZCBtb250aCIpOwogICAgICAgIH0KICAgICAgICBpZiAocGxhbi5nZXRJbmNvbWVUYXJnZXQoKSA8IDAgfHwgcGxhbi5nZXRFeHBlbnNlTGltaXQoKSA8IDApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oIlRhcmdldHMgbXVzdCBiZSBub24tbmVnYXRpdmUiKTsKICAgICAgICB9CgogICAgICAgIGlmIChidWRnZXRQbGFuUmVwb3NpdG9yeS5maW5kQnlVc2VyQW5kTW9udGhBbmRZZWFyKHVzZXIsIHBsYW4uZ2V0TW9udGgoKSwgcGxhbi5nZXRZZWFyKCkpLmlzUHJlc2VudCgpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCJCdWRnZXQgcGxhbiBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyBwZXJpb2QiKTsKICAgICAgICB9CgogICAgICAgIHBsYW4uc2V0VXNlcih1c2VyKTsKICAgICAgICByZXR1cm4gYnVkZ2V0UGxhblJlcG9zaXRvcnkuc2F2ZShwbGFuKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBCdWRnZXRQbGFuIGdldEJ1ZGdldFBsYW4oTG9uZyB1c2VySWQsIEludGVnZXIgbW9udGgsIEludGVnZXIgeWVhcikgewogICAgICAgIFVzZXIgdXNlciA9IHVzZXJSZXBvc2l0b3J5LmZpbmRCeUlkKHVzZXJJZCkKICAgICAgICAgICAgICAgIC5vckVsc2VUaHJvdygoKSAtPiBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiVXNlciBub3QgZm91bmQiKSk7CiAgICAgICAgcmV0dXJuIGJ1ZGdldFBsYW5SZXBvc2l0b3J5LmZpbmRCeVVzZXJBbmRNb250aEFuZFllYXIodXNlciwgbW9udGgsIHllYXIpCiAgICAgICAgICAgICAgICAub3JFbHNlVGhyb3coKCkgLT4gbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oIkJ1ZGdldCBwbGFuIG5vdCBmb3VuZCIpKTsKICAgIH0KfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9zZXJ2aWNlL2ltcGwvQnVkZ2V0U3VtbWFyeVNlcnZpY2VJbXBsLmphdmEKcGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuaW1wbDsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbi5CYWRSZXF1ZXN0RXhjZXB0aW9uOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRQbGFuOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRTdW1tYXJ5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5DYXRlZ29yeTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVHJhbnNhY3Rpb25Mb2c7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnkuQnVkZ2V0UGxhblJlcG9zaXRvcnk7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnkuQnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnk7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnkuVHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLkJ1ZGdldFN1bW1hcnlTZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlNlcnZpY2U7CgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTsKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgpAU2VydmljZQpwdWJsaWMgY2xhc3MgQnVkZ2V0U3VtbWFyeVNlcnZpY2VJbXBsIGltcGxlbWVudHMgQnVkZ2V0U3VtbWFyeVNlcnZpY2UgewoKICAgIHByaXZhdGUgZmluYWwgQnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnkgYnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnk7CiAgICBwcml2YXRlIGZpbmFsIEJ1ZGdldFBsYW5SZXBvc2l0b3J5IGJ1ZGdldFBsYW5SZXBvc2l0b3J5OwogICAgcHJpdmF0ZSBmaW5hbCBUcmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkgdHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5OwoKICAgIHB1YmxpYyBCdWRnZXRTdW1tYXJ5U2VydmljZUltcGwoQnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnkgYnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZGdldFBsYW5SZXBvc2l0b3J5IGJ1ZGdldFBsYW5SZXBvc2l0b3J5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkgdHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5KSB7CiAgICAgICAgdGhpcy5idWRnZXRTdW1tYXJ5UmVwb3NpdG9yeSA9IGJ1ZGdldFN1bW1hcnlSZXBvc2l0b3J5OwogICAgICAgIHRoaXMuYnVkZ2V0UGxhblJlcG9zaXRvcnkgPSBidWRnZXRQbGFuUmVwb3NpdG9yeTsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeSA9IHRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBCdWRnZXRTdW1tYXJ5IGdlbmVyYXRlU3VtbWFyeShMb25nIGJ1ZGdldFBsYW5JZCkgewogICAgICAgIEJ1ZGdldFBsYW4gcGxhbiA9IGJ1ZGdldFBsYW5SZXBvc2l0b3J5LmZpbmRCeUlkKGJ1ZGdldFBsYW5JZCkKICAgICAgICAgICAgICAgIC5vckVsc2VUaHJvdygoKSAtPiBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiQnVkZ2V0IFBsYW4gbm90IGZvdW5kIikpOwoKICAgICAgICBMb2NhbERhdGUgc3RhcnQgPSBMb2NhbERhdGUub2YocGxhbi5nZXRZZWFyKCksIHBsYW4uZ2V0TW9udGgoKSwgMSk7CiAgICAgICAgTG9jYWxEYXRlIGVuZCA9IHN0YXJ0LndpdGhEYXlPZk1vbnRoKHN0YXJ0Lmxlbmd0aE9mTW9udGgoKSk7CgogICAgICAgIExpc3Q8VHJhbnNhY3Rpb25Mb2c+IGxvZ3MgPSB0cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkuZmluZEJ5VXNlckFuZFRyYW5zYWN0aW9uRGF0ZUJldHdlZW4ocGxhbi5nZXRVc2VyKCksIHN0YXJ0LCBlbmQpOwoKICAgICAgICBkb3VibGUgdG90YWxJbmNvbWUgPSBsb2dzLnN0cmVhbSgpCiAgICAgICAgICAgICAgICAuZmlsdGVyKGwgLT4gQ2F0ZWdvcnkuVFlQRV9JTkNPTUUuZXF1YWxzKGwuZ2V0Q2F0ZWdvcnkoKS5nZXRUeXBlKCkpKQogICAgICAgICAgICAgICAgLm1hcFRvRG91YmxlKFRyYW5zYWN0aW9uTG9nOjpnZXRBbW91bnQpCiAgICAgICAgICAgICAgICAuc3VtKCk7CgogICAgICAgIGRvdWJsZSB0b3RhbEV4cGVuc2UgPSBsb2dzLnN0cmVhbSgpCiAgICAgICAgICAgICAgICAuZmlsdGVyKGwgLT4gQ2F0ZWdvcnkuVFlQRV9FWFBFTlNFLmVxdWFscyhsLmdldENhdGVnb3J5KCkuZ2V0VHlwZSgpKSkKICAgICAgICAgICAgICAgIC5tYXBUb0RvdWJsZShUcmFuc2FjdGlvbkxvZzo6Z2V0QW1vdW50KQogICAgICAgICAgICAgICAgLnN1bSgpOwoKICAgICAgICBCdWRnZXRTdW1tYXJ5IHN1bW1hcnkgPSBidWRnZXRTdW1tYXJ5UmVwb3NpdG9yeS5maW5kQnlCdWRnZXRQbGFuKHBsYW4pCiAgICAgICAgICAgICAgICAub3JFbHNlKG5ldyBCdWRnZXRTdW1tYXJ5KCkpOwoKICAgICAgICBzdW1tYXJ5LnNldEJ1ZGdldFBsYW4ocGxhbik7CiAgICAgICAgc3VtbWFyeS5zZXRUb3RhbEluY29tZSh0b3RhbEluY29tZSk7CiAgICAgICAgc3VtbWFyeS5zZXRUb3RhbEV4cGVuc2UodG90YWxFeHBlbnNlKTsKICAgICAgICBzdW1tYXJ5LnNldFN0YXR1cyh0b3RhbEV4cGVuc2UgPiBwbGFuLmdldEV4cGVuc2VMaW1pdCgpID8gQnVkZ2V0U3VtbWFyeS5TVEFUVVNfT1ZFUl9MSU1JVCA6IEJ1ZGdldFN1bW1hcnkuU1RBVFVTX1VOREVSX0xJTUlUKTsKICAgICAgICAKICAgICAgICAvLyBJZiBpdCdzIGEgbmV3IGVudGl0eSwgZ2VuZXJhdGVkQXQgd2lsbCBiZSBzZXQgYnkgQFByZVBlcnNpc3QuIAogICAgICAgIC8vIElmIHVwZGF0aW5nLCB3ZSBtaWdodCB3YW50IHRvIHVwZGF0ZSB0aGUgdGltZXN0YW1wIG9yIGxlYXZlIGl0PwogICAgICAgIC8vIFNwZWMgc2F5czogIkxpZmVjeWNsZSBtZXRob2Qgb25DcmVhdGUoKSBpbml0aWFsaXplcyBnZW5lcmF0ZWRBdCB3aGVuIHRoZSBlbnRpdHkgaXMgZmlyc3QgcGVyc2lzdGVkLiIKICAgICAgICAvLyBJdCBkb2Vzbid0IGV4cGxpY2l0bHkgc2F5IHRvIHVwZGF0ZSBpdCBvbiByZS1nZW5lcmF0aW9uLiAKICAgICAgICAvLyBCdXQgdXN1YWxseSAiZ2VuZXJhdGUiIGltcGxpZXMgZnJlc2ggZGF0YS4gSSB3aWxsIGV4cGxpY2l0bHkgc2V0IGl0IHRvIG5vdyBpZiBpdCdzIGFuIHVwZGF0ZSwgb3IgbGV0IEBQcmVQZXJzaXN0IGhhbmRsZSBpdCBmb3IgbmV3LgogICAgICAgIC8vIEFjdHVhbGx5LCBAUHJlUGVyc2lzdCBvbmx5IHJ1bnMgb24gcGVyc2lzdCAoaW5zZXJ0KS4gCiAgICAgICAgLy8gSSB3aWxsIHNldCBpdCBtYW51YWxseSB0byBlbnN1cmUgaXQgcmVmbGVjdHMgdGhlIGxhdGVzdCBnZW5lcmF0aW9uIHRpbWUuCiAgICAgICAgc3VtbWFyeS5zZXRHZW5lcmF0ZWRBdChMb2NhbERhdGVUaW1lLm5vdygpKTsKCiAgICAgICAgcmV0dXJuIGJ1ZGdldFN1bW1hcnlSZXBvc2l0b3J5LnNhdmUoc3VtbWFyeSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgQnVkZ2V0U3VtbWFyeSBnZXRTdW1tYXJ5KExvbmcgYnVkZ2V0UGxhbklkKSB7CiAgICAgICAgQnVkZ2V0UGxhbiBwbGFuID0gYnVkZ2V0UGxhblJlcG9zaXRvcnkuZmluZEJ5SWQoYnVkZ2V0UGxhbklkKQogICAgICAgICAgICAgICAgLm9yRWxzZVRocm93KCgpIC0+IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCJCdWRnZXQgUGxhbiBub3QgZm91bmQiKSk7CiAgICAgICAgcmV0dXJuIGJ1ZGdldFN1bW1hcnlSZXBvc2l0b3J5LmZpbmRCeUJ1ZGdldFBsYW4ocGxhbikKICAgICAgICAgICAgICAgIC5vckVsc2VUaHJvdygoKSAtPiBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiU3VtbWFyeSBub3QgZm91bmQiKSk7CiAgICB9Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vY29udHJvbGxlci9BdXRoQ29udHJvbGxlci5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5jb250cm9sbGVyOwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uZHRvLkF1dGhSZXNwb25zZTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uZHRvLkxvZ2luUmVxdWVzdDsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uZHRvLlJlZ2lzdGVyUmVxdWVzdDsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVXNlcjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VjdXJpdHkuSnd0VG9rZW5Qcm92aWRlcjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VydmljZS5Vc2VyU2VydmljZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuaHR0cC5SZXNwb25zZUVudGl0eTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuYXV0aGVudGljYXRpb24uQXV0aGVudGljYXRpb25NYW5hZ2VyOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5hdXRoZW50aWNhdGlvbi5Vc2VybmFtZVBhc3N3b3JkQXV0aGVudGljYXRpb25Ub2tlbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS5BdXRoZW50aWNhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS5jb250ZXh0LlNlY3VyaXR5Q29udGV4dEhvbGRlcjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5Qb3N0TWFwcGluZzsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5SZXF1ZXN0Qm9keTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5SZXF1ZXN0TWFwcGluZzsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5SZXN0Q29udHJvbGxlcjsKCkBSZXN0Q29udHJvbGxlcgpAUmVxdWVzdE1hcHBpbmcoIi9hcGkvYXV0aCIpCnB1YmxpYyBjbGFzcyBBdXRoQ29udHJvbGxlciB7CgogICAgcHJpdmF0ZSBmaW5hbCBBdXRoZW50aWNhdGlvbk1hbmFnZXIgYXV0aGVudGljYXRpb25NYW5hZ2VyOwogICAgcHJpdmF0ZSBmaW5hbCBVc2VyU2VydmljZSB1c2VyU2VydmljZTsKICAgIHByaXZhdGUgZmluYWwgSnd0VG9rZW5Qcm92aWRlciB0b2tlblByb3ZpZGVyOwoKICAgIHB1YmxpYyBBdXRoQ29udHJvbGxlcihBdXRoZW50aWNhdGlvbk1hbmFnZXIgYXV0aGVudGljYXRpb25NYW5hZ2VyLCBVc2VyU2VydmljZSB1c2VyU2VydmljZSwgSnd0VG9rZW5Qcm92aWRlciB0b2tlblByb3ZpZGVyKSB7CiAgICAgICAgdGhpcy5hdXRoZW50aWNhdGlvbk1hbmFnZXIgPSBhdXRoZW50aWNhdGlvbk1hbmFnZXI7CiAgICAgICAgdGhpcy51c2VyU2VydmljZSA9IHVzZXJTZXJ2aWNlOwogICAgICAgIHRoaXMudG9rZW5Qcm92aWRlciA9IHRva2VuUHJvdmlkZXI7CiAgICB9CgogICAgQFBvc3RNYXBwaW5nKCIvcmVnaXN0ZXIiKQogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PFVzZXI+IHJlZ2lzdGVyVXNlcihAUmVxdWVzdEJvZHkgUmVnaXN0ZXJSZXF1ZXN0IHJlZ2lzdGVyUmVxdWVzdCkgewogICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7CiAgICAgICAgdXNlci5zZXROYW1lKHJlZ2lzdGVyUmVxdWVzdC5nZXROYW1lKCkpOwogICAgICAgIHVzZXIuc2V0RW1haWwocmVnaXN0ZXJSZXF1ZXN0LmdldEVtYWlsKCkpOwogICAgICAgIHVzZXIuc2V0UGFzc3dvcmQocmVnaXN0ZXJSZXF1ZXN0LmdldFBhc3N3b3JkKCkpOwogICAgICAgIAogICAgICAgIHJldHVybiBSZXNwb25zZUVudGl0eS5vayh1c2VyU2VydmljZS5yZWdpc3Rlcih1c2VyKSk7CiAgICB9CgogICAgQFBvc3RNYXBwaW5nKCIvbG9naW4iKQogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PEF1dGhSZXNwb25zZT4gYXV0aGVudGljYXRlVXNlcihAUmVxdWVzdEJvZHkgTG9naW5SZXF1ZXN0IGxvZ2luUmVxdWVzdCkgewogICAgICAgIEF1dGhlbnRpY2F0aW9uIGF1dGhlbnRpY2F0aW9uID0gYXV0aGVudGljYXRpb25NYW5hZ2VyLmF1dGhlbnRpY2F0ZSgKICAgICAgICAgICAgICAgIG5ldyBVc2VybmFtZVBhc3N3b3JkQXV0aGVudGljYXRpb25Ub2tlbigKICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5SZXF1ZXN0LmdldEVtYWlsKCksCiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luUmVxdWVzdC5nZXRQYXNzd29yZCgpCiAgICAgICAgICAgICAgICApCiAgICAgICAgKTsKCiAgICAgICAgU2VjdXJpdHlDb250ZXh0SG9sZGVyLmdldENvbnRleHQoKS5zZXRBdXRoZW50aWNhdGlvbihhdXRoZW50aWNhdGlvbik7CiAgICAgICAgU3RyaW5nIGp3dCA9IHRva2VuUHJvdmlkZXIuZ2VuZXJhdGVUb2tlbihhdXRoZW50aWNhdGlvbik7CiAgICAgICAgcmV0dXJuIFJlc3BvbnNlRW50aXR5Lm9rKG5ldyBBdXRoUmVzcG9uc2Uoand0KSk7CiAgICB9Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vY29uZmlnL09wZW5BcGlDb25maWcuamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8uY29uZmlnOwoKaW1wb3J0IGlvLnN3YWdnZXIudjMub2FzLm1vZGVscy5PcGVuQVBJOwppbXBvcnQgaW8uc3dhZ2dlci52My5vYXMubW9kZWxzLmluZm8uSW5mbzsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY29udGV4dC5hbm5vdGF0aW9uLkJlYW47CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmNvbnRleHQuYW5ub3RhdGlvbi5Db25maWd1cmF0aW9uOwoKQENvbmZpZ3VyYXRpb24KcHVibGljIGNsYXNzIE9wZW5BcGlDb25maWcgewoKICAgIEBCZWFuCiAgICBwdWJsaWMgT3BlbkFQSSB1c2Vyc01pY3Jvc2VydmljZU9wZW5BUEkoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBPcGVuQVBJKCkKICAgICAgICAgICAgICAgIC5pbmZvKG5ldyBJbmZvKCkudGl0bGUoIlBlcnNvbmFsIEZpbmFuY2UgQVBJIikKICAgICAgICAgICAgICAgICAgICAgICAgLmRlc2NyaXB0aW9uKCJBUEkgZm9yIG1hbmFnaW5nIHBlcnNvbmFsIGZpbmFuY2VzIikKICAgICAgICAgICAgICAgICAgICAgICAgLnZlcnNpb24oIjEuMCIpKTsKICAgIH0KfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9jb250cm9sbGVyL0NhdGVnb3J5Q29udHJvbGxlci5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5jb250cm9sbGVyOwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuQ2F0ZWdvcnk7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuQ2F0ZWdvcnlTZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5odHRwLlJlc3BvbnNlRW50aXR5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLio7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgpAUmVzdENvbnRyb2xsZXIKQFJlcXVlc3RNYXBwaW5nKCIvYXBpL2NhdGVnb3JpZXMiKQpwdWJsaWMgY2xhc3MgQ2F0ZWdvcnlDb250cm9sbGVyIHsKCiAgICBwcml2YXRlIGZpbmFsIENhdGVnb3J5U2VydmljZSBjYXRlZ29yeVNlcnZpY2U7CgogICAgcHVibGljIENhdGVnb3J5Q29udHJvbGxlcihDYXRlZ29yeVNlcnZpY2UgY2F0ZWdvcnlTZXJ2aWNlKSB7CiAgICAgICAgdGhpcy5jYXRlZ29yeVNlcnZpY2UgPSBjYXRlZ29yeVNlcnZpY2U7CiAgICB9CgogICAgQFBvc3RNYXBwaW5nCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8Q2F0ZWdvcnk+IGFkZENhdGVnb3J5KEBSZXF1ZXN0Qm9keSBDYXRlZ29yeSBjYXRlZ29yeSkgewogICAgICAgIHJldHVybiBSZXNwb25zZUVudGl0eS5vayhjYXRlZ29yeVNlcnZpY2UuYWRkQ2F0ZWdvcnkoY2F0ZWdvcnkpKTsKICAgIH0KCiAgICBAR2V0TWFwcGluZwogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PExpc3Q8Q2F0ZWdvcnk+PiBnZXRBbGxDYXRlZ29yaWVzKCkgewogICAgICAgIHJldHVybiBSZXNwb25zZUVudGl0eS5vayhjYXRlZ29yeVNlcnZpY2UuZ2V0QWxsQ2F0ZWdvcmllcygpKTsKICAgIH0KfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9jb250cm9sbGVyL1RyYW5zYWN0aW9uQ29udHJvbGxlci5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5jb250cm9sbGVyOwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVHJhbnNhY3Rpb25Mb2c7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLlVzZXI7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuVHJhbnNhY3Rpb25TZXJ2aWNlOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLlVzZXJTZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5odHRwLlJlc3BvbnNlRW50aXR5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb3JlLkF1dGhlbnRpY2F0aW9uOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLio7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgpAUmVzdENvbnRyb2xsZXIKQFJlcXVlc3RNYXBwaW5nKCIvYXBpL3RyYW5zYWN0aW9ucyIpCnB1YmxpYyBjbGFzcyBUcmFuc2FjdGlvbkNvbnRyb2xsZXIgewoKICAgIHByaXZhdGUgZmluYWwgVHJhbnNhY3Rpb25TZXJ2aWNlIHRyYW5zYWN0aW9uU2VydmljZTsKICAgIHByaXZhdGUgZmluYWwgVXNlclNlcnZpY2UgdXNlclNlcnZpY2U7CgogICAgcHVibGljIFRyYW5zYWN0aW9uQ29udHJvbGxlcihUcmFuc2FjdGlvblNlcnZpY2UgdHJhbnNhY3Rpb25TZXJ2aWNlLCBVc2VyU2VydmljZSB1c2VyU2VydmljZSkgewogICAgICAgIHRoaXMudHJhbnNhY3Rpb25TZXJ2aWNlID0gdHJhbnNhY3Rpb25TZXJ2aWNlOwogICAgICAgIHRoaXMudXNlclNlcnZpY2UgPSB1c2VyU2VydmljZTsKICAgIH0KCiAgICBAUG9zdE1hcHBpbmcKICAgIHB1YmxpYyBSZXNwb25zZUVudGl0eTxUcmFuc2FjdGlvbkxvZz4gYWRkVHJhbnNhY3Rpb24oQFJlcXVlc3RCb2R5IFRyYW5zYWN0aW9uTG9nIGxvZywgQXV0aGVudGljYXRpb24gYXV0aGVudGljYXRpb24pIHsKICAgICAgICBVc2VyIHVzZXIgPSB1c2VyU2VydmljZS5maW5kQnlFbWFpbChhdXRoZW50aWNhdGlvbi5nZXROYW1lKCkpOwogICAgICAgIHJldHVybiBSZXNwb25zZUVudGl0eS5vayh0cmFuc2FjdGlvblNlcnZpY2UuYWRkVHJhbnNhY3Rpb24odXNlci5nZXRJZCgpLCBsb2cpKTsKICAgIH0KCiAgICBAR2V0TWFwcGluZwogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PExpc3Q8VHJhbnNhY3Rpb25Mb2c+PiBnZXRVc2VyVHJhbnNhY3Rpb25zKEF1dGhlbnRpY2F0aW9uIGF1dGhlbnRpY2F0aW9uKSB7CiAgICAgICAgVXNlciB1c2VyID0gdXNlclNlcnZpY2UuZmluZEJ5RW1haWwoYXV0aGVudGljYXRpb24uZ2V0TmFtZSgpKTsKICAgICAgICByZXR1cm4gUmVzcG9uc2VFbnRpdHkub2sodHJhbnNhY3Rpb25TZXJ2aWNlLmdldFVzZXJUcmFuc2FjdGlvbnModXNlci5nZXRJZCgpKSk7CiAgICB9Cn0KRU9GCgpjYXQgPDwgJ0VPRicgPiBzcmMvbWFpbi9qYXZhL2NvbS9leGFtcGxlL2RlbW8vY29udHJvbGxlci9CdWRnZXRQbGFuQ29udHJvbGxlci5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5jb250cm9sbGVyOwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuQnVkZ2V0UGxhbjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVXNlcjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VydmljZS5CdWRnZXRQbGFuU2VydmljZTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VydmljZS5Vc2VyU2VydmljZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuaHR0cC5SZXNwb25zZUVudGl0eTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS5BdXRoZW50aWNhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi4qOwoKQFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaS9idWRnZXQtcGxhbnMiKQpwdWJsaWMgY2xhc3MgQnVkZ2V0UGxhbkNvbnRyb2xsZXIgewoKICAgIHByaXZhdGUgZmluYWwgQnVkZ2V0UGxhblNlcnZpY2UgYnVkZ2V0UGxhblNlcnZpY2U7CiAgICBwcml2YXRlIGZpbmFsIFVzZXJTZXJ2aWNlIHVzZXJTZXJ2aWNlOwoKICAgIHB1YmxpYyBCdWRnZXRQbGFuQ29udHJvbGxlcihCdWRnZXRQbGFuU2VydmljZSBidWRnZXRQbGFuU2VydmljZSwgVXNlclNlcnZpY2UgdXNlclNlcnZpY2UpIHsKICAgICAgICB0aGlzLmJ1ZGdldFBsYW5TZXJ2aWNlID0gYnVkZ2V0UGxhblNlcnZpY2U7CiAgICAgICAgdGhpcy51c2VyU2VydmljZSA9IHVzZXJTZXJ2aWNlOwogICAgfQoKICAgIEBQb3N0TWFwcGluZwogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PEJ1ZGdldFBsYW4+IGNyZWF0ZUJ1ZGdldFBsYW4oQFJlcXVlc3RCb2R5IEJ1ZGdldFBsYW4gcGxhbiwgQXV0aGVudGljYXRpb24gYXV0aGVudGljYXRpb24pIHsKICAgICAgICBVc2VyIHVzZXIgPSB1c2VyU2VydmljZS5maW5kQnlFbWFpbChhdXRoZW50aWNhdGlvbi5nZXROYW1lKCkpOwogICAgICAgIHJldHVybiBSZXNwb25zZUVudGl0eS5vayhidWRnZXRQbGFuU2VydmljZS5jcmVhdGVCdWRnZXRQbGFuKHVzZXIuZ2V0SWQoKSwgcGxhbikpOwogICAgfQoKICAgIEBHZXRNYXBwaW5nCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8QnVkZ2V0UGxhbj4gZ2V0QnVkZ2V0UGxhbihAUmVxdWVzdFBhcmFtIEludGVnZXIgbW9udGgsIEBSZXF1ZXN0UGFyYW0gSW50ZWdlciB5ZWFyLCBBdXRoZW50aWNhdGlvbiBhdXRoZW50aWNhdGlvbikgewogICAgICAgIFVzZXIgdXNlciA9IHVzZXJTZXJ2aWNlLmZpbmRCeUVtYWlsKGF1dGhlbnRpY2F0aW9uLmdldE5hbWUoKSk7CiAgICAgICAgcmV0dXJuIFJlc3BvbnNlRW50aXR5Lm9rKGJ1ZGdldFBsYW5TZXJ2aWNlLmdldEJ1ZGdldFBsYW4odXNlci5nZXRJZCgpLCBtb250aCwgeWVhcikpOwogICAgfQp9CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL2NvbnRyb2xsZXIvQnVkZ2V0U3VtbWFyeUNvbnRyb2xsZXIuamF2YQpwYWNrYWdlIGNvbS5leGFtcGxlLmRlbW8uY29udHJvbGxlcjsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLkJ1ZGdldFN1bW1hcnk7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuQnVkZ2V0U3VtbWFyeVNlcnZpY2U7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmh0dHAuUmVzcG9uc2VFbnRpdHk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5iaW5kLmFubm90YXRpb24uKjsKCkBSZXN0Q29udHJvbGxlcgpAUmVxdWVzdE1hcHBpbmcoIi9hcGkvYnVkZ2V0LXN1bW1hcmllcyIpCnB1YmxpYyBjbGFzcyBCdWRnZXRTdW1tYXJ5Q29udHJvbGxlciB7CgogICAgcHJpdmF0ZSBmaW5hbCBCdWRnZXRTdW1tYXJ5U2VydmljZSBidWRnZXRTdW1tYXJ5U2VydmljZTsKCiAgICBwdWJsaWMgQnVkZ2V0U3VtbWFyeUNvbnRyb2xsZXIoQnVkZ2V0U3VtbWFyeVNlcnZpY2UgYnVkZ2V0U3VtbWFyeVNlcnZpY2UpIHsKICAgICAgICB0aGlzLmJ1ZGdldFN1bW1hcnlTZXJ2aWNlID0gYnVkZ2V0U3VtbWFyeVNlcnZpY2U7CiAgICB9CgogICAgQFBvc3RNYXBwaW5nKCIvZ2VuZXJhdGUve3BsYW5JZH0iKQogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PEJ1ZGdldFN1bW1hcnk+IGdlbmVyYXRlU3VtbWFyeShAUGF0aFZhcmlhYmxlIExvbmcgcGxhbklkKSB7CiAgICAgICAgcmV0dXJuIFJlc3BvbnNlRW50aXR5Lm9rKGJ1ZGdldFN1bW1hcnlTZXJ2aWNlLmdlbmVyYXRlU3VtbWFyeShwbGFuSWQpKTsKICAgIH0KCiAgICBAR2V0TWFwcGluZygiL3twbGFuSWR9IikKICAgIHB1YmxpYyBSZXNwb25zZUVudGl0eTxCdWRnZXRTdW1tYXJ5PiBnZXRTdW1tYXJ5KEBQYXRoVmFyaWFibGUgTG9uZyBwbGFuSWQpIHsKICAgICAgICByZXR1cm4gUmVzcG9uc2VFbnRpdHkub2soYnVkZ2V0U3VtbWFyeVNlcnZpY2UuZ2V0U3VtbWFyeShwbGFuSWQpKTsKICAgIH0KfQpFT0YKCmNhdCA8PCAnRU9GJyA+IHNyYy9tYWluL2phdmEvY29tL2V4YW1wbGUvZGVtby9zZXJ2bGV0L1NpbXBsZUhlbGxvU2VydmxldC5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtby5zZXJ2bGV0OwoKaW1wb3J0IGpha2FydGEuc2VydmxldC5hbm5vdGF0aW9uLldlYlNlcnZsZXQ7CmltcG9ydCBqYWthcnRhLnNlcnZsZXQuaHR0cC5IdHRwU2VydmxldDsKaW1wb3J0IGpha2FydGEuc2VydmxldC5odHRwLkh0dHBTZXJ2bGV0UmVxdWVzdDsKaW1wb3J0IGpha2FydGEuc2VydmxldC5odHRwLkh0dHBTZXJ2bGV0UmVzcG9uc2U7CmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOwoKQFdlYlNlcnZsZXQodXJsUGF0dGVybnMgPSAiL3NpbXBsZS1oZWxsbyIpCnB1YmxpYyBjbGFzcyBTaW1wbGVIZWxsb1NlcnZsZXQgZXh0ZW5kcyBIdHRwU2VydmxldCB7CiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCB2b2lkIGRvR2V0KEh0dHBTZXJ2bGV0UmVxdWVzdCByZXEsIEh0dHBTZXJ2bGV0UmVzcG9uc2UgcmVzcCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICByZXNwLmdldFdyaXRlcigpLndyaXRlKCJIZWxsbyBmb3JtIFNpbXBsZUhlbGxvU2VydmxldCIpOwogICAgfQp9CkVPRgoKY2F0IDw8ICdFT0YnID4gc3JjL21haW4vamF2YS9jb20vZXhhbXBsZS9kZW1vL0RlbW9BcHBsaWNhdGlvbi5qYXZhCnBhY2thZ2UgY29tLmV4YW1wbGUuZGVtbzsKCmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3QuU3ByaW5nQXBwbGljYXRpb247CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3QuYXV0b2NvbmZpZ3VyZS5TcHJpbmdCb290QXBwbGljYXRpb247CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Qud2ViLnNlcnZsZXQuU2VydmxldENvbXBvbmVudFNjYW47CgpAU3ByaW5nQm9vdEFwcGxpY2F0aW9uCkBTZXJ2bGV0Q29tcG9uZW50U2NhbgpwdWJsaWMgY2xhc3MgRGVtb0FwcGxpY2F0aW9uIHsKCglwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CgkJU3ByaW5nQXBwbGljYXRpb24ucnVuKERlbW9BcHBsaWNhdGlvbi5jbGFzcywgYXJncyk7Cgl9Cgp9CkVPRgoK",
        "src/main/java/com/example/demo/DemoApplication.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vOwoKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC5TcHJpbmdBcHBsaWNhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC5hdXRvY29uZmlndXJlLlNwcmluZ0Jvb3RBcHBsaWNhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC53ZWIuc2VydmxldC5TZXJ2bGV0Q29tcG9uZW50U2NhbjsKCkBTcHJpbmdCb290QXBwbGljYXRpb24KQFNlcnZsZXRDb21wb25lbnRTY2FuCnB1YmxpYyBjbGFzcyBEZW1vQXBwbGljYXRpb24gewoKCXB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKCQlTcHJpbmdBcHBsaWNhdGlvbi5ydW4oRGVtb0FwcGxpY2F0aW9uLmNsYXNzLCBhcmdzKTsKCX0KCn0=",
        "src/main/java/com/example/demo/config/SecurityConfig.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmNvbmZpZzsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlY3VyaXR5LkN1c3RvbVVzZXJEZXRhaWxzU2VydmljZTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VjdXJpdHkuSnd0QXV0aGVudGljYXRpb25GaWx0ZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmNvbnRleHQuYW5ub3RhdGlvbi5CZWFuOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5jb250ZXh0LmFubm90YXRpb24uQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuYXV0aGVudGljYXRpb24uQXV0aGVudGljYXRpb25NYW5hZ2VyOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb25maWcuYW5ub3RhdGlvbi5hdXRoZW50aWNhdGlvbi5jb25maWd1cmF0aW9uLkF1dGhlbnRpY2F0aW9uQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29uZmlnLmFubm90YXRpb24ud2ViLmJ1aWxkZXJzLkh0dHBTZWN1cml0eTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29uZmlnLmFubm90YXRpb24ud2ViLmNvbmZpZ3VyYXRpb24uRW5hYmxlV2ViU2VjdXJpdHk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvbmZpZy5odHRwLlNlc3Npb25DcmVhdGlvblBvbGljeTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY3J5cHRvLmJjcnlwdC5CQ3J5cHRQYXNzd29yZEVuY29kZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNyeXB0by5wYXNzd29yZC5QYXNzd29yZEVuY29kZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5TZWN1cml0eUZpbHRlckNoYWluOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYXV0aGVudGljYXRpb24uVXNlcm5hbWVQYXNzd29yZEF1dGhlbnRpY2F0aW9uRmlsdGVyOwoKQENvbmZpZ3VyYXRpb24KQEVuYWJsZVdlYlNlY3VyaXR5CnB1YmxpYyBjbGFzcyBTZWN1cml0eUNvbmZpZyB7CgogICAgcHJpdmF0ZSBmaW5hbCBDdXN0b21Vc2VyRGV0YWlsc1NlcnZpY2UgdXNlckRldGFpbHNTZXJ2aWNlOwogICAgcHJpdmF0ZSBmaW5hbCBKd3RBdXRoZW50aWNhdGlvbkZpbHRlciBqd3RBdXRoZW50aWNhdGlvbkZpbHRlcjsKCiAgICBwdWJsaWMgU2VjdXJpdHlDb25maWcoQ3VzdG9tVXNlckRldGFpbHNTZXJ2aWNlIHVzZXJEZXRhaWxzU2VydmljZSwgSnd0QXV0aGVudGljYXRpb25GaWx0ZXIgand0QXV0aGVudGljYXRpb25GaWx0ZXIpIHsKICAgICAgICB0aGlzLnVzZXJEZXRhaWxzU2VydmljZSA9IHVzZXJEZXRhaWxzU2VydmljZTsKICAgICAgICB0aGlzLmp3dEF1dGhlbnRpY2F0aW9uRmlsdGVyID0gand0QXV0aGVudGljYXRpb25GaWx0ZXI7CiAgICB9CgogICAgQEJlYW4KICAgIHB1YmxpYyBTZWN1cml0eUZpbHRlckNoYWluIHNlY3VyaXR5RmlsdGVyQ2hhaW4oSHR0cFNlY3VyaXR5IGh0dHApIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGh0dHAKICAgICAgICAgICAgLmNvcnMob3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb25maWcuQ3VzdG9taXplci53aXRoRGVmYXVsdHMoKSkKICAgICAgICAgICAgLmNzcmYoY3NyZiAtPiBjc3JmLmRpc2FibGUoKSkKICAgICAgICAgICAgLnNlc3Npb25NYW5hZ2VtZW50KHNlc3Npb24gLT4gc2Vzc2lvbi5zZXNzaW9uQ3JlYXRpb25Qb2xpY3koU2Vzc2lvbkNyZWF0aW9uUG9saWN5LlNUQVRFTEVTUykpCiAgICAgICAgICAgIC5hdXRob3JpemVIdHRwUmVxdWVzdHMoYXV0aCAtPiBhdXRoCiAgICAgICAgICAgICAgICAucmVxdWVzdE1hdGNoZXJzKCIvYXBpL2F1dGgvKioiKS5wZXJtaXRBbGwoKQogICAgICAgICAgICAgICAgLnJlcXVlc3RNYXRjaGVycygiL3YzL2FwaS1kb2NzLyoqIiwgIi9zd2FnZ2VyLXVpLyoqIiwgIi9zd2FnZ2VyLXVpLmh0bWwiKS5wZXJtaXRBbGwoKQogICAgICAgICAgICAgICAgLnJlcXVlc3RNYXRjaGVycygiL3NpbXBsZS1oZWxsbyIpLnBlcm1pdEFsbCgpIC8vIEFsbG93IHNlcnZsZXQKICAgICAgICAgICAgICAgIC5hbnlSZXF1ZXN0KCkuYXV0aGVudGljYXRlZCgpCiAgICAgICAgICAgICk7CgogICAgICAgIGh0dHAuYWRkRmlsdGVyQmVmb3JlKGp3dEF1dGhlbnRpY2F0aW9uRmlsdGVyLCBVc2VybmFtZVBhc3N3b3JkQXV0aGVudGljYXRpb25GaWx0ZXIuY2xhc3MpOwoKICAgICAgICByZXR1cm4gaHR0cC5idWlsZCgpOwogICAgfQoKICAgIEBCZWFuCiAgICBwdWJsaWMgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuY29ycy5Db3JzQ29uZmlndXJhdGlvblNvdXJjZSBjb3JzQ29uZmlndXJhdGlvblNvdXJjZSgpIHsKICAgICAgICBvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5jb3JzLkNvcnNDb25maWd1cmF0aW9uIGNvbmZpZ3VyYXRpb24gPSBuZXcgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuY29ycy5Db3JzQ29uZmlndXJhdGlvbigpOwogICAgICAgIGNvbmZpZ3VyYXRpb24uc2V0QWxsb3dlZE9yaWdpbnMoamF2YS51dGlsLkFycmF5cy5hc0xpc3QoIioiKSk7CiAgICAgICAgY29uZmlndXJhdGlvbi5zZXRBbGxvd2VkTWV0aG9kcyhqYXZhLnV0aWwuQXJyYXlzLmFzTGlzdCgiR0VUIiwgIlBPU1QiLCAiUFVUIiwgIkRFTEVURSIsICJPUFRJT05TIikpOwogICAgICAgIGNvbmZpZ3VyYXRpb24uc2V0QWxsb3dlZEhlYWRlcnMoamF2YS51dGlsLkFycmF5cy5hc0xpc3QoIioiKSk7CiAgICAgICAgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuY29ycy5VcmxCYXNlZENvcnNDb25maWd1cmF0aW9uU291cmNlIHNvdXJjZSA9IG5ldyBvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5jb3JzLlVybEJhc2VkQ29yc0NvbmZpZ3VyYXRpb25Tb3VyY2UoKTsKICAgICAgICBzb3VyY2UucmVnaXN0ZXJDb3JzQ29uZmlndXJhdGlvbigiLyoqIiwgY29uZmlndXJhdGlvbik7CiAgICAgICAgcmV0dXJuIHNvdXJjZTsKICAgIH0KCiAgICBAQmVhbgogICAgcHVibGljIEF1dGhlbnRpY2F0aW9uTWFuYWdlciBhdXRoZW50aWNhdGlvbk1hbmFnZXIoQXV0aGVudGljYXRpb25Db25maWd1cmF0aW9uIGF1dGhlbnRpY2F0aW9uQ29uZmlndXJhdGlvbikgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0aW9uQ29uZmlndXJhdGlvbi5nZXRBdXRoZW50aWNhdGlvbk1hbmFnZXIoKTsKICAgIH0KCiAgICBAQmVhbgogICAgcHVibGljIFBhc3N3b3JkRW5jb2RlciBwYXNzd29yZEVuY29kZXIoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBCQ3J5cHRQYXNzd29yZEVuY29kZXIoKTsKICAgIH0KfQo=",
        "src/main/java/com/example/demo/controller/AuthController.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmNvbnRyb2xsZXI7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5kdG8uQXV0aFJlc3BvbnNlOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5kdG8uTG9naW5SZXF1ZXN0OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5kdG8uUmVnaXN0ZXJSZXF1ZXN0OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5Vc2VyOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZWN1cml0eS5Kd3RUb2tlblByb3ZpZGVyOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLlVzZXJTZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5odHRwLlJlc3BvbnNlRW50aXR5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5hdXRoZW50aWNhdGlvbi5BdXRoZW50aWNhdGlvbk1hbmFnZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmF1dGhlbnRpY2F0aW9uLlVzZXJuYW1lUGFzc3dvcmRBdXRoZW50aWNhdGlvblRva2VuOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb3JlLkF1dGhlbnRpY2F0aW9uOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb3JlLmNvbnRleHQuU2VjdXJpdHlDb250ZXh0SG9sZGVyOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLlBvc3RNYXBwaW5nOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLlJlcXVlc3RCb2R5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLlJlcXVlc3RNYXBwaW5nOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLlJlc3RDb250cm9sbGVyOwoKQFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaS9hdXRoIikKcHVibGljIGNsYXNzIEF1dGhDb250cm9sbGVyIHsKCiAgICBwcml2YXRlIGZpbmFsIEF1dGhlbnRpY2F0aW9uTWFuYWdlciBhdXRoZW50aWNhdGlvbk1hbmFnZXI7CiAgICBwcml2YXRlIGZpbmFsIFVzZXJTZXJ2aWNlIHVzZXJTZXJ2aWNlOwogICAgcHJpdmF0ZSBmaW5hbCBKd3RUb2tlblByb3ZpZGVyIHRva2VuUHJvdmlkZXI7CgogICAgcHVibGljIEF1dGhDb250cm9sbGVyKEF1dGhlbnRpY2F0aW9uTWFuYWdlciBhdXRoZW50aWNhdGlvbk1hbmFnZXIsIFVzZXJTZXJ2aWNlIHVzZXJTZXJ2aWNlLCBKd3RUb2tlblByb3ZpZGVyIHRva2VuUHJvdmlkZXIpIHsKICAgICAgICB0aGlzLmF1dGhlbnRpY2F0aW9uTWFuYWdlciA9IGF1dGhlbnRpY2F0aW9uTWFuYWdlcjsKICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlID0gdXNlclNlcnZpY2U7CiAgICAgICAgdGhpcy50b2tlblByb3ZpZGVyID0gdG9rZW5Qcm92aWRlcjsKICAgIH0KCiAgICBAUG9zdE1hcHBpbmcoIi9yZWdpc3RlciIpCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8VXNlcj4gcmVnaXN0ZXJVc2VyKEBSZXF1ZXN0Qm9keSBSZWdpc3RlclJlcXVlc3QgcmVnaXN0ZXJSZXF1ZXN0KSB7CiAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTsKICAgICAgICB1c2VyLnNldE5hbWUocmVnaXN0ZXJSZXF1ZXN0LmdldE5hbWUoKSk7CiAgICAgICAgdXNlci5zZXRFbWFpbChyZWdpc3RlclJlcXVlc3QuZ2V0RW1haWwoKSk7CiAgICAgICAgdXNlci5zZXRQYXNzd29yZChyZWdpc3RlclJlcXVlc3QuZ2V0UGFzc3dvcmQoKSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIFJlc3BvbnNlRW50aXR5Lm9rKHVzZXJTZXJ2aWNlLnJlZ2lzdGVyKHVzZXIpKTsKICAgIH0KCiAgICBAUG9zdE1hcHBpbmcoIi9sb2dpbiIpCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8QXV0aFJlc3BvbnNlPiBhdXRoZW50aWNhdGVVc2VyKEBSZXF1ZXN0Qm9keSBMb2dpblJlcXVlc3QgbG9naW5SZXF1ZXN0KSB7CiAgICAgICAgQXV0aGVudGljYXRpb24gYXV0aGVudGljYXRpb24gPSBhdXRoZW50aWNhdGlvbk1hbmFnZXIuYXV0aGVudGljYXRlKAogICAgICAgICAgICAgICAgbmV3IFVzZXJuYW1lUGFzc3dvcmRBdXRoZW50aWNhdGlvblRva2VuKAogICAgICAgICAgICAgICAgICAgICAgICBsb2dpblJlcXVlc3QuZ2V0RW1haWwoKSwKICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5SZXF1ZXN0LmdldFBhc3N3b3JkKCkKICAgICAgICAgICAgICAgICkKICAgICAgICApOwoKICAgICAgICBTZWN1cml0eUNvbnRleHRIb2xkZXIuZ2V0Q29udGV4dCgpLnNldEF1dGhlbnRpY2F0aW9uKGF1dGhlbnRpY2F0aW9uKTsKICAgICAgICBTdHJpbmcgand0ID0gdG9rZW5Qcm92aWRlci5nZW5lcmF0ZVRva2VuKGF1dGhlbnRpY2F0aW9uKTsKICAgICAgICByZXR1cm4gUmVzcG9uc2VFbnRpdHkub2sobmV3IEF1dGhSZXNwb25zZShqd3QpKTsKICAgIH0KfQo=",
        "src/main/java/com/example/demo/controller/BudgetPlanController.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmNvbnRyb2xsZXI7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRQbGFuOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5Vc2VyOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLkJ1ZGdldFBsYW5TZXJ2aWNlOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLlVzZXJTZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5odHRwLlJlc3BvbnNlRW50aXR5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb3JlLkF1dGhlbnRpY2F0aW9uOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLio7CgpAUmVzdENvbnRyb2xsZXIKQFJlcXVlc3RNYXBwaW5nKCIvYXBpL2J1ZGdldC1wbGFucyIpCnB1YmxpYyBjbGFzcyBCdWRnZXRQbGFuQ29udHJvbGxlciB7CgogICAgcHJpdmF0ZSBmaW5hbCBCdWRnZXRQbGFuU2VydmljZSBidWRnZXRQbGFuU2VydmljZTsKICAgIHByaXZhdGUgZmluYWwgVXNlclNlcnZpY2UgdXNlclNlcnZpY2U7CgogICAgcHVibGljIEJ1ZGdldFBsYW5Db250cm9sbGVyKEJ1ZGdldFBsYW5TZXJ2aWNlIGJ1ZGdldFBsYW5TZXJ2aWNlLCBVc2VyU2VydmljZSB1c2VyU2VydmljZSkgewogICAgICAgIHRoaXMuYnVkZ2V0UGxhblNlcnZpY2UgPSBidWRnZXRQbGFuU2VydmljZTsKICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlID0gdXNlclNlcnZpY2U7CiAgICB9CgogICAgQFBvc3RNYXBwaW5nCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8QnVkZ2V0UGxhbj4gY3JlYXRlQnVkZ2V0UGxhbihAUmVxdWVzdEJvZHkgQnVkZ2V0UGxhbiBwbGFuLCBBdXRoZW50aWNhdGlvbiBhdXRoZW50aWNhdGlvbikgewogICAgICAgIFVzZXIgdXNlciA9IHVzZXJTZXJ2aWNlLmZpbmRCeUVtYWlsKGF1dGhlbnRpY2F0aW9uLmdldE5hbWUoKSk7CiAgICAgICAgcmV0dXJuIFJlc3BvbnNlRW50aXR5Lm9rKGJ1ZGdldFBsYW5TZXJ2aWNlLmNyZWF0ZUJ1ZGdldFBsYW4odXNlci5nZXRJZCgpLCBwbGFuKSk7CiAgICB9CgogICAgQEdldE1hcHBpbmcKICAgIHB1YmxpYyBSZXNwb25zZUVudGl0eTxCdWRnZXRQbGFuPiBnZXRCdWRnZXRQbGFuKEBSZXF1ZXN0UGFyYW0gSW50ZWdlciBtb250aCwgQFJlcXVlc3RQYXJhbSBJbnRlZ2VyIHllYXIsIEF1dGhlbnRpY2F0aW9uIGF1dGhlbnRpY2F0aW9uKSB7CiAgICAgICAgVXNlciB1c2VyID0gdXNlclNlcnZpY2UuZmluZEJ5RW1haWwoYXV0aGVudGljYXRpb24uZ2V0TmFtZSgpKTsKICAgICAgICByZXR1cm4gUmVzcG9uc2VFbnRpdHkub2soYnVkZ2V0UGxhblNlcnZpY2UuZ2V0QnVkZ2V0UGxhbih1c2VyLmdldElkKCksIG1vbnRoLCB5ZWFyKSk7CiAgICB9Cn0K",
        "src/main/java/com/example/demo/controller/BudgetSummaryController.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmNvbnRyb2xsZXI7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRTdW1tYXJ5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLkJ1ZGdldFN1bW1hcnlTZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5odHRwLlJlc3BvbnNlRW50aXR5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLio7CgpAUmVzdENvbnRyb2xsZXIKQFJlcXVlc3RNYXBwaW5nKCIvYXBpL2J1ZGdldC1zdW1tYXJpZXMiKQpwdWJsaWMgY2xhc3MgQnVkZ2V0U3VtbWFyeUNvbnRyb2xsZXIgewoKICAgIHByaXZhdGUgZmluYWwgQnVkZ2V0U3VtbWFyeVNlcnZpY2UgYnVkZ2V0U3VtbWFyeVNlcnZpY2U7CgogICAgcHVibGljIEJ1ZGdldFN1bW1hcnlDb250cm9sbGVyKEJ1ZGdldFN1bW1hcnlTZXJ2aWNlIGJ1ZGdldFN1bW1hcnlTZXJ2aWNlKSB7CiAgICAgICAgdGhpcy5idWRnZXRTdW1tYXJ5U2VydmljZSA9IGJ1ZGdldFN1bW1hcnlTZXJ2aWNlOwogICAgfQoKICAgIEBQb3N0TWFwcGluZygiL2dlbmVyYXRlL3twbGFuSWR9IikKICAgIHB1YmxpYyBSZXNwb25zZUVudGl0eTxCdWRnZXRTdW1tYXJ5PiBnZW5lcmF0ZVN1bW1hcnkoQFBhdGhWYXJpYWJsZSBMb25nIHBsYW5JZCkgewogICAgICAgIHJldHVybiBSZXNwb25zZUVudGl0eS5vayhidWRnZXRTdW1tYXJ5U2VydmljZS5nZW5lcmF0ZVN1bW1hcnkocGxhbklkKSk7CiAgICB9CgogICAgQEdldE1hcHBpbmcoIi97cGxhbklkfSIpCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8QnVkZ2V0U3VtbWFyeT4gZ2V0U3VtbWFyeShAUGF0aFZhcmlhYmxlIExvbmcgcGxhbklkKSB7CiAgICAgICAgcmV0dXJuIFJlc3BvbnNlRW50aXR5Lm9rKGJ1ZGdldFN1bW1hcnlTZXJ2aWNlLmdldFN1bW1hcnkocGxhbklkKSk7CiAgICB9Cn0K",
        "src/main/java/com/example/demo/controller/CategoryController.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmNvbnRyb2xsZXI7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5DYXRlZ29yeTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VydmljZS5DYXRlZ29yeVNlcnZpY2U7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmh0dHAuUmVzcG9uc2VFbnRpdHk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5iaW5kLmFubm90YXRpb24uKjsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCkBSZXN0Q29udHJvbGxlcgpAUmVxdWVzdE1hcHBpbmcoIi9hcGkvY2F0ZWdvcmllcyIpCnB1YmxpYyBjbGFzcyBDYXRlZ29yeUNvbnRyb2xsZXIgewoKICAgIHByaXZhdGUgZmluYWwgQ2F0ZWdvcnlTZXJ2aWNlIGNhdGVnb3J5U2VydmljZTsKCiAgICBwdWJsaWMgQ2F0ZWdvcnlDb250cm9sbGVyKENhdGVnb3J5U2VydmljZSBjYXRlZ29yeVNlcnZpY2UpIHsKICAgICAgICB0aGlzLmNhdGVnb3J5U2VydmljZSA9IGNhdGVnb3J5U2VydmljZTsKICAgIH0KCiAgICBAUG9zdE1hcHBpbmcKICAgIHB1YmxpYyBSZXNwb25zZUVudGl0eTxDYXRlZ29yeT4gYWRkQ2F0ZWdvcnkoQFJlcXVlc3RCb2R5IENhdGVnb3J5IGNhdGVnb3J5KSB7CiAgICAgICAgcmV0dXJuIFJlc3BvbnNlRW50aXR5Lm9rKGNhdGVnb3J5U2VydmljZS5hZGRDYXRlZ29yeShjYXRlZ29yeSkpOwogICAgfQoKICAgIEBHZXRNYXBwaW5nCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8TGlzdDxDYXRlZ29yeT4+IGdldEFsbENhdGVnb3JpZXMoKSB7CiAgICAgICAgcmV0dXJuIFJlc3BvbnNlRW50aXR5Lm9rKGNhdGVnb3J5U2VydmljZS5nZXRBbGxDYXRlZ29yaWVzKCkpOwogICAgfQp9Cg==",
        "src/main/java/com/example/demo/controller/TransactionController.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmNvbnRyb2xsZXI7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5UcmFuc2FjdGlvbkxvZzsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVXNlcjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VydmljZS5UcmFuc2FjdGlvblNlcnZpY2U7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuVXNlclNlcnZpY2U7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmh0dHAuUmVzcG9uc2VFbnRpdHk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUuQXV0aGVudGljYXRpb247CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5iaW5kLmFubm90YXRpb24uKjsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCkBSZXN0Q29udHJvbGxlcgpAUmVxdWVzdE1hcHBpbmcoIi9hcGkvdHJhbnNhY3Rpb25zIikKcHVibGljIGNsYXNzIFRyYW5zYWN0aW9uQ29udHJvbGxlciB7CgogICAgcHJpdmF0ZSBmaW5hbCBUcmFuc2FjdGlvblNlcnZpY2UgdHJhbnNhY3Rpb25TZXJ2aWNlOwogICAgcHJpdmF0ZSBmaW5hbCBVc2VyU2VydmljZSB1c2VyU2VydmljZTsKCiAgICBwdWJsaWMgVHJhbnNhY3Rpb25Db250cm9sbGVyKFRyYW5zYWN0aW9uU2VydmljZSB0cmFuc2FjdGlvblNlcnZpY2UsIFVzZXJTZXJ2aWNlIHVzZXJTZXJ2aWNlKSB7CiAgICAgICAgdGhpcy50cmFuc2FjdGlvblNlcnZpY2UgPSB0cmFuc2FjdGlvblNlcnZpY2U7CiAgICAgICAgdGhpcy51c2VyU2VydmljZSA9IHVzZXJTZXJ2aWNlOwogICAgfQoKICAgIEBQb3N0TWFwcGluZwogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PFRyYW5zYWN0aW9uTG9nPiBhZGRUcmFuc2FjdGlvbihAUmVxdWVzdEJvZHkgVHJhbnNhY3Rpb25Mb2cgbG9nLCBBdXRoZW50aWNhdGlvbiBhdXRoZW50aWNhdGlvbikgewogICAgICAgIFVzZXIgdXNlciA9IHVzZXJTZXJ2aWNlLmZpbmRCeUVtYWlsKGF1dGhlbnRpY2F0aW9uLmdldE5hbWUoKSk7CiAgICAgICAgcmV0dXJuIFJlc3BvbnNlRW50aXR5Lm9rKHRyYW5zYWN0aW9uU2VydmljZS5hZGRUcmFuc2FjdGlvbih1c2VyLmdldElkKCksIGxvZykpOwogICAgfQoKICAgIEBHZXRNYXBwaW5nCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8TGlzdDxUcmFuc2FjdGlvbkxvZz4+IGdldFVzZXJUcmFuc2FjdGlvbnMoQXV0aGVudGljYXRpb24gYXV0aGVudGljYXRpb24pIHsKICAgICAgICBVc2VyIHVzZXIgPSB1c2VyU2VydmljZS5maW5kQnlFbWFpbChhdXRoZW50aWNhdGlvbi5nZXROYW1lKCkpOwogICAgICAgIHJldHVybiBSZXNwb25zZUVudGl0eS5vayh0cmFuc2FjdGlvblNlcnZpY2UuZ2V0VXNlclRyYW5zYWN0aW9ucyh1c2VyLmdldElkKCkpKTsKICAgIH0KfQo=",
        "src/main/java/com/example/demo/dto/AuthResponse.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmR0bzsKCnB1YmxpYyBjbGFzcyBBdXRoUmVzcG9uc2UgewogICAgcHJpdmF0ZSBTdHJpbmcgYWNjZXNzVG9rZW47CiAgICBwcml2YXRlIFN0cmluZyB0b2tlblR5cGUgPSAiQmVhcmVyIjsKCiAgICBwdWJsaWMgQXV0aFJlc3BvbnNlKFN0cmluZyBhY2Nlc3NUb2tlbikgewogICAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbjsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEFjY2Vzc1Rva2VuKCkgeyByZXR1cm4gYWNjZXNzVG9rZW47IH0KICAgIHB1YmxpYyB2b2lkIHNldEFjY2Vzc1Rva2VuKFN0cmluZyBhY2Nlc3NUb2tlbikgeyB0aGlzLmFjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW47IH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFRva2VuVHlwZSgpIHsgcmV0dXJuIHRva2VuVHlwZTsgfQogICAgcHVibGljIHZvaWQgc2V0VG9rZW5UeXBlKFN0cmluZyB0b2tlblR5cGUpIHsgdGhpcy50b2tlblR5cGUgPSB0b2tlblR5cGU7IH0KfQo=",
        "src/main/java/com/example/demo/dto/LoginRequest.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmR0bzsKCnB1YmxpYyBjbGFzcyBMb2dpblJlcXVlc3QgewogICAgcHJpdmF0ZSBTdHJpbmcgZW1haWw7CiAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDsKCiAgICBwdWJsaWMgTG9naW5SZXF1ZXN0KCkge30KCiAgICBwdWJsaWMgTG9naW5SZXF1ZXN0KFN0cmluZyBlbWFpbCwgU3RyaW5nIHBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsOwogICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEVtYWlsKCkgeyByZXR1cm4gZW1haWw7IH0KICAgIHB1YmxpYyB2b2lkIHNldEVtYWlsKFN0cmluZyBlbWFpbCkgeyB0aGlzLmVtYWlsID0gZW1haWw7IH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFBhc3N3b3JkKCkgeyByZXR1cm4gcGFzc3dvcmQ7IH0KICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkgeyB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7IH0KfQo=",
        "src/main/java/com/example/demo/dto/RegisterRequest.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmR0bzsKCnB1YmxpYyBjbGFzcyBSZWdpc3RlclJlcXVlc3QgewogICAgcHJpdmF0ZSBTdHJpbmcgbmFtZTsKICAgIHByaXZhdGUgU3RyaW5nIGVtYWlsOwogICAgcHJpdmF0ZSBTdHJpbmcgcGFzc3dvcmQ7CgogICAgcHVibGljIFJlZ2lzdGVyUmVxdWVzdCgpIHt9CgogICAgcHVibGljIFJlZ2lzdGVyUmVxdWVzdChTdHJpbmcgbmFtZSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIHsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDsKICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgeyByZXR1cm4gbmFtZTsgfQogICAgcHVibGljIHZvaWQgc2V0TmFtZShTdHJpbmcgbmFtZSkgeyB0aGlzLm5hbWUgPSBuYW1lOyB9CgogICAgcHVibGljIFN0cmluZyBnZXRFbWFpbCgpIHsgcmV0dXJuIGVtYWlsOyB9CiAgICBwdWJsaWMgdm9pZCBzZXRFbWFpbChTdHJpbmcgZW1haWwpIHsgdGhpcy5lbWFpbCA9IGVtYWlsOyB9CgogICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHsgcmV0dXJuIHBhc3N3b3JkOyB9CiAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHsgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkOyB9Cn0K",
        "src/main/java/com/example/demo/exception/BadRequestException.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmh0dHAuSHR0cFN0YXR1czsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5SZXNwb25zZVN0YXR1czsKCkBSZXNwb25zZVN0YXR1cyhIdHRwU3RhdHVzLkJBRF9SRVFVRVNUKQpwdWJsaWMgY2xhc3MgQmFkUmVxdWVzdEV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24gewogICAgcHVibGljIEJhZFJlcXVlc3RFeGNlcHRpb24oU3RyaW5nIG1lc3NhZ2UpIHsKICAgICAgICBzdXBlcihtZXNzYWdlKTsKICAgIH0KfQo=",
        "src/main/java/com/example/demo/exception/ConflictException.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmh0dHAuSHR0cFN0YXR1czsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5SZXNwb25zZVN0YXR1czsKCkBSZXNwb25zZVN0YXR1cyhIdHRwU3RhdHVzLkNPTkZMSUNUKQpwdWJsaWMgY2xhc3MgQ29uZmxpY3RFeGNlcHRpb24gZXh0ZW5kcyBSdW50aW1lRXhjZXB0aW9uIHsKICAgIHB1YmxpYyBDb25mbGljdEV4Y2VwdGlvbihTdHJpbmcgbWVzc2FnZSkgewogICAgICAgIHN1cGVyKG1lc3NhZ2UpOwogICAgfQp9Cg==",
        "src/main/java/com/example/demo/exception/GlobalExceptionHandler.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmh0dHAuSHR0cFN0YXR1czsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuaHR0cC5SZXNwb25zZUVudGl0eTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5Db250cm9sbGVyQWR2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLkV4Y2VwdGlvbkhhbmRsZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5jb250ZXh0LnJlcXVlc3QuV2ViUmVxdWVzdDsKCmltcG9ydCBqYXZhLnV0aWwuRGF0ZTsKaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOwppbXBvcnQgamF2YS51dGlsLk1hcDsKCkBDb250cm9sbGVyQWR2aWNlCnB1YmxpYyBjbGFzcyBHbG9iYWxFeGNlcHRpb25IYW5kbGVyIHsKCiAgICBARXhjZXB0aW9uSGFuZGxlcihCYWRSZXF1ZXN0RXhjZXB0aW9uLmNsYXNzKQogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PD8+IGhhbmRsZUJhZFJlcXVlc3RFeGNlcHRpb24oQmFkUmVxdWVzdEV4Y2VwdGlvbiBleCwgV2ViUmVxdWVzdCByZXF1ZXN0KSB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiBib2R5ID0gbmV3IEhhc2hNYXA8PigpOwogICAgICAgIGJvZHkucHV0KCJ0aW1lc3RhbXAiLCBuZXcgRGF0ZSgpKTsKICAgICAgICBib2R5LnB1dCgic3RhdHVzIiwgSHR0cFN0YXR1cy5CQURfUkVRVUVTVC52YWx1ZSgpKTsKICAgICAgICBib2R5LnB1dCgiZXJyb3IiLCAiQmFkIFJlcXVlc3QiKTsKICAgICAgICBib2R5LnB1dCgibWVzc2FnZSIsIGV4LmdldE1lc3NhZ2UoKSk7CiAgICAgICAgYm9keS5wdXQoInBhdGgiLCByZXF1ZXN0LmdldERlc2NyaXB0aW9uKGZhbHNlKSk7CiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZUVudGl0eTw+KGJvZHksIEh0dHBTdGF0dXMuQkFEX1JFUVVFU1QpOwogICAgfQoKICAgIEBFeGNlcHRpb25IYW5kbGVyKENvbmZsaWN0RXhjZXB0aW9uLmNsYXNzKQogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PD8+IGhhbmRsZUNvbmZsaWN0RXhjZXB0aW9uKENvbmZsaWN0RXhjZXB0aW9uIGV4LCBXZWJSZXF1ZXN0IHJlcXVlc3QpIHsKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IGJvZHkgPSBuZXcgSGFzaE1hcDw+KCk7CiAgICAgICAgYm9keS5wdXQoInRpbWVzdGFtcCIsIG5ldyBEYXRlKCkpOwogICAgICAgIGJvZHkucHV0KCJzdGF0dXMiLCBIdHRwU3RhdHVzLkNPTkZMSUNULnZhbHVlKCkpOwogICAgICAgIGJvZHkucHV0KCJlcnJvciIsICJDb25mbGljdCIpOwogICAgICAgIGJvZHkucHV0KCJtZXNzYWdlIiwgZXguZ2V0TWVzc2FnZSgpKTsKICAgICAgICBib2R5LnB1dCgicGF0aCIsIHJlcXVlc3QuZ2V0RGVzY3JpcHRpb24oZmFsc2UpKTsKICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlRW50aXR5PD4oYm9keSwgSHR0cFN0YXR1cy5DT05GTElDVCk7CiAgICB9CgogICAgQEV4Y2VwdGlvbkhhbmRsZXIoRXhjZXB0aW9uLmNsYXNzKQogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PD8+IGhhbmRsZUdsb2JhbEV4Y2VwdGlvbihFeGNlcHRpb24gZXgsIFdlYlJlcXVlc3QgcmVxdWVzdCkgewogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gYm9keSA9IG5ldyBIYXNoTWFwPD4oKTsKICAgICAgICBib2R5LnB1dCgidGltZXN0YW1wIiwgbmV3IERhdGUoKSk7CiAgICAgICAgYm9keS5wdXQoInN0YXR1cyIsIEh0dHBTdGF0dXMuSU5URVJOQUxfU0VSVkVSX0VSUk9SLnZhbHVlKCkpOwogICAgICAgIGJvZHkucHV0KCJlcnJvciIsICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKTsKICAgICAgICBib2R5LnB1dCgibWVzc2FnZSIsIGV4LmdldE1lc3NhZ2UoKSk7CiAgICAgICAgYm9keS5wdXQoInBhdGgiLCByZXF1ZXN0LmdldERlc2NyaXB0aW9uKGZhbHNlKSk7CiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZUVudGl0eTw+KGJvZHksIEh0dHBTdGF0dXMuSU5URVJOQUxfU0VSVkVSX0VSUk9SKTsKICAgIH0KfQo=",
        "src/main/java/com/example/demo/model/BudgetPlan.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLm1vZGVsOwoKaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjsKCkBFbnRpdHkKQFRhYmxlKG5hbWUgPSAiYnVkZ2V0X3BsYW5zIikKcHVibGljIGNsYXNzIEJ1ZGdldFBsYW4gewoKICAgIEBJZAogICAgQEdlbmVyYXRlZFZhbHVlKHN0cmF0ZWd5ID0gR2VuZXJhdGlvblR5cGUuSURFTlRJVFkpCiAgICBwcml2YXRlIExvbmcgaWQ7CgogICAgQE1hbnlUb09uZQogICAgQEpvaW5Db2x1bW4obmFtZSA9ICJ1c2VyX2lkIikKICAgIHByaXZhdGUgVXNlciB1c2VyOwoKICAgIHByaXZhdGUgSW50ZWdlciBtb250aDsKCiAgICBAQ29sdW1uKG5hbWUgPSAiYHllYXJgIikKICAgIHByaXZhdGUgSW50ZWdlciB5ZWFyOwoKICAgIHByaXZhdGUgRG91YmxlIGluY29tZVRhcmdldDsKCiAgICBwcml2YXRlIERvdWJsZSBleHBlbnNlTGltaXQ7CgogICAgQE9uZVRvT25lKG1hcHBlZEJ5ID0gImJ1ZGdldFBsYW4iKQogICAgcHJpdmF0ZSBCdWRnZXRTdW1tYXJ5IGJ1ZGdldFN1bW1hcnk7CgogICAgcHVibGljIEJ1ZGdldFBsYW4oKSB7CiAgICB9CgogICAgcHVibGljIEJ1ZGdldFBsYW4oTG9uZyBpZCwgVXNlciB1c2VyLCBJbnRlZ2VyIG1vbnRoLCBJbnRlZ2VyIHllYXIsIERvdWJsZSBpbmNvbWVUYXJnZXQsIERvdWJsZSBleHBlbnNlTGltaXQpIHsKICAgICAgICB0aGlzLmlkID0gaWQ7CiAgICAgICAgdGhpcy51c2VyID0gdXNlcjsKICAgICAgICB0aGlzLm1vbnRoID0gbW9udGg7CiAgICAgICAgdGhpcy55ZWFyID0geWVhcjsKICAgICAgICB0aGlzLmluY29tZVRhcmdldCA9IGluY29tZVRhcmdldDsKICAgICAgICB0aGlzLmV4cGVuc2VMaW1pdCA9IGV4cGVuc2VMaW1pdDsKICAgIH0KCiAgICBwdWJsaWMgTG9uZyBnZXRJZCgpIHsKICAgICAgICByZXR1cm4gaWQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SWQoTG9uZyBpZCkgewogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgIH0KCiAgICBwdWJsaWMgVXNlciBnZXRVc2VyKCkgewogICAgICAgIHJldHVybiB1c2VyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVzZXIoVXNlciB1c2VyKSB7CiAgICAgICAgdGhpcy51c2VyID0gdXNlcjsKICAgIH0KCiAgICBwdWJsaWMgSW50ZWdlciBnZXRNb250aCgpIHsKICAgICAgICByZXR1cm4gbW9udGg7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TW9udGgoSW50ZWdlciBtb250aCkgewogICAgICAgIHRoaXMubW9udGggPSBtb250aDsKICAgIH0KCiAgICBwdWJsaWMgSW50ZWdlciBnZXRZZWFyKCkgewogICAgICAgIHJldHVybiB5ZWFyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFllYXIoSW50ZWdlciB5ZWFyKSB7CiAgICAgICAgdGhpcy55ZWFyID0geWVhcjsKICAgIH0KCiAgICBwdWJsaWMgRG91YmxlIGdldEluY29tZVRhcmdldCgpIHsKICAgICAgICByZXR1cm4gaW5jb21lVGFyZ2V0OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEluY29tZVRhcmdldChEb3VibGUgaW5jb21lVGFyZ2V0KSB7CiAgICAgICAgdGhpcy5pbmNvbWVUYXJnZXQgPSBpbmNvbWVUYXJnZXQ7CiAgICB9CgogICAgcHVibGljIERvdWJsZSBnZXRFeHBlbnNlTGltaXQoKSB7CiAgICAgICAgcmV0dXJuIGV4cGVuc2VMaW1pdDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRFeHBlbnNlTGltaXQoRG91YmxlIGV4cGVuc2VMaW1pdCkgewogICAgICAgIHRoaXMuZXhwZW5zZUxpbWl0ID0gZXhwZW5zZUxpbWl0OwogICAgfQoKICAgIHB1YmxpYyBCdWRnZXRTdW1tYXJ5IGdldEJ1ZGdldFN1bW1hcnkoKSB7CiAgICAgICAgcmV0dXJuIGJ1ZGdldFN1bW1hcnk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QnVkZ2V0U3VtbWFyeShCdWRnZXRTdW1tYXJ5IGJ1ZGdldFN1bW1hcnkpIHsKICAgICAgICB0aGlzLmJ1ZGdldFN1bW1hcnkgPSBidWRnZXRTdW1tYXJ5OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHZhbGlkYXRlKCkgewogICAgICAgIGlmIChtb250aCA9PSBudWxsIHx8IG1vbnRoIDwgMSB8fCBtb250aCA+IDEyKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbi5CYWRSZXF1ZXN0RXhjZXB0aW9uKCJJbnZhbGlkIG1vbnRoIik7CiAgICAgICAgfQogICAgfQp9Cg==",
        "src/main/java/com/example/demo/model/BudgetSummary.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLm1vZGVsOwoKaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjsKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOwoKQEVudGl0eQpAVGFibGUobmFtZSA9ICJidWRnZXRfc3VtbWFyaWVzIikKcHVibGljIGNsYXNzIEJ1ZGdldFN1bW1hcnkgewoKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIFNUQVRVU19VTkRFUl9MSU1JVCA9ICJVTkRFUl9MSU1JVCI7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBTVEFUVVNfT1ZFUl9MSU1JVCA9ICJPVkVSX0xJTUlUIjsKCiAgICBASWQKICAgIEBHZW5lcmF0ZWRWYWx1ZShzdHJhdGVneSA9IEdlbmVyYXRpb25UeXBlLklERU5USVRZKQogICAgcHJpdmF0ZSBMb25nIGlkOwoKICAgIEBPbmVUb09uZQogICAgQEpvaW5Db2x1bW4obmFtZSA9ICJidWRnZXRfcGxhbl9pZCIpCiAgICBwcml2YXRlIEJ1ZGdldFBsYW4gYnVkZ2V0UGxhbjsKCiAgICBwcml2YXRlIERvdWJsZSB0b3RhbEluY29tZTsKCiAgICBwcml2YXRlIERvdWJsZSB0b3RhbEV4cGVuc2U7CgogICAgcHJpdmF0ZSBTdHJpbmcgc3RhdHVzOwoKICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBnZW5lcmF0ZWRBdDsKCiAgICBwdWJsaWMgQnVkZ2V0U3VtbWFyeSgpIHsKICAgIH0KCiAgICBwdWJsaWMgQnVkZ2V0U3VtbWFyeShMb25nIGlkLCBCdWRnZXRQbGFuIGJ1ZGdldFBsYW4sIERvdWJsZSB0b3RhbEluY29tZSwgRG91YmxlIHRvdGFsRXhwZW5zZSwgU3RyaW5nIHN0YXR1cywgTG9jYWxEYXRlVGltZSBnZW5lcmF0ZWRBdCkgewogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgICAgICB0aGlzLmJ1ZGdldFBsYW4gPSBidWRnZXRQbGFuOwogICAgICAgIHRoaXMudG90YWxJbmNvbWUgPSB0b3RhbEluY29tZTsKICAgICAgICB0aGlzLnRvdGFsRXhwZW5zZSA9IHRvdGFsRXhwZW5zZTsKICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1czsKICAgICAgICB0aGlzLmdlbmVyYXRlZEF0ID0gZ2VuZXJhdGVkQXQ7CiAgICB9CgogICAgQFByZVBlcnNpc3QKICAgIHB1YmxpYyB2b2lkIG9uQ3JlYXRlKCkgewogICAgICAgIGlmICh0aGlzLmdlbmVyYXRlZEF0ID09IG51bGwpIHsKICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZWRBdCA9IExvY2FsRGF0ZVRpbWUubm93KCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBMb25nIGdldElkKCkgewogICAgICAgIHJldHVybiBpZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJZChMb25nIGlkKSB7CiAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgfQoKICAgIHB1YmxpYyBCdWRnZXRQbGFuIGdldEJ1ZGdldFBsYW4oKSB7CiAgICAgICAgcmV0dXJuIGJ1ZGdldFBsYW47CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QnVkZ2V0UGxhbihCdWRnZXRQbGFuIGJ1ZGdldFBsYW4pIHsKICAgICAgICB0aGlzLmJ1ZGdldFBsYW4gPSBidWRnZXRQbGFuOwogICAgfQoKICAgIHB1YmxpYyBEb3VibGUgZ2V0VG90YWxJbmNvbWUoKSB7CiAgICAgICAgcmV0dXJuIHRvdGFsSW5jb21lOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRvdGFsSW5jb21lKERvdWJsZSB0b3RhbEluY29tZSkgewogICAgICAgIHRoaXMudG90YWxJbmNvbWUgPSB0b3RhbEluY29tZTsKICAgIH0KCiAgICBwdWJsaWMgRG91YmxlIGdldFRvdGFsRXhwZW5zZSgpIHsKICAgICAgICByZXR1cm4gdG90YWxFeHBlbnNlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRvdGFsRXhwZW5zZShEb3VibGUgdG90YWxFeHBlbnNlKSB7CiAgICAgICAgdGhpcy50b3RhbEV4cGVuc2UgPSB0b3RhbEV4cGVuc2U7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRTdGF0dXMoKSB7CiAgICAgICAgcmV0dXJuIHN0YXR1czsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTdGF0dXMoU3RyaW5nIHN0YXR1cykgewogICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzOwogICAgfQoKICAgIHB1YmxpYyBMb2NhbERhdGVUaW1lIGdldEdlbmVyYXRlZEF0KCkgewogICAgICAgIHJldHVybiBnZW5lcmF0ZWRBdDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRHZW5lcmF0ZWRBdChMb2NhbERhdGVUaW1lIGdlbmVyYXRlZEF0KSB7CiAgICAgICAgdGhpcy5nZW5lcmF0ZWRBdCA9IGdlbmVyYXRlZEF0OwogICAgfQp9Cg==",
        "src/main/java/com/example/demo/model/Category.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLm1vZGVsOwoKaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKQEVudGl0eQpAVGFibGUobmFtZSA9ICJjYXRlZ29yaWVzIikKcHVibGljIGNsYXNzIENhdGVnb3J5IHsKCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBUWVBFX0lOQ09NRSA9ICJJTkNPTUUiOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgVFlQRV9FWFBFTlNFID0gIkVYUEVOU0UiOwoKICAgIEBJZAogICAgQEdlbmVyYXRlZFZhbHVlKHN0cmF0ZWd5ID0gR2VuZXJhdGlvblR5cGUuSURFTlRJVFkpCiAgICBwcml2YXRlIExvbmcgaWQ7CgogICAgQENvbHVtbih1bmlxdWUgPSB0cnVlKQogICAgcHJpdmF0ZSBTdHJpbmcgbmFtZTsKCiAgICBwcml2YXRlIFN0cmluZyB0eXBlOwoKICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSAiY2F0ZWdvcnkiKQogICAgcHJpdmF0ZSBMaXN0PFRyYW5zYWN0aW9uTG9nPiB0cmFuc2FjdGlvbkxvZ3M7CgogICAgcHVibGljIENhdGVnb3J5KCkgewogICAgfQoKICAgIHB1YmxpYyBDYXRlZ29yeShMb25nIGlkLCBTdHJpbmcgbmFtZSwgU3RyaW5nIHR5cGUpIHsKICAgICAgICB0aGlzLmlkID0gaWQ7CiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgICB0aGlzLnR5cGUgPSB0eXBlOwogICAgfQoKICAgIHB1YmxpYyBMb25nIGdldElkKCkgewogICAgICAgIHJldHVybiBpZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJZChMb25nIGlkKSB7CiAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsKICAgICAgICByZXR1cm4gbmFtZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXROYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFR5cGUoKSB7CiAgICAgICAgcmV0dXJuIHR5cGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VHlwZShTdHJpbmcgdHlwZSkgewogICAgICAgIHRoaXMudHlwZSA9IHR5cGU7CiAgICB9CgogICAgcHVibGljIExpc3Q8VHJhbnNhY3Rpb25Mb2c+IGdldFRyYW5zYWN0aW9uTG9ncygpIHsKICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25Mb2dzOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRyYW5zYWN0aW9uTG9ncyhMaXN0PFRyYW5zYWN0aW9uTG9nPiB0cmFuc2FjdGlvbkxvZ3MpIHsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uTG9ncyA9IHRyYW5zYWN0aW9uTG9nczsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB2YWxpZGF0ZVR5cGUoKSB7CiAgICAgICAgaWYgKCFUWVBFX0lOQ09NRS5lcXVhbHModHlwZSkgJiYgIVRZUEVfRVhQRU5TRS5lcXVhbHModHlwZSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IGNvbS5leGFtcGxlLmRlbW8uZXhjZXB0aW9uLkJhZFJlcXVlc3RFeGNlcHRpb24oIkludmFsaWQgY2F0ZWdvcnkgdHlwZSIpOwogICAgICAgIH0KICAgIH0KfQo=",
        "src/main/java/com/example/demo/model/TransactionLog.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLm1vZGVsOwoKaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjsKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7CgpARW50aXR5CkBUYWJsZShuYW1lID0gInRyYW5zYWN0aW9uX2xvZ3MiKQpwdWJsaWMgY2xhc3MgVHJhbnNhY3Rpb25Mb2cgewoKICAgIEBJZAogICAgQEdlbmVyYXRlZFZhbHVlKHN0cmF0ZWd5ID0gR2VuZXJhdGlvblR5cGUuSURFTlRJVFkpCiAgICBwcml2YXRlIExvbmcgaWQ7CgogICAgQE1hbnlUb09uZQogICAgQEpvaW5Db2x1bW4obmFtZSA9ICJ1c2VyX2lkIikKICAgIHByaXZhdGUgVXNlciB1c2VyOwoKICAgIEBNYW55VG9PbmUKICAgIEBKb2luQ29sdW1uKG5hbWUgPSAiY2F0ZWdvcnlfaWQiKQogICAgcHJpdmF0ZSBDYXRlZ29yeSBjYXRlZ29yeTsKCiAgICBwcml2YXRlIERvdWJsZSBhbW91bnQ7CgogICAgcHJpdmF0ZSBTdHJpbmcgZGVzY3JpcHRpb247CgogICAgcHJpdmF0ZSBMb2NhbERhdGUgdHJhbnNhY3Rpb25EYXRlOwoKICAgIHB1YmxpYyBUcmFuc2FjdGlvbkxvZygpIHsKICAgIH0KCiAgICBwdWJsaWMgVHJhbnNhY3Rpb25Mb2coTG9uZyBpZCwgVXNlciB1c2VyLCBDYXRlZ29yeSBjYXRlZ29yeSwgRG91YmxlIGFtb3VudCwgU3RyaW5nIGRlc2NyaXB0aW9uLCBMb2NhbERhdGUgdHJhbnNhY3Rpb25EYXRlKSB7CiAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgICAgIHRoaXMudXNlciA9IHVzZXI7CiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5OwogICAgICAgIHRoaXMuYW1vdW50ID0gYW1vdW50OwogICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uRGF0ZSA9IHRyYW5zYWN0aW9uRGF0ZTsKICAgIH0KCiAgICBwdWJsaWMgTG9uZyBnZXRJZCgpIHsKICAgICAgICByZXR1cm4gaWQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SWQoTG9uZyBpZCkgewogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgIH0KCiAgICBwdWJsaWMgVXNlciBnZXRVc2VyKCkgewogICAgICAgIHJldHVybiB1c2VyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVzZXIoVXNlciB1c2VyKSB7CiAgICAgICAgdGhpcy51c2VyID0gdXNlcjsKICAgIH0KCiAgICBwdWJsaWMgQ2F0ZWdvcnkgZ2V0Q2F0ZWdvcnkoKSB7CiAgICAgICAgcmV0dXJuIGNhdGVnb3J5OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENhdGVnb3J5KENhdGVnb3J5IGNhdGVnb3J5KSB7CiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5OwogICAgfQoKICAgIHB1YmxpYyBEb3VibGUgZ2V0QW1vdW50KCkgewogICAgICAgIHJldHVybiBhbW91bnQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QW1vdW50KERvdWJsZSBhbW91bnQpIHsKICAgICAgICB0aGlzLmFtb3VudCA9IGFtb3VudDsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkgewogICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREZXNjcmlwdGlvbihTdHJpbmcgZGVzY3JpcHRpb24pIHsKICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247CiAgICB9CgogICAgcHVibGljIExvY2FsRGF0ZSBnZXRUcmFuc2FjdGlvbkRhdGUoKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uRGF0ZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUcmFuc2FjdGlvbkRhdGUoTG9jYWxEYXRlIHRyYW5zYWN0aW9uRGF0ZSkgewogICAgICAgIHRoaXMudHJhbnNhY3Rpb25EYXRlID0gdHJhbnNhY3Rpb25EYXRlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHZhbGlkYXRlKCkgewogICAgICAgIGlmICh0cmFuc2FjdGlvbkRhdGUgIT0gbnVsbCAmJiB0cmFuc2FjdGlvbkRhdGUuaXNBZnRlcihMb2NhbERhdGUubm93KCkpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbi5CYWRSZXF1ZXN0RXhjZXB0aW9uKCJEYXRlIGNhbm5vdCBiZSBpbiB0aGUgZnV0dXJlIik7CiAgICAgICAgfQogICAgfQp9Cg==",
        "src/main/java/com/example/demo/model/User.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLm1vZGVsOwoKaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuKjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKQEVudGl0eQpAVGFibGUobmFtZSA9ICJ1c2VycyIpCnB1YmxpYyBjbGFzcyBVc2VyIHsKCiAgICBASWQKICAgIEBHZW5lcmF0ZWRWYWx1ZShzdHJhdGVneSA9IEdlbmVyYXRpb25UeXBlLklERU5USVRZKQogICAgcHJpdmF0ZSBMb25nIGlkOwoKICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7CgogICAgQENvbHVtbih1bmlxdWUgPSB0cnVlKQogICAgcHJpdmF0ZSBTdHJpbmcgZW1haWw7CgogICAgcHJpdmF0ZSBTdHJpbmcgcGFzc3dvcmQ7CgogICAgcHJpdmF0ZSBTdHJpbmcgcm9sZTsgLy8gIlVTRVIiIG9yICJBRE1JTiIKCiAgICBAT25lVG9NYW55KG1hcHBlZEJ5ID0gInVzZXIiKQogICAgcHJpdmF0ZSBMaXN0PFRyYW5zYWN0aW9uTG9nPiB0cmFuc2FjdGlvbkxvZ3M7CgogICAgQE9uZVRvTWFueShtYXBwZWRCeSA9ICJ1c2VyIikKICAgIHByaXZhdGUgTGlzdDxCdWRnZXRQbGFuPiBidWRnZXRQbGFuczsKCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBST0xFX1VTRVIgPSAiVVNFUiI7CgogICAgcHVibGljIFVzZXIoKSB7CiAgICB9CgogICAgcHVibGljIFVzZXIoTG9uZyBpZCwgU3RyaW5nIG5hbWUsIFN0cmluZyBlbWFpbCwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSkgewogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDsKICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7CiAgICAgICAgdGhpcy5yb2xlID0gcm9sZTsKICAgIH0KCiAgICBwdWJsaWMgTG9uZyBnZXRJZCgpIHsKICAgICAgICByZXR1cm4gaWQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SWQoTG9uZyBpZCkgewogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7CiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TmFtZShTdHJpbmcgbmFtZSkgewogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRFbWFpbCgpIHsKICAgICAgICByZXR1cm4gZW1haWw7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RW1haWwoU3RyaW5nIGVtYWlsKSB7CiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGFzc3dvcmQoKSB7CiAgICAgICAgcmV0dXJuIHBhc3N3b3JkOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkgewogICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFJvbGUoKSB7CiAgICAgICAgcmV0dXJuIHJvbGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Um9sZShTdHJpbmcgcm9sZSkgewogICAgICAgIHRoaXMucm9sZSA9IHJvbGU7CiAgICB9CgogICAgcHVibGljIExpc3Q8VHJhbnNhY3Rpb25Mb2c+IGdldFRyYW5zYWN0aW9uTG9ncygpIHsKICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25Mb2dzOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRyYW5zYWN0aW9uTG9ncyhMaXN0PFRyYW5zYWN0aW9uTG9nPiB0cmFuc2FjdGlvbkxvZ3MpIHsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uTG9ncyA9IHRyYW5zYWN0aW9uTG9nczsKICAgIH0KCiAgICBwdWJsaWMgTGlzdDxCdWRnZXRQbGFuPiBnZXRCdWRnZXRQbGFucygpIHsKICAgICAgICByZXR1cm4gYnVkZ2V0UGxhbnM7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QnVkZ2V0UGxhbnMoTGlzdDxCdWRnZXRQbGFuPiBidWRnZXRQbGFucykgewogICAgICAgIHRoaXMuYnVkZ2V0UGxhbnMgPSBidWRnZXRQbGFuczsKICAgIH0KfQo=",
        "src/main/java/com/example/demo/repository/BudgetPlanRepository.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnk7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRQbGFuOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5Vc2VyOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5kYXRhLmpwYS5yZXBvc2l0b3J5LkpwYVJlcG9zaXRvcnk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuUmVwb3NpdG9yeTsKaW1wb3J0IGphdmEudXRpbC5PcHRpb25hbDsKCkBSZXBvc2l0b3J5CnB1YmxpYyBpbnRlcmZhY2UgQnVkZ2V0UGxhblJlcG9zaXRvcnkgZXh0ZW5kcyBKcGFSZXBvc2l0b3J5PEJ1ZGdldFBsYW4sIExvbmc+IHsKICAgIE9wdGlvbmFsPEJ1ZGdldFBsYW4+IGZpbmRCeVVzZXJBbmRNb250aEFuZFllYXIoVXNlciB1c2VyLCBJbnRlZ2VyIG1vbnRoLCBJbnRlZ2VyIHllYXIpOwp9Cg==",
        "src/main/java/com/example/demo/repository/BudgetSummaryRepository.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnk7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRQbGFuOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRTdW1tYXJ5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5kYXRhLmpwYS5yZXBvc2l0b3J5LkpwYVJlcG9zaXRvcnk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuUmVwb3NpdG9yeTsKaW1wb3J0IGphdmEudXRpbC5PcHRpb25hbDsKCkBSZXBvc2l0b3J5CnB1YmxpYyBpbnRlcmZhY2UgQnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnkgZXh0ZW5kcyBKcGFSZXBvc2l0b3J5PEJ1ZGdldFN1bW1hcnksIExvbmc+IHsKICAgIE9wdGlvbmFsPEJ1ZGdldFN1bW1hcnk+IGZpbmRCeUJ1ZGdldFBsYW4oQnVkZ2V0UGxhbiBwbGFuKTsKfQo=",
        "src/main/java/com/example/demo/repository/CategoryRepository.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnk7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5DYXRlZ29yeTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5qcGEucmVwb3NpdG9yeS5KcGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlJlcG9zaXRvcnk7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCkBSZXBvc2l0b3J5CnB1YmxpYyBpbnRlcmZhY2UgQ2F0ZWdvcnlSZXBvc2l0b3J5IGV4dGVuZHMgSnBhUmVwb3NpdG9yeTxDYXRlZ29yeSwgTG9uZz4gewogICAgYm9vbGVhbiBleGlzdHNCeU5hbWUoU3RyaW5nIG5hbWUpOwogICAgTGlzdDxDYXRlZ29yeT4gZmluZEFsbCgpOwp9Cg==",
        "src/main/java/com/example/demo/repository/TransactionLogRepository.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnk7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5UcmFuc2FjdGlvbkxvZzsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVXNlcjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5qcGEucmVwb3NpdG9yeS5KcGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlJlcG9zaXRvcnk7CmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgpAUmVwb3NpdG9yeQpwdWJsaWMgaW50ZXJmYWNlIFRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VHJhbnNhY3Rpb25Mb2csIExvbmc+IHsKICAgIExpc3Q8VHJhbnNhY3Rpb25Mb2c+IGZpbmRCeVVzZXIoVXNlciB1c2VyKTsKICAgIExpc3Q8VHJhbnNhY3Rpb25Mb2c+IGZpbmRCeVVzZXJBbmRUcmFuc2FjdGlvbkRhdGVCZXR3ZWVuKFVzZXIgdXNlciwgTG9jYWxEYXRlIHN0YXJ0LCBMb2NhbERhdGUgZW5kKTsKfQo=",
        "src/main/java/com/example/demo/repository/UserRepository.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnk7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5Vc2VyOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5kYXRhLmpwYS5yZXBvc2l0b3J5LkpwYVJlcG9zaXRvcnk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuUmVwb3NpdG9yeTsKCkBSZXBvc2l0b3J5CnB1YmxpYyBpbnRlcmZhY2UgVXNlclJlcG9zaXRvcnkgZXh0ZW5kcyBKcGFSZXBvc2l0b3J5PFVzZXIsIExvbmc+IHsKICAgIGJvb2xlYW4gZXhpc3RzQnlFbWFpbChTdHJpbmcgZW1haWwpOwogICAgLy8gTmVlZGVkIGZvciBBdXRoCiAgICBqYXZhLnV0aWwuT3B0aW9uYWw8VXNlcj4gZmluZEJ5RW1haWwoU3RyaW5nIGVtYWlsKTsKfQo=",
        "src/main/java/com/example/demo/security/CustomUserDetailsService.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlY3VyaXR5OwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVXNlcjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ucmVwb3NpdG9yeS5Vc2VyUmVwb3NpdG9yeTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS51c2VyZGV0YWlscy5Vc2VyRGV0YWlsczsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS51c2VyZGV0YWlscy5Vc2VyRGV0YWlsc1NlcnZpY2U7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUudXNlcmRldGFpbHMuVXNlcm5hbWVOb3RGb3VuZEV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS5hdXRob3JpdHkuU2ltcGxlR3JhbnRlZEF1dGhvcml0eTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5TZXJ2aWNlOwppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb25zOwoKQFNlcnZpY2UKcHVibGljIGNsYXNzIEN1c3RvbVVzZXJEZXRhaWxzU2VydmljZSBpbXBsZW1lbnRzIFVzZXJEZXRhaWxzU2VydmljZSB7CgogICAgcHJpdmF0ZSBmaW5hbCBVc2VyUmVwb3NpdG9yeSB1c2VyUmVwb3NpdG9yeTsKCiAgICBwdWJsaWMgQ3VzdG9tVXNlckRldGFpbHNTZXJ2aWNlKFVzZXJSZXBvc2l0b3J5IHVzZXJSZXBvc2l0b3J5KSB7CiAgICAgICAgdGhpcy51c2VyUmVwb3NpdG9yeSA9IHVzZXJSZXBvc2l0b3J5OwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFVzZXJEZXRhaWxzIGxvYWRVc2VyQnlVc2VybmFtZShTdHJpbmcgZW1haWwpIHRocm93cyBVc2VybmFtZU5vdEZvdW5kRXhjZXB0aW9uIHsKICAgICAgICBVc2VyIHVzZXIgPSB1c2VyUmVwb3NpdG9yeS5maW5kQnlFbWFpbChlbWFpbCkKICAgICAgICAgICAgICAgIC5vckVsc2VUaHJvdygoKSAtPiBuZXcgVXNlcm5hbWVOb3RGb3VuZEV4Y2VwdGlvbigiVXNlciBub3QgZm91bmQgd2l0aCBlbWFpbDogIiArIGVtYWlsKSk7CgogICAgICAgIHJldHVybiBuZXcgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb3JlLnVzZXJkZXRhaWxzLlVzZXIoCiAgICAgICAgICAgICAgICB1c2VyLmdldEVtYWlsKCksCiAgICAgICAgICAgICAgICB1c2VyLmdldFBhc3N3b3JkKCksCiAgICAgICAgICAgICAgICBDb2xsZWN0aW9ucy5zaW5nbGV0b25MaXN0KG5ldyBTaW1wbGVHcmFudGVkQXV0aG9yaXR5KCJST0xFXyIgKyB1c2VyLmdldFJvbGUoKSkpCiAgICAgICAgKTsKICAgIH0KfQo=",
        "src/main/java/com/example/demo/security/JwtAuthenticationFilter.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlY3VyaXR5OwoKaW1wb3J0IGpha2FydGEuc2VydmxldC5GaWx0ZXJDaGFpbjsKaW1wb3J0IGpha2FydGEuc2VydmxldC5TZXJ2bGV0RXhjZXB0aW9uOwppbXBvcnQgamFrYXJ0YS5zZXJ2bGV0Lmh0dHAuSHR0cFNlcnZsZXRSZXF1ZXN0OwppbXBvcnQgamFrYXJ0YS5zZXJ2bGV0Lmh0dHAuSHR0cFNlcnZsZXRSZXNwb25zZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYmVhbnMuZmFjdG9yeS5hbm5vdGF0aW9uLkF1dG93aXJlZDsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuYXV0aGVudGljYXRpb24uVXNlcm5hbWVQYXNzd29yZEF1dGhlbnRpY2F0aW9uVG9rZW47CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUuY29udGV4dC5TZWN1cml0eUNvbnRleHRIb2xkZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUudXNlcmRldGFpbHMuVXNlckRldGFpbHM7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5hdXRoZW50aWNhdGlvbi5XZWJBdXRoZW50aWNhdGlvbkRldGFpbHNTb3VyY2U7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuQ29tcG9uZW50OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuZmlsdGVyLk9uY2VQZXJSZXF1ZXN0RmlsdGVyOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay51dGlsLlN0cmluZ1V0aWxzOwoKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CgpAQ29tcG9uZW50CnB1YmxpYyBjbGFzcyBKd3RBdXRoZW50aWNhdGlvbkZpbHRlciBleHRlbmRzIE9uY2VQZXJSZXF1ZXN0RmlsdGVyIHsKCiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIEp3dFRva2VuUHJvdmlkZXIgdG9rZW5Qcm92aWRlcjsKCiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIEN1c3RvbVVzZXJEZXRhaWxzU2VydmljZSBjdXN0b21Vc2VyRGV0YWlsc1NlcnZpY2U7CgogICAgQE92ZXJyaWRlCiAgICBwcm90ZWN0ZWQgdm9pZCBkb0ZpbHRlckludGVybmFsKEh0dHBTZXJ2bGV0UmVxdWVzdCByZXF1ZXN0LCBIdHRwU2VydmxldFJlc3BvbnNlIHJlc3BvbnNlLCBGaWx0ZXJDaGFpbiBmaWx0ZXJDaGFpbikKICAgICAgICAgICAgdGhyb3dzIFNlcnZsZXRFeGNlcHRpb24sIElPRXhjZXB0aW9uIHsKICAgICAgICBTdHJpbmcgand0ID0gZ2V0Snd0RnJvbVJlcXVlc3QocmVxdWVzdCk7CgogICAgICAgIGlmIChTdHJpbmdVdGlscy5oYXNUZXh0KGp3dCkgJiYgdG9rZW5Qcm92aWRlci52YWxpZGF0ZVRva2VuKGp3dCkpIHsKICAgICAgICAgICAgU3RyaW5nIHVzZXJuYW1lID0gdG9rZW5Qcm92aWRlci5nZXRVc2VyVXNlcm5hbWVGcm9tSldUKGp3dCk7CgogICAgICAgICAgICBVc2VyRGV0YWlscyB1c2VyRGV0YWlscyA9IGN1c3RvbVVzZXJEZXRhaWxzU2VydmljZS5sb2FkVXNlckJ5VXNlcm5hbWUodXNlcm5hbWUpOwogICAgICAgICAgICBVc2VybmFtZVBhc3N3b3JkQXV0aGVudGljYXRpb25Ub2tlbiBhdXRoZW50aWNhdGlvbiA9IG5ldyBVc2VybmFtZVBhc3N3b3JkQXV0aGVudGljYXRpb25Ub2tlbigKICAgICAgICAgICAgICAgICAgICB1c2VyRGV0YWlscywgbnVsbCwgdXNlckRldGFpbHMuZ2V0QXV0aG9yaXRpZXMoKSk7CiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLnNldERldGFpbHMobmV3IFdlYkF1dGhlbnRpY2F0aW9uRGV0YWlsc1NvdXJjZSgpLmJ1aWxkRGV0YWlscyhyZXF1ZXN0KSk7CgogICAgICAgICAgICBTZWN1cml0eUNvbnRleHRIb2xkZXIuZ2V0Q29udGV4dCgpLnNldEF1dGhlbnRpY2F0aW9uKGF1dGhlbnRpY2F0aW9uKTsKICAgICAgICB9CgogICAgICAgIGZpbHRlckNoYWluLmRvRmlsdGVyKHJlcXVlc3QsIHJlc3BvbnNlKTsKICAgIH0KCiAgICBwcml2YXRlIFN0cmluZyBnZXRKd3RGcm9tUmVxdWVzdChIdHRwU2VydmxldFJlcXVlc3QgcmVxdWVzdCkgewogICAgICAgIFN0cmluZyBiZWFyZXJUb2tlbiA9IHJlcXVlc3QuZ2V0SGVhZGVyKCJBdXRob3JpemF0aW9uIik7CiAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmhhc1RleHQoYmVhcmVyVG9rZW4pICYmIGJlYXJlclRva2VuLnN0YXJ0c1dpdGgoIkJlYXJlciAiKSkgewogICAgICAgICAgICByZXR1cm4gYmVhcmVyVG9rZW4uc3Vic3RyaW5nKDcpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KfQo=",
        "src/main/java/com/example/demo/security/JwtTokenProvider.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlY3VyaXR5OwoKaW1wb3J0IGlvLmpzb253ZWJ0b2tlbi4qOwppbXBvcnQgaW8uanNvbndlYnRva2VuLnNlY3VyaXR5LktleXM7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmJlYW5zLmZhY3RvcnkuYW5ub3RhdGlvbi5WYWx1ZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS5BdXRoZW50aWNhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS51c2VyZGV0YWlscy5Vc2VyRGV0YWlsczsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5Db21wb25lbnQ7CgppbXBvcnQgamF2YS5zZWN1cml0eS5LZXk7CmltcG9ydCBqYXZhLnV0aWwuRGF0ZTsKaW1wb3J0IGphdmEubmlvLmNoYXJzZXQuU3RhbmRhcmRDaGFyc2V0czsKCkBDb21wb25lbnQKcHVibGljIGNsYXNzIEp3dFRva2VuUHJvdmlkZXIgewoKICAgIEBWYWx1ZSgiJHthcHAuand0U2VjcmV0fSIpCiAgICBwcml2YXRlIFN0cmluZyBqd3RTZWNyZXQ7CgogICAgQFZhbHVlKCIke2FwcC5qd3RFeHBpcmF0aW9uSW5Nc30iKQogICAgcHJpdmF0ZSBsb25nIGp3dEV4cGlyYXRpb25Jbk1zOwoKICAgIHB1YmxpYyBKd3RUb2tlblByb3ZpZGVyKCkgewogICAgfQoKICAgIHB1YmxpYyBKd3RUb2tlblByb3ZpZGVyKFN0cmluZyBqd3RTZWNyZXQsIGxvbmcgand0RXhwaXJhdGlvbkluTXMpIHsKICAgICAgICB0aGlzLmp3dFNlY3JldCA9IGp3dFNlY3JldDsKICAgICAgICB0aGlzLmp3dEV4cGlyYXRpb25Jbk1zID0gand0RXhwaXJhdGlvbkluTXM7CiAgICB9CgogICAgcHJpdmF0ZSBLZXkgZ2V0U2lnbmluZ0tleSgpIHsKICAgICAgICBieXRlW10ga2V5Qnl0ZXMgPSBqd3RTZWNyZXQuZ2V0Qnl0ZXMoU3RhbmRhcmRDaGFyc2V0cy5VVEZfOCk7CiAgICAgICAgcmV0dXJuIEtleXMuaG1hY1NoYUtleUZvcihrZXlCeXRlcyk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZW5lcmF0ZVRva2VuKEF1dGhlbnRpY2F0aW9uIGF1dGhlbnRpY2F0aW9uKSB7CiAgICAgICAgVXNlckRldGFpbHMgdXNlclByaW5jaXBhbCA9IChVc2VyRGV0YWlscykgYXV0aGVudGljYXRpb24uZ2V0UHJpbmNpcGFsKCk7CiAgICAgICAgcmV0dXJuIGdlbmVyYXRlVG9rZW4oYXV0aGVudGljYXRpb24sIG51bGwsIHVzZXJQcmluY2lwYWwuZ2V0VXNlcm5hbWUoKSwgbnVsbCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZW5lcmF0ZVRva2VuKEF1dGhlbnRpY2F0aW9uIGF1dGhlbnRpY2F0aW9uLCBMb25nIHVzZXJJZCwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcm9sZSkgewogICAgICAgIERhdGUgbm93ID0gbmV3IERhdGUoKTsKICAgICAgICBEYXRlIGV4cGlyeURhdGUgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgand0RXhwaXJhdGlvbkluTXMpOwoKICAgICAgICBKd3RCdWlsZGVyIGJ1aWxkZXIgPSBKd3RzLmJ1aWxkZXIoKQogICAgICAgICAgICAgICAgLnNldFN1YmplY3QodXNlcklkICE9IG51bGwgPyBTdHJpbmcudmFsdWVPZih1c2VySWQpIDogZW1haWwpCiAgICAgICAgICAgICAgICAuc2V0SXNzdWVkQXQobmV3IERhdGUoKSkKICAgICAgICAgICAgICAgIC5zZXRFeHBpcmF0aW9uKGV4cGlyeURhdGUpCiAgICAgICAgICAgICAgICAuc2lnbldpdGgoZ2V0U2lnbmluZ0tleSgpLCBTaWduYXR1cmVBbGdvcml0aG0uSFMyNTYpOwogICAgICAgIAogICAgICAgIGlmIChlbWFpbCAhPSBudWxsKSB7CiAgICAgICAgICAgIGJ1aWxkZXIuY2xhaW0oImVtYWlsIiwgZW1haWwpOwogICAgICAgIH0KICAgICAgICBpZiAocm9sZSAhPSBudWxsKSB7CiAgICAgICAgICAgIGJ1aWxkZXIuY2xhaW0oInJvbGUiLCByb2xlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBidWlsZGVyLmNvbXBhY3QoKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFVzZXJVc2VybmFtZUZyb21KV1QoU3RyaW5nIHRva2VuKSB7CiAgICAgICAgcmV0dXJuIGdldENsYWltcyh0b2tlbikuZ2V0U3ViamVjdCgpOwogICAgfQogICAgCiAgICBwdWJsaWMgTG9uZyBnZXRVc2VySWRGcm9tVG9rZW4oU3RyaW5nIHRva2VuKSB7CiAgICAgICAgU3RyaW5nIHN1YmplY3QgPSBnZXRDbGFpbXModG9rZW4pLmdldFN1YmplY3QoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gTG9uZy5wYXJzZUxvbmcoc3ViamVjdCk7CiAgICAgICAgfSBjYXRjaCAoTnVtYmVyRm9ybWF0RXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW1haWxGcm9tVG9rZW4oU3RyaW5nIHRva2VuKSB7CiAgICAgICAgcmV0dXJuIGdldENsYWltcyh0b2tlbikuZ2V0KCJlbWFpbCIsIFN0cmluZy5jbGFzcyk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRSb2xlRnJvbVRva2VuKFN0cmluZyB0b2tlbikgewogICAgICAgIHJldHVybiBnZXRDbGFpbXModG9rZW4pLmdldCgicm9sZSIsIFN0cmluZy5jbGFzcyk7CiAgICB9CgogICAgcHJpdmF0ZSBDbGFpbXMgZ2V0Q2xhaW1zKFN0cmluZyB0b2tlbikgewogICAgICAgIHJldHVybiBKd3RzLnBhcnNlckJ1aWxkZXIoKQogICAgICAgICAgICAgICAgLnNldFNpZ25pbmdLZXkoZ2V0U2lnbmluZ0tleSgpKQogICAgICAgICAgICAgICAgLmJ1aWxkKCkKICAgICAgICAgICAgICAgIC5wYXJzZUNsYWltc0p3cyh0b2tlbikKICAgICAgICAgICAgICAgIC5nZXRCb2R5KCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVUb2tlbihTdHJpbmcgYXV0aFRva2VuKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgSnd0cy5wYXJzZXJCdWlsZGVyKCkuc2V0U2lnbmluZ0tleShnZXRTaWduaW5nS2V5KCkpLmJ1aWxkKCkucGFyc2VDbGFpbXNKd3MoYXV0aFRva2VuKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBjYXRjaCAoSnd0RXhjZXB0aW9uIHwgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGV4KSB7CiAgICAgICAgICAgIC8vIExvZyBleGNlcHRpb24KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQp9",
        "src/main/java/com/example/demo/service/BudgetPlanService.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2U7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRQbGFuOwoKcHVibGljIGludGVyZmFjZSBCdWRnZXRQbGFuU2VydmljZSB7CiAgICBCdWRnZXRQbGFuIGNyZWF0ZUJ1ZGdldFBsYW4oTG9uZyB1c2VySWQsIEJ1ZGdldFBsYW4gcGxhbik7CiAgICBCdWRnZXRQbGFuIGdldEJ1ZGdldFBsYW4oTG9uZyB1c2VySWQsIEludGVnZXIgbW9udGgsIEludGVnZXIgeWVhcik7Cn0K",
        "src/main/java/com/example/demo/service/BudgetSummaryService.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2U7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRTdW1tYXJ5OwoKcHVibGljIGludGVyZmFjZSBCdWRnZXRTdW1tYXJ5U2VydmljZSB7CiAgICBCdWRnZXRTdW1tYXJ5IGdlbmVyYXRlU3VtbWFyeShMb25nIGJ1ZGdldFBsYW5JZCk7CiAgICBCdWRnZXRTdW1tYXJ5IGdldFN1bW1hcnkoTG9uZyBidWRnZXRQbGFuSWQpOwp9Cg==",
        "src/main/java/com/example/demo/service/CategoryService.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2U7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5DYXRlZ29yeTsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKcHVibGljIGludGVyZmFjZSBDYXRlZ29yeVNlcnZpY2UgewogICAgQ2F0ZWdvcnkgYWRkQ2F0ZWdvcnkoQ2F0ZWdvcnkgY2F0ZWdvcnkpOwogICAgTGlzdDxDYXRlZ29yeT4gZ2V0QWxsQ2F0ZWdvcmllcygpOwp9Cg==",
        "src/main/java/com/example/demo/service/TransactionService.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2U7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5UcmFuc2FjdGlvbkxvZzsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKcHVibGljIGludGVyZmFjZSBUcmFuc2FjdGlvblNlcnZpY2UgewogICAgVHJhbnNhY3Rpb25Mb2cgYWRkVHJhbnNhY3Rpb24oTG9uZyB1c2VySWQsIFRyYW5zYWN0aW9uTG9nIGxvZyk7CiAgICBMaXN0PFRyYW5zYWN0aW9uTG9nPiBnZXRVc2VyVHJhbnNhY3Rpb25zKExvbmcgdXNlcklkKTsKfQo=",
        "src/main/java/com/example/demo/service/UserService.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2U7CgppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5Vc2VyOwoKcHVibGljIGludGVyZmFjZSBVc2VyU2VydmljZSB7CiAgICBVc2VyIHJlZ2lzdGVyKFVzZXIgdXNlcik7CiAgICBVc2VyIGZpbmRCeUVtYWlsKFN0cmluZyBlbWFpbCk7Cn0K",
        "src/main/java/com/example/demo/service/impl/BudgetPlanServiceImpl.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuaW1wbDsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbi5CYWRSZXF1ZXN0RXhjZXB0aW9uOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRQbGFuOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5Vc2VyOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5yZXBvc2l0b3J5LkJ1ZGdldFBsYW5SZXBvc2l0b3J5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5yZXBvc2l0b3J5LlVzZXJSZXBvc2l0b3J5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLkJ1ZGdldFBsYW5TZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlNlcnZpY2U7CgpAU2VydmljZQpwdWJsaWMgY2xhc3MgQnVkZ2V0UGxhblNlcnZpY2VJbXBsIGltcGxlbWVudHMgQnVkZ2V0UGxhblNlcnZpY2UgewoKICAgIHByaXZhdGUgZmluYWwgQnVkZ2V0UGxhblJlcG9zaXRvcnkgYnVkZ2V0UGxhblJlcG9zaXRvcnk7CiAgICBwcml2YXRlIGZpbmFsIFVzZXJSZXBvc2l0b3J5IHVzZXJSZXBvc2l0b3J5OwoKICAgIHB1YmxpYyBCdWRnZXRQbGFuU2VydmljZUltcGwoQnVkZ2V0UGxhblJlcG9zaXRvcnkgYnVkZ2V0UGxhblJlcG9zaXRvcnksIFVzZXJSZXBvc2l0b3J5IHVzZXJSZXBvc2l0b3J5KSB7CiAgICAgICAgdGhpcy5idWRnZXRQbGFuUmVwb3NpdG9yeSA9IGJ1ZGdldFBsYW5SZXBvc2l0b3J5OwogICAgICAgIHRoaXMudXNlclJlcG9zaXRvcnkgPSB1c2VyUmVwb3NpdG9yeTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBCdWRnZXRQbGFuIGNyZWF0ZUJ1ZGdldFBsYW4oTG9uZyB1c2VySWQsIEJ1ZGdldFBsYW4gcGxhbikgewogICAgICAgIFVzZXIgdXNlciA9IHVzZXJSZXBvc2l0b3J5LmZpbmRCeUlkKHVzZXJJZCkKICAgICAgICAgICAgICAgIC5vckVsc2VUaHJvdygoKSAtPiBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiVXNlciBub3QgZm91bmQiKSk7CgogICAgICAgIGlmIChwbGFuLmdldE1vbnRoKCkgPCAxIHx8IHBsYW4uZ2V0TW9udGgoKSA+IDEyKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCJJbnZhbGlkIG1vbnRoIik7CiAgICAgICAgfQogICAgICAgIGlmIChwbGFuLmdldEluY29tZVRhcmdldCgpIDwgMCB8fCBwbGFuLmdldEV4cGVuc2VMaW1pdCgpIDwgMCkgewogICAgICAgICAgICB0aHJvdyBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiVGFyZ2V0cyBtdXN0IGJlIG5vbi1uZWdhdGl2ZSIpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGJ1ZGdldFBsYW5SZXBvc2l0b3J5LmZpbmRCeVVzZXJBbmRNb250aEFuZFllYXIodXNlciwgcGxhbi5nZXRNb250aCgpLCBwbGFuLmdldFllYXIoKSkuaXNQcmVzZW50KCkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oIkJ1ZGdldCBwbGFuIGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIHBlcmlvZCIpOwogICAgICAgIH0KCiAgICAgICAgcGxhbi5zZXRVc2VyKHVzZXIpOwogICAgICAgIHJldHVybiBidWRnZXRQbGFuUmVwb3NpdG9yeS5zYXZlKHBsYW4pOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIEJ1ZGdldFBsYW4gZ2V0QnVkZ2V0UGxhbihMb25nIHVzZXJJZCwgSW50ZWdlciBtb250aCwgSW50ZWdlciB5ZWFyKSB7CiAgICAgICAgVXNlciB1c2VyID0gdXNlclJlcG9zaXRvcnkuZmluZEJ5SWQodXNlcklkKQogICAgICAgICAgICAgICAgLm9yRWxzZVRocm93KCgpIC0+IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCJVc2VyIG5vdCBmb3VuZCIpKTsKICAgICAgICByZXR1cm4gYnVkZ2V0UGxhblJlcG9zaXRvcnkuZmluZEJ5VXNlckFuZE1vbnRoQW5kWWVhcih1c2VyLCBtb250aCwgeWVhcikKICAgICAgICAgICAgICAgIC5vckVsc2VUaHJvdygoKSAtPiBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiQnVkZ2V0IHBsYW4gbm90IGZvdW5kIikpOwogICAgfQp9Cg==",
        "src/main/java/com/example/demo/service/impl/BudgetSummaryServiceImpl.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuaW1wbDsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbi5CYWRSZXF1ZXN0RXhjZXB0aW9uOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRQbGFuOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5CdWRnZXRTdW1tYXJ5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5DYXRlZ29yeTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVHJhbnNhY3Rpb25Mb2c7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnkuQnVkZ2V0UGxhblJlcG9zaXRvcnk7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnkuQnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnk7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnkuVHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLkJ1ZGdldFN1bW1hcnlTZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlNlcnZpY2U7CgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTsKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgpAU2VydmljZQpwdWJsaWMgY2xhc3MgQnVkZ2V0U3VtbWFyeVNlcnZpY2VJbXBsIGltcGxlbWVudHMgQnVkZ2V0U3VtbWFyeVNlcnZpY2UgewoKICAgIHByaXZhdGUgZmluYWwgQnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnkgYnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnk7CiAgICBwcml2YXRlIGZpbmFsIEJ1ZGdldFBsYW5SZXBvc2l0b3J5IGJ1ZGdldFBsYW5SZXBvc2l0b3J5OwogICAgcHJpdmF0ZSBmaW5hbCBUcmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkgdHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5OwoKICAgIHB1YmxpYyBCdWRnZXRTdW1tYXJ5U2VydmljZUltcGwoQnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnkgYnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZGdldFBsYW5SZXBvc2l0b3J5IGJ1ZGdldFBsYW5SZXBvc2l0b3J5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkgdHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5KSB7CiAgICAgICAgdGhpcy5idWRnZXRTdW1tYXJ5UmVwb3NpdG9yeSA9IGJ1ZGdldFN1bW1hcnlSZXBvc2l0b3J5OwogICAgICAgIHRoaXMuYnVkZ2V0UGxhblJlcG9zaXRvcnkgPSBidWRnZXRQbGFuUmVwb3NpdG9yeTsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeSA9IHRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBCdWRnZXRTdW1tYXJ5IGdlbmVyYXRlU3VtbWFyeShMb25nIGJ1ZGdldFBsYW5JZCkgewogICAgICAgIEJ1ZGdldFBsYW4gcGxhbiA9IGJ1ZGdldFBsYW5SZXBvc2l0b3J5LmZpbmRCeUlkKGJ1ZGdldFBsYW5JZCkKICAgICAgICAgICAgICAgIC5vckVsc2VUaHJvdygoKSAtPiBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiQnVkZ2V0IFBsYW4gbm90IGZvdW5kIikpOwoKICAgICAgICBMb2NhbERhdGUgc3RhcnQgPSBMb2NhbERhdGUub2YocGxhbi5nZXRZZWFyKCksIHBsYW4uZ2V0TW9udGgoKSwgMSk7CiAgICAgICAgTG9jYWxEYXRlIGVuZCA9IHN0YXJ0LndpdGhEYXlPZk1vbnRoKHN0YXJ0Lmxlbmd0aE9mTW9udGgoKSk7CgogICAgICAgIExpc3Q8VHJhbnNhY3Rpb25Mb2c+IGxvZ3MgPSB0cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkuZmluZEJ5VXNlckFuZFRyYW5zYWN0aW9uRGF0ZUJldHdlZW4ocGxhbi5nZXRVc2VyKCksIHN0YXJ0LCBlbmQpOwoKICAgICAgICBkb3VibGUgdG90YWxJbmNvbWUgPSBsb2dzLnN0cmVhbSgpCiAgICAgICAgICAgICAgICAuZmlsdGVyKGwgLT4gQ2F0ZWdvcnkuVFlQRV9JTkNPTUUuZXF1YWxzKGwuZ2V0Q2F0ZWdvcnkoKS5nZXRUeXBlKCkpKQogICAgICAgICAgICAgICAgLm1hcFRvRG91YmxlKFRyYW5zYWN0aW9uTG9nOjpnZXRBbW91bnQpCiAgICAgICAgICAgICAgICAuc3VtKCk7CgogICAgICAgIGRvdWJsZSB0b3RhbEV4cGVuc2UgPSBsb2dzLnN0cmVhbSgpCiAgICAgICAgICAgICAgICAuZmlsdGVyKGwgLT4gQ2F0ZWdvcnkuVFlQRV9FWFBFTlNFLmVxdWFscyhsLmdldENhdGVnb3J5KCkuZ2V0VHlwZSgpKSkKICAgICAgICAgICAgICAgIC5tYXBUb0RvdWJsZShUcmFuc2FjdGlvbkxvZzo6Z2V0QW1vdW50KQogICAgICAgICAgICAgICAgLnN1bSgpOwoKICAgICAgICBCdWRnZXRTdW1tYXJ5IHN1bW1hcnkgPSBidWRnZXRTdW1tYXJ5UmVwb3NpdG9yeS5maW5kQnlCdWRnZXRQbGFuKHBsYW4pCiAgICAgICAgICAgICAgICAub3JFbHNlKG5ldyBCdWRnZXRTdW1tYXJ5KCkpOwoKICAgICAgICBzdW1tYXJ5LnNldEJ1ZGdldFBsYW4ocGxhbik7CiAgICAgICAgc3VtbWFyeS5zZXRUb3RhbEluY29tZSh0b3RhbEluY29tZSk7CiAgICAgICAgc3VtbWFyeS5zZXRUb3RhbEV4cGVuc2UodG90YWxFeHBlbnNlKTsKICAgICAgICBzdW1tYXJ5LnNldFN0YXR1cyh0b3RhbEV4cGVuc2UgPiBwbGFuLmdldEV4cGVuc2VMaW1pdCgpID8gQnVkZ2V0U3VtbWFyeS5TVEFUVVNfT1ZFUl9MSU1JVCA6IEJ1ZGdldFN1bW1hcnkuU1RBVFVTX1VOREVSX0xJTUlUKTsKICAgICAgICAKICAgICAgICAvLyBJZiBpdCdzIGEgbmV3IGVudGl0eSwgZ2VuZXJhdGVkQXQgd2lsbCBiZSBzZXQgYnkgQFByZVBlcnNpc3QuIAogICAgICAgIC8vIElmIHVwZGF0aW5nLCB3ZSBtaWdodCB3YW50IHRvIHVwZGF0ZSB0aGUgdGltZXN0YW1wIG9yIGxlYXZlIGl0PwogICAgICAgIC8vIFNwZWMgc2F5czogIkxpZmVjeWNsZSBtZXRob2Qgb25DcmVhdGUoKSBpbml0aWFsaXplcyBnZW5lcmF0ZWRBdCB3aGVuIHRoZSBlbnRpdHkgaXMgZmlyc3QgcGVyc2lzdGVkLiIKICAgICAgICAvLyBJdCBkb2Vzbid0IGV4cGxpY2l0bHkgc2F5IHRvIHVwZGF0ZSBpdCBvbiByZS1nZW5lcmF0aW9uLiAKICAgICAgICAvLyBCdXQgdXN1YWxseSAiZ2VuZXJhdGUiIGltcGxpZXMgZnJlc2ggZGF0YS4gSSB3aWxsIGV4cGxpY2l0bHkgc2V0IGl0IHRvIG5vdyBpZiBpdCdzIGFuIHVwZGF0ZSwgb3IgbGV0IEBQcmVQZXJzaXN0IGhhbmRsZSBpdCBmb3IgbmV3LgogICAgICAgIC8vIEFjdHVhbGx5LCBAUHJlUGVyc2lzdCBvbmx5IHJ1bnMgb24gcGVyc2lzdCAoaW5zZXJ0KS4gCiAgICAgICAgLy8gSSB3aWxsIHNldCBpdCBtYW51YWxseSB0byBlbnN1cmUgaXQgcmVmbGVjdHMgdGhlIGxhdGVzdCBnZW5lcmF0aW9uIHRpbWUuCiAgICAgICAgc3VtbWFyeS5zZXRHZW5lcmF0ZWRBdChMb2NhbERhdGVUaW1lLm5vdygpKTsKCiAgICAgICAgcmV0dXJuIGJ1ZGdldFN1bW1hcnlSZXBvc2l0b3J5LnNhdmUoc3VtbWFyeSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgQnVkZ2V0U3VtbWFyeSBnZXRTdW1tYXJ5KExvbmcgYnVkZ2V0UGxhbklkKSB7CiAgICAgICAgQnVkZ2V0UGxhbiBwbGFuID0gYnVkZ2V0UGxhblJlcG9zaXRvcnkuZmluZEJ5SWQoYnVkZ2V0UGxhbklkKQogICAgICAgICAgICAgICAgLm9yRWxzZVRocm93KCgpIC0+IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCJCdWRnZXQgUGxhbiBub3QgZm91bmQiKSk7CiAgICAgICAgcmV0dXJuIGJ1ZGdldFN1bW1hcnlSZXBvc2l0b3J5LmZpbmRCeUJ1ZGdldFBsYW4ocGxhbikKICAgICAgICAgICAgICAgIC5vckVsc2VUaHJvdygoKSAtPiBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiU3VtbWFyeSBub3QgZm91bmQiKSk7CiAgICB9Cn0K",
        "src/main/java/com/example/demo/service/impl/CategoryServiceImpl.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuaW1wbDsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbi5CYWRSZXF1ZXN0RXhjZXB0aW9uOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5DYXRlZ29yeTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ucmVwb3NpdG9yeS5DYXRlZ29yeVJlcG9zaXRvcnk7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuQ2F0ZWdvcnlTZXJ2aWNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlNlcnZpY2U7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCkBTZXJ2aWNlCnB1YmxpYyBjbGFzcyBDYXRlZ29yeVNlcnZpY2VJbXBsIGltcGxlbWVudHMgQ2F0ZWdvcnlTZXJ2aWNlIHsKCiAgICBwcml2YXRlIGZpbmFsIENhdGVnb3J5UmVwb3NpdG9yeSBjYXRlZ29yeVJlcG9zaXRvcnk7CgogICAgcHVibGljIENhdGVnb3J5U2VydmljZUltcGwoQ2F0ZWdvcnlSZXBvc2l0b3J5IGNhdGVnb3J5UmVwb3NpdG9yeSkgewogICAgICAgIHRoaXMuY2F0ZWdvcnlSZXBvc2l0b3J5ID0gY2F0ZWdvcnlSZXBvc2l0b3J5OwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIENhdGVnb3J5IGFkZENhdGVnb3J5KENhdGVnb3J5IGNhdGVnb3J5KSB7CiAgICAgICAgaWYgKGNhdGVnb3J5UmVwb3NpdG9yeS5leGlzdHNCeU5hbWUoY2F0ZWdvcnkuZ2V0TmFtZSgpKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiQ2F0ZWdvcnkgYWxyZWFkeSBleGlzdHMiKTsKICAgICAgICB9CiAgICAgICAgdmFsaWRhdGVUeXBlKGNhdGVnb3J5LmdldFR5cGUoKSk7CiAgICAgICAgcmV0dXJuIGNhdGVnb3J5UmVwb3NpdG9yeS5zYXZlKGNhdGVnb3J5KTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBMaXN0PENhdGVnb3J5PiBnZXRBbGxDYXRlZ29yaWVzKCkgewogICAgICAgIHJldHVybiBjYXRlZ29yeVJlcG9zaXRvcnkuZmluZEFsbCgpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCB2YWxpZGF0ZVR5cGUoU3RyaW5nIHR5cGUpIHsKICAgICAgICBpZiAoIUNhdGVnb3J5LlRZUEVfSU5DT01FLmVxdWFscyh0eXBlKSAmJiAhQ2F0ZWdvcnkuVFlQRV9FWFBFTlNFLmVxdWFscyh0eXBlKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiSW52YWxpZCBjYXRlZ29yeSB0eXBlIik7CiAgICAgICAgfQogICAgfQp9Cg==",
        "src/main/java/com/example/demo/service/impl/TransactionServiceImpl.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuaW1wbDsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbi5CYWRSZXF1ZXN0RXhjZXB0aW9uOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5tb2RlbC5DYXRlZ29yeTsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuVHJhbnNhY3Rpb25Mb2c7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLlVzZXI7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnkuVHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5yZXBvc2l0b3J5LlVzZXJSZXBvc2l0b3J5OwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZXJ2aWNlLlRyYW5zYWN0aW9uU2VydmljZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5TZXJ2aWNlOwoKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCkBTZXJ2aWNlCnB1YmxpYyBjbGFzcyBUcmFuc2FjdGlvblNlcnZpY2VJbXBsIGltcGxlbWVudHMgVHJhbnNhY3Rpb25TZXJ2aWNlIHsKCiAgICBwcml2YXRlIGZpbmFsIFRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeSB0cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnk7CiAgICBwcml2YXRlIGZpbmFsIFVzZXJSZXBvc2l0b3J5IHVzZXJSZXBvc2l0b3J5OwoKICAgIHB1YmxpYyBUcmFuc2FjdGlvblNlcnZpY2VJbXBsKFRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeSB0cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnksIFVzZXJSZXBvc2l0b3J5IHVzZXJSZXBvc2l0b3J5KSB7CiAgICAgICAgdGhpcy50cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkgPSB0cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnk7CiAgICAgICAgdGhpcy51c2VyUmVwb3NpdG9yeSA9IHVzZXJSZXBvc2l0b3J5OwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFRyYW5zYWN0aW9uTG9nIGFkZFRyYW5zYWN0aW9uKExvbmcgdXNlcklkLCBUcmFuc2FjdGlvbkxvZyBsb2cpIHsKICAgICAgICBVc2VyIHVzZXIgPSB1c2VyUmVwb3NpdG9yeS5maW5kQnlJZCh1c2VySWQpCiAgICAgICAgICAgICAgICAub3JFbHNlVGhyb3coKCkgLT4gbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oIlVzZXIgbm90IGZvdW5kIikpOwogICAgICAgIAogICAgICAgIGlmIChsb2cuZ2V0QW1vdW50KCkgPD0gMCkgewogICAgICAgICAgICB0aHJvdyBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiQW1vdW50IG11c3QgYmUgZ3JlYXRlciB0aGFuIDAiKTsKICAgICAgICB9CiAgICAgICAgaWYgKGxvZy5nZXRUcmFuc2FjdGlvbkRhdGUoKS5pc0FmdGVyKExvY2FsRGF0ZS5ub3coKSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oIkRhdGUgY2Fubm90IGJlIGluIHRoZSBmdXR1cmUiKTsKICAgICAgICB9CgogICAgICAgIGxvZy5zZXRVc2VyKHVzZXIpOwogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkuc2F2ZShsb2cpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIExpc3Q8VHJhbnNhY3Rpb25Mb2c+IGdldFVzZXJUcmFuc2FjdGlvbnMoTG9uZyB1c2VySWQpIHsKICAgICAgICBVc2VyIHVzZXIgPSB1c2VyUmVwb3NpdG9yeS5maW5kQnlJZCh1c2VySWQpCiAgICAgICAgICAgICAgICAub3JFbHNlVGhyb3coKCkgLT4gbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oIlVzZXIgbm90IGZvdW5kIikpOwogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkuZmluZEJ5VXNlcih1c2VyKTsKICAgIH0KfQo=",
        "src/main/java/com/example/demo/service/impl/UserServiceImpl.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuaW1wbDsKCmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbi5CYWRSZXF1ZXN0RXhjZXB0aW9uOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5leGNlcHRpb24uQ29uZmxpY3RFeGNlcHRpb247CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLm1vZGVsLlVzZXI7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnJlcG9zaXRvcnkuVXNlclJlcG9zaXRvcnk7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuVXNlclNlcnZpY2U7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNyeXB0by5wYXNzd29yZC5QYXNzd29yZEVuY29kZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuU2VydmljZTsKCkBTZXJ2aWNlCnB1YmxpYyBjbGFzcyBVc2VyU2VydmljZUltcGwgaW1wbGVtZW50cyBVc2VyU2VydmljZSB7CgogICAgcHJpdmF0ZSBmaW5hbCBVc2VyUmVwb3NpdG9yeSB1c2VyUmVwb3NpdG9yeTsKICAgIHByaXZhdGUgZmluYWwgUGFzc3dvcmRFbmNvZGVyIHBhc3N3b3JkRW5jb2RlcjsKCiAgICBwdWJsaWMgVXNlclNlcnZpY2VJbXBsKFVzZXJSZXBvc2l0b3J5IHVzZXJSZXBvc2l0b3J5LCBQYXNzd29yZEVuY29kZXIgcGFzc3dvcmRFbmNvZGVyKSB7CiAgICAgICAgdGhpcy51c2VyUmVwb3NpdG9yeSA9IHVzZXJSZXBvc2l0b3J5OwogICAgICAgIHRoaXMucGFzc3dvcmRFbmNvZGVyID0gcGFzc3dvcmRFbmNvZGVyOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFVzZXIgcmVnaXN0ZXIoVXNlciB1c2VyKSB7CiAgICAgICAgaWYgKHVzZXJSZXBvc2l0b3J5LmV4aXN0c0J5RW1haWwodXNlci5nZXRFbWFpbCgpKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiRW1haWwgYWxyZWFkeSBleGlzdHMiKTsKICAgICAgICB9CgogICAgICAgIHVzZXIuc2V0UGFzc3dvcmQocGFzc3dvcmRFbmNvZGVyLmVuY29kZSh1c2VyLmdldFBhc3N3b3JkKCkpKTsKICAgICAgICBpZiAodXNlci5nZXRSb2xlKCkgPT0gbnVsbCB8fCB1c2VyLmdldFJvbGUoKS5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgdXNlci5zZXRSb2xlKCJVU0VSIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdXNlclJlcG9zaXRvcnkuc2F2ZSh1c2VyKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBVc2VyIGZpbmRCeUVtYWlsKFN0cmluZyBlbWFpbCkgewogICAgICAgIHJldHVybiB1c2VyUmVwb3NpdG9yeS5maW5kQnlFbWFpbChlbWFpbCkKICAgICAgICAgICAgICAgIC5vckVsc2VUaHJvdygoKSAtPiBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbigiVXNlciBub3QgZm91bmQgd2l0aCBlbWFpbDogIiArIGVtYWlsKSk7CiAgICB9Cn0K",
        "src/main/java/com/example/demo/servlet/SimpleHelloServlet.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vLnNlcnZsZXQ7CgppbXBvcnQgamFrYXJ0YS5zZXJ2bGV0LmFubm90YXRpb24uV2ViU2VydmxldDsKaW1wb3J0IGpha2FydGEuc2VydmxldC5odHRwLkh0dHBTZXJ2bGV0OwppbXBvcnQgamFrYXJ0YS5zZXJ2bGV0Lmh0dHAuSHR0cFNlcnZsZXRSZXF1ZXN0OwppbXBvcnQgamFrYXJ0YS5zZXJ2bGV0Lmh0dHAuSHR0cFNlcnZsZXRSZXNwb25zZTsKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CgpAV2ViU2VydmxldCh1cmxQYXR0ZXJucyA9ICIvc2ltcGxlLWhlbGxvIikKcHVibGljIGNsYXNzIFNpbXBsZUhlbGxvU2VydmxldCBleHRlbmRzIEh0dHBTZXJ2bGV0IHsKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgZG9HZXQoSHR0cFNlcnZsZXRSZXF1ZXN0IHJlcSwgSHR0cFNlcnZsZXRSZXNwb25zZSByZXNwKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJlc3Auc2V0Q29udGVudFR5cGUoInRleHQvcGxhaW4iKTsKICAgICAgICByZXNwLmdldFdyaXRlcigpLndyaXRlKCJIZWxsbyBmcm9tIFNpbXBsZSBTZXJ2bGV0Iik7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgU3RyaW5nIGdldFNlcnZsZXRJbmZvKCkgewogICAgICAgIHJldHVybiAiU2ltcGxlSGVsbG9TZXJ2bGV0IjsKICAgIH0KfQo=",
        "src/test/java/com/example/demo/PersonalFinanceBudgetPlannerTest.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vOwoKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uZHRvLlJlZ2lzdGVyUmVxdWVzdDsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uZXhjZXB0aW9uLkJhZFJlcXVlc3RFeGNlcHRpb247CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLmV4Y2VwdGlvbi5Db25mbGljdEV4Y2VwdGlvbjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ubW9kZWwuKjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8ucmVwb3NpdG9yeS4qOwppbXBvcnQgY29tLmV4YW1wbGUuZGVtby5zZWN1cml0eS5DdXN0b21Vc2VyRGV0YWlsc1NlcnZpY2U7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlY3VyaXR5Lkp3dFRva2VuUHJvdmlkZXI7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlcnZpY2UuKjsKaW1wb3J0IGNvbS5leGFtcGxlLmRlbW8uc2VydmljZS5pbXBsLio7CmltcG9ydCBjb20uZXhhbXBsZS5kZW1vLnNlcnZsZXQuU2ltcGxlSGVsbG9TZXJ2bGV0OwppbXBvcnQgamFrYXJ0YS5zZXJ2bGV0Lmh0dHAuSHR0cFNlcnZsZXRSZXF1ZXN0OwppbXBvcnQgamFrYXJ0YS5zZXJ2bGV0Lmh0dHAuSHR0cFNlcnZsZXRSZXNwb25zZTsKaW1wb3J0IG9yZy5tb2NraXRvLk1vY2s7CmltcG9ydCBvcmcubW9ja2l0by5Nb2NraXRvQW5ub3RhdGlvbnM7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLm1vY2sud2ViLk1vY2tIdHRwU2VydmxldFJlcXVlc3Q7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLm1vY2sud2ViLk1vY2tIdHRwU2VydmxldFJlc3BvbnNlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5hdXRoZW50aWNhdGlvbi5BdXRoZW50aWNhdGlvbk1hbmFnZXI7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUuQXV0aGVudGljYXRpb247CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUudXNlcmRldGFpbHMuVXNlckRldGFpbHM7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNyeXB0by5wYXNzd29yZC5QYXNzd29yZEVuY29kZXI7CmltcG9ydCBvcmcudGVzdG5nLkFzc2VydDsKaW1wb3J0IG9yZy50ZXN0bmcuYW5ub3RhdGlvbnMuQmVmb3JlQ2xhc3M7CmltcG9ydCBvcmcudGVzdG5nLmFubm90YXRpb25zLkxpc3RlbmVyczsKaW1wb3J0IG9yZy50ZXN0bmcuYW5ub3RhdGlvbnMuVGVzdDsKCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlOwppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7CmltcG9ydCBqYXZhLnRpbWUuWWVhck1vbnRoOwppbXBvcnQgamF2YS51dGlsLio7CgppbXBvcnQgc3RhdGljIG9yZy5tb2NraXRvLkFyZ3VtZW50TWF0Y2hlcnMuKjsKaW1wb3J0IHN0YXRpYyBvcmcubW9ja2l0by5Nb2NraXRvLndoZW47CgpATGlzdGVuZXJzKFRlc3RSZXN1bHRMaXN0ZW5lci5jbGFzcykKcHVibGljIGNsYXNzIFBlcnNvbmFsRmluYW5jZUJ1ZGdldFBsYW5uZXJUZXN0IHsKCiAgICBATW9jayBwcml2YXRlIFVzZXJSZXBvc2l0b3J5IHVzZXJSZXBvc2l0b3J5OwogICAgQE1vY2sgcHJpdmF0ZSBDYXRlZ29yeVJlcG9zaXRvcnkgY2F0ZWdvcnlSZXBvc2l0b3J5OwogICAgQE1vY2sgcHJpdmF0ZSBUcmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkgdHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5OwogICAgQE1vY2sgcHJpdmF0ZSBCdWRnZXRQbGFuUmVwb3NpdG9yeSBidWRnZXRQbGFuUmVwb3NpdG9yeTsKICAgIEBNb2NrIHByaXZhdGUgQnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnkgYnVkZ2V0U3VtbWFyeVJlcG9zaXRvcnk7CiAgICBATW9jayBwcml2YXRlIFBhc3N3b3JkRW5jb2RlciBwYXNzd29yZEVuY29kZXI7CiAgICBATW9jayBwcml2YXRlIEF1dGhlbnRpY2F0aW9uTWFuYWdlciBhdXRoZW50aWNhdGlvbk1hbmFnZXI7CiAgICBATW9jayBwcml2YXRlIEF1dGhlbnRpY2F0aW9uIGF1dGhlbnRpY2F0aW9uOwogICAgQE1vY2sgcHJpdmF0ZSBDdXN0b21Vc2VyRGV0YWlsc1NlcnZpY2UgY3VzdG9tVXNlckRldGFpbHNTZXJ2aWNlOwoKICAgIHByaXZhdGUgVXNlclNlcnZpY2UgdXNlclNlcnZpY2U7CiAgICBwcml2YXRlIENhdGVnb3J5U2VydmljZSBjYXRlZ29yeVNlcnZpY2U7CiAgICBwcml2YXRlIFRyYW5zYWN0aW9uU2VydmljZSB0cmFuc2FjdGlvblNlcnZpY2U7CiAgICBwcml2YXRlIEJ1ZGdldFBsYW5TZXJ2aWNlIGJ1ZGdldFBsYW5TZXJ2aWNlOwogICAgcHJpdmF0ZSBCdWRnZXRTdW1tYXJ5U2VydmljZSBidWRnZXRTdW1tYXJ5U2VydmljZTsKICAgIHByaXZhdGUgSnd0VG9rZW5Qcm92aWRlciBqd3RUb2tlblByb3ZpZGVyOwoKICAgIEBCZWZvcmVDbGFzcwogICAgcHVibGljIHZvaWQgaW5pdCgpIHsKICAgICAgICBNb2NraXRvQW5ub3RhdGlvbnMub3Blbk1vY2tzKHRoaXMpOwogICAgICAgIGp3dFRva2VuUHJvdmlkZXIgPSBuZXcgSnd0VG9rZW5Qcm92aWRlcigKICAgICAgICAgICAgICAgICJNeVN1cGVyU2VjcmV0Snd0S2V5Rm9yQnVkZ2V0UGxhbm5lcjEyMzQ1NiIsIDM2MDAwMDBMKTsKICAgICAgICB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZUltcGwodXNlclJlcG9zaXRvcnksIHBhc3N3b3JkRW5jb2Rlcik7CiAgICAgICAgY2F0ZWdvcnlTZXJ2aWNlID0gbmV3IENhdGVnb3J5U2VydmljZUltcGwoY2F0ZWdvcnlSZXBvc2l0b3J5KTsKICAgICAgICB0cmFuc2FjdGlvblNlcnZpY2UgPSBuZXcgVHJhbnNhY3Rpb25TZXJ2aWNlSW1wbCh0cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnksIHVzZXJSZXBvc2l0b3J5KTsKICAgICAgICBidWRnZXRQbGFuU2VydmljZSA9IG5ldyBCdWRnZXRQbGFuU2VydmljZUltcGwoYnVkZ2V0UGxhblJlcG9zaXRvcnksIHVzZXJSZXBvc2l0b3J5KTsKICAgICAgICBidWRnZXRTdW1tYXJ5U2VydmljZSA9IG5ldyBCdWRnZXRTdW1tYXJ5U2VydmljZUltcGwoCiAgICAgICAgICAgICAgICBidWRnZXRTdW1tYXJ5UmVwb3NpdG9yeSwgYnVkZ2V0UGxhblJlcG9zaXRvcnksIHRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeSk7CiAgICB9CgogICAgLy8gMSkgU2VydmxldCB0ZXN0cyAoOCkKICAgIEBUZXN0KGdyb3VwcyA9ICJzZXJ2bGV0IiwgcHJpb3JpdHkgPSAxKQogICAgcHVibGljIHZvaWQgdDFfc2VydmxldEhlbGxvKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgU2ltcGxlSGVsbG9TZXJ2bGV0IHMgPSBuZXcgU2ltcGxlSGVsbG9TZXJ2bGV0KCk7CiAgICAgICAgTW9ja0h0dHBTZXJ2bGV0UmVxdWVzdCBycSA9IG5ldyBNb2NrSHR0cFNlcnZsZXRSZXF1ZXN0KCJHRVQiLCAiL2hlbGxvLXNlcnZsZXQiKTsKICAgICAgICBNb2NrSHR0cFNlcnZsZXRSZXNwb25zZSBycyA9IG5ldyBNb2NrSHR0cFNlcnZsZXRSZXNwb25zZSgpOwogICAgICAgIHMuZG9HZXQocnEsIHJzKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKHJzLmdldENvbnRlbnRBc1N0cmluZygpLCAiSGVsbG8gZnJvbSBTaW1wbGUgU2VydmxldCIpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJzZXJ2bGV0IiwgcHJpb3JpdHkgPSAyKQogICAgcHVibGljIHZvaWQgdDJfc2VydmxldFN0YXR1czIwMCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIFNpbXBsZUhlbGxvU2VydmxldCBzID0gbmV3IFNpbXBsZUhlbGxvU2VydmxldCgpOwogICAgICAgIE1vY2tIdHRwU2VydmxldFJlcXVlc3QgcnEgPSBuZXcgTW9ja0h0dHBTZXJ2bGV0UmVxdWVzdCgiR0VUIiwgIi9oZWxsby1zZXJ2bGV0Iik7CiAgICAgICAgTW9ja0h0dHBTZXJ2bGV0UmVzcG9uc2UgcnMgPSBuZXcgTW9ja0h0dHBTZXJ2bGV0UmVzcG9uc2UoKTsKICAgICAgICBzLmRvR2V0KHJxLCBycyk7CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyhycy5nZXRTdGF0dXMoKSwgMjAwKTsKICAgIH0KCiAgICBAVGVzdChncm91cHMgPSAic2VydmxldCIsIHByaW9yaXR5ID0gMykKICAgIHB1YmxpYyB2b2lkIHQzX3NlcnZsZXRDb250ZW50VHlwZSgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIFNpbXBsZUhlbGxvU2VydmxldCBzID0gbmV3IFNpbXBsZUhlbGxvU2VydmxldCgpOwogICAgICAgIE1vY2tIdHRwU2VydmxldFJlcXVlc3QgcnEgPSBuZXcgTW9ja0h0dHBTZXJ2bGV0UmVxdWVzdCgiR0VUIiwgIi9oZWxsby1zZXJ2bGV0Iik7CiAgICAgICAgTW9ja0h0dHBTZXJ2bGV0UmVzcG9uc2UgcnMgPSBuZXcgTW9ja0h0dHBTZXJ2bGV0UmVzcG9uc2UoKTsKICAgICAgICBzLmRvR2V0KHJxLCBycyk7CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyhycy5nZXRDb250ZW50VHlwZSgpLCAidGV4dC9wbGFpbiIpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJzZXJ2bGV0IiwgcHJpb3JpdHkgPSA0KQogICAgcHVibGljIHZvaWQgdDRfc2VydmxldEluZm8oKSB7CiAgICAgICAgU2ltcGxlSGVsbG9TZXJ2bGV0IHMgPSBuZXcgU2ltcGxlSGVsbG9TZXJ2bGV0KCk7CiAgICAgICAgQXNzZXJ0LmFzc2VydFRydWUocy5nZXRTZXJ2bGV0SW5mbygpLmNvbnRhaW5zKCJTaW1wbGVIZWxsb1NlcnZsZXQiKSk7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gInNlcnZsZXQiLCBwcmlvcml0eSA9IDUpCiAgICBwdWJsaWMgdm9pZCB0NV9zZXJ2bGV0TXVsdGlwbGVDYWxscygpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIFNpbXBsZUhlbGxvU2VydmxldCBzID0gbmV3IFNpbXBsZUhlbGxvU2VydmxldCgpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgICAgIE1vY2tIdHRwU2VydmxldFJlcXVlc3QgcnEgPSBuZXcgTW9ja0h0dHBTZXJ2bGV0UmVxdWVzdCgiR0VUIiwgIi9oZWxsby1zZXJ2bGV0Iik7CiAgICAgICAgICAgIE1vY2tIdHRwU2VydmxldFJlc3BvbnNlIHJzID0gbmV3IE1vY2tIdHRwU2VydmxldFJlc3BvbnNlKCk7CiAgICAgICAgICAgIHMuZG9HZXQocnEsIHJzKTsKICAgICAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyhycy5nZXRDb250ZW50QXNTdHJpbmcoKSwgIkhlbGxvIGZyb20gU2ltcGxlIFNlcnZsZXQiKTsKICAgICAgICB9CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gInNlcnZsZXQiLCBwcmlvcml0eSA9IDYpCiAgICBwdWJsaWMgdm9pZCB0Nl9zZXJ2bGV0Tm90TnVsbCgpIHsKICAgICAgICBBc3NlcnQuYXNzZXJ0Tm90TnVsbChuZXcgU2ltcGxlSGVsbG9TZXJ2bGV0KCkpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJzZXJ2bGV0IiwgcHJpb3JpdHkgPSA3KQogICAgcHVibGljIHZvaWQgdDdfc2VydmxldFVybFBhdHRlcm5Mb2dpY2FsKCkgewogICAgICAgIFNpbXBsZUhlbGxvU2VydmxldCBzID0gbmV3IFNpbXBsZUhlbGxvU2VydmxldCgpOwogICAgICAgIEFzc2VydC5hc3NlcnROb3ROdWxsKHMpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJzZXJ2bGV0IiwgcHJpb3JpdHkgPSA4KQogICAgcHVibGljIHZvaWQgdDhfc2VydmxldE5vRXhjZXB0aW9uT25Qb3N0KCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgU2ltcGxlSGVsbG9TZXJ2bGV0IHMgPSBuZXcgU2ltcGxlSGVsbG9TZXJ2bGV0KCk7CiAgICAgICAgSHR0cFNlcnZsZXRSZXF1ZXN0IHJxID0gbmV3IE1vY2tIdHRwU2VydmxldFJlcXVlc3QoIlBPU1QiLCAiL2hlbGxvLXNlcnZsZXQiKTsKICAgICAgICBIdHRwU2VydmxldFJlc3BvbnNlIHJzID0gbmV3IE1vY2tIdHRwU2VydmxldFJlc3BvbnNlKCk7CiAgICAgICAgcy5zZXJ2aWNlKHJxLCBycyk7CiAgICAgICAgaW50IHN0YXR1cyA9ICgoTW9ja0h0dHBTZXJ2bGV0UmVzcG9uc2UpIHJzKS5nZXRTdGF0dXMoKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0VHJ1ZShzdGF0dXMgPT0gMjAwIHx8IHN0YXR1cyA9PSA0MDUpOwogICAgfQoKICAgIC8vIDIpIENSVUQtc3R5bGUgdGVzdHMgKHVzZXIvY2F0ZWdvcnkvdHJhbnNhY3Rpb24vYnVkZ2V0KSAoOCkKICAgIEBUZXN0KGdyb3VwcyA9ICJjcnVkIiwgcHJpb3JpdHkgPSA5KQogICAgcHVibGljIHZvaWQgdDlfcmVnaXN0ZXJVc2VyKCkgewogICAgICAgIFJlZ2lzdGVyUmVxdWVzdCByZXEgPSBuZXcgUmVnaXN0ZXJSZXF1ZXN0KCJKb2huIiwgImpvaG5AZXhhbXBsZS5jb20iLCAicCIpOwogICAgICAgIHdoZW4odXNlclJlcG9zaXRvcnkuZXhpc3RzQnlFbWFpbCgiam9obkBleGFtcGxlLmNvbSIpKS50aGVuUmV0dXJuKGZhbHNlKTsKICAgICAgICB3aGVuKHBhc3N3b3JkRW5jb2Rlci5lbmNvZGUoInAiKSkudGhlblJldHVybigiZW5jIik7CiAgICAgICAgd2hlbih1c2VyUmVwb3NpdG9yeS5zYXZlKGFueShVc2VyLmNsYXNzKSkpLnRoZW5BbnN3ZXIoaW52IC0+IHsKICAgICAgICAgICAgVXNlciB1ID0gaW52LmdldEFyZ3VtZW50KDApOwogICAgICAgICAgICB1LnNldElkKDFMKTsKICAgICAgICAgICAgcmV0dXJuIHU7CiAgICAgICAgfSk7CiAgICAgICAgVXNlciB1ID0gbmV3IFVzZXIobnVsbCwgcmVxLmdldE5hbWUoKSwgcmVxLmdldEVtYWlsKCksIHJlcS5nZXRQYXNzd29yZCgpLCBVc2VyLlJPTEVfVVNFUik7CiAgICAgICAgVXNlciBzYXZlZCA9IHVzZXJTZXJ2aWNlLnJlZ2lzdGVyKHUpOwogICAgICAgIEFzc2VydC5hc3NlcnRFcXVhbHMoc2F2ZWQuZ2V0SWQoKSwgTG9uZy52YWx1ZU9mKDFMKSk7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gImNydWQiLCBwcmlvcml0eSA9IDEwLCBleHBlY3RlZEV4Y2VwdGlvbnMgPSBCYWRSZXF1ZXN0RXhjZXB0aW9uLmNsYXNzKQogICAgcHVibGljIHZvaWQgdDEwX3JlZ2lzdGVyRHVwbGljYXRlRW1haWwoKSB7CiAgICAgICAgd2hlbih1c2VyUmVwb3NpdG9yeS5leGlzdHNCeUVtYWlsKCJ4QGV4YW1wbGUuY29tIikpLnRoZW5SZXR1cm4odHJ1ZSk7CiAgICAgICAgVXNlciB1ID0gbmV3IFVzZXIobnVsbCwgIlgiLCAieEBleGFtcGxlLmNvbSIsICJwIiwgVXNlci5ST0xFX1VTRVIpOwogICAgICAgIHVzZXJTZXJ2aWNlLnJlZ2lzdGVyKHUpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJjcnVkIiwgcHJpb3JpdHkgPSAxMSkKICAgIHB1YmxpYyB2b2lkIHQxMV9hZGRDYXRlZ29yeSgpIHsKICAgICAgICBDYXRlZ29yeSBjYXQgPSBuZXcgQ2F0ZWdvcnkobnVsbCwgIlNhbGFyeSIsIENhdGVnb3J5LlRZUEVfSU5DT01FKTsKICAgICAgICB3aGVuKGNhdGVnb3J5UmVwb3NpdG9yeS5leGlzdHNCeU5hbWUoIlNhbGFyeSIpKS50aGVuUmV0dXJuKGZhbHNlKTsKICAgICAgICB3aGVuKGNhdGVnb3J5UmVwb3NpdG9yeS5zYXZlKGFueShDYXRlZ29yeS5jbGFzcykpKS50aGVuQW5zd2VyKGludiAtPiB7CiAgICAgICAgICAgIENhdGVnb3J5IGMgPSBpbnYuZ2V0QXJndW1lbnQoMCk7CiAgICAgICAgICAgIGMuc2V0SWQoMTBMKTsKICAgICAgICAgICAgcmV0dXJuIGM7CiAgICAgICAgfSk7CiAgICAgICAgQ2F0ZWdvcnkgc2F2ZWQgPSBjYXRlZ29yeVNlcnZpY2UuYWRkQ2F0ZWdvcnkoY2F0KTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKHNhdmVkLmdldElkKCksIExvbmcudmFsdWVPZigxMEwpKTsKICAgIH0KCiAgICBAVGVzdChncm91cHMgPSAiY3J1ZCIsIHByaW9yaXR5ID0gMTIsIGV4cGVjdGVkRXhjZXB0aW9ucyA9IEJhZFJlcXVlc3RFeGNlcHRpb24uY2xhc3MpCiAgICBwdWJsaWMgdm9pZCB0MTJfYWRkRHVwbGljYXRlQ2F0ZWdvcnkoKSB7CiAgICAgICAgQ2F0ZWdvcnkgY2F0ID0gbmV3IENhdGVnb3J5KG51bGwsICJGb29kIiwgQ2F0ZWdvcnkuVFlQRV9FWFBFTlNFKTsKICAgICAgICB3aGVuKGNhdGVnb3J5UmVwb3NpdG9yeS5leGlzdHNCeU5hbWUoIkZvb2QiKSkudGhlblJldHVybih0cnVlKTsKICAgICAgICBjYXRlZ29yeVNlcnZpY2UuYWRkQ2F0ZWdvcnkoY2F0KTsKICAgIH0KCiAgICBAVGVzdChncm91cHMgPSAiY3J1ZCIsIHByaW9yaXR5ID0gMTMpCiAgICBwdWJsaWMgdm9pZCB0MTNfYWRkVHJhbnNhY3Rpb24oKSB7CiAgICAgICAgVXNlciB1ID0gbmV3IFVzZXIoMUwsICJVIiwgInVAZS5jb20iLCAicCIsIFVzZXIuUk9MRV9VU0VSKTsKICAgICAgICBDYXRlZ29yeSBjID0gbmV3IENhdGVnb3J5KDFMLCAiRm9vZCIsIENhdGVnb3J5LlRZUEVfRVhQRU5TRSk7CiAgICAgICAgVHJhbnNhY3Rpb25Mb2cgbG9nID0gbmV3IFRyYW5zYWN0aW9uTG9nKG51bGwsIHUsIGMsIDIwMC4wLCAiRGlubmVyIiwKICAgICAgICAgICAgICAgIExvY2FsRGF0ZS5vZigyMDI1LCAxLCAxMCkpOwogICAgICAgIHdoZW4odXNlclJlcG9zaXRvcnkuZmluZEJ5SWQoMUwpKS50aGVuUmV0dXJuKE9wdGlvbmFsLm9mKHUpKTsKICAgICAgICB3aGVuKHRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeS5zYXZlKGFueShUcmFuc2FjdGlvbkxvZy5jbGFzcykpKS50aGVuQW5zd2VyKGludiAtPiB7CiAgICAgICAgICAgIFRyYW5zYWN0aW9uTG9nIHQgPSBpbnYuZ2V0QXJndW1lbnQoMCk7CiAgICAgICAgICAgIHQuc2V0SWQoMTAwTCk7CiAgICAgICAgICAgIHJldHVybiB0OwogICAgICAgIH0pOwogICAgICAgIFRyYW5zYWN0aW9uTG9nIHNhdmVkID0gdHJhbnNhY3Rpb25TZXJ2aWNlLmFkZFRyYW5zYWN0aW9uKDFMLCBsb2cpOwogICAgICAgIEFzc2VydC5hc3NlcnRFcXVhbHMoc2F2ZWQuZ2V0SWQoKSwgTG9uZy52YWx1ZU9mKDEwMEwpKTsKICAgIH0KCiAgICBAVGVzdChncm91cHMgPSAiY3J1ZCIsIHByaW9yaXR5ID0gMTQpCiAgICBwdWJsaWMgdm9pZCB0MTRfY3JlYXRlQnVkZ2V0UGxhbigpIHsKICAgICAgICBVc2VyIHUgPSBuZXcgVXNlcigxTCwgIlUiLCAidUBlLmNvbSIsICJwIiwgVXNlci5ST0xFX1VTRVIpOwogICAgICAgIEJ1ZGdldFBsYW4gcGxhbiA9IG5ldyBCdWRnZXRQbGFuKG51bGwsIHUsIDEsIDIwMjUsIDUwMDAwLjAsIDIwMDAwLjApOwogICAgICAgIHdoZW4odXNlclJlcG9zaXRvcnkuZmluZEJ5SWQoMUwpKS50aGVuUmV0dXJuKE9wdGlvbmFsLm9mKHUpKTsKICAgICAgICB3aGVuKGJ1ZGdldFBsYW5SZXBvc2l0b3J5LmZpbmRCeVVzZXJBbmRNb250aEFuZFllYXIodSwgMSwgMjAyNSkpCiAgICAgICAgICAgICAgICAudGhlblJldHVybihPcHRpb25hbC5lbXB0eSgpKTsKICAgICAgICB3aGVuKGJ1ZGdldFBsYW5SZXBvc2l0b3J5LnNhdmUoYW55KEJ1ZGdldFBsYW4uY2xhc3MpKSkudGhlbkFuc3dlcihpbnYgLT4gewogICAgICAgICAgICBCdWRnZXRQbGFuIHAgPSBpbnYuZ2V0QXJndW1lbnQoMCk7CiAgICAgICAgICAgIHAuc2V0SWQoNTBMKTsKICAgICAgICAgICAgcmV0dXJuIHA7CiAgICAgICAgfSk7CiAgICAgICAgQnVkZ2V0UGxhbiBzYXZlZCA9IGJ1ZGdldFBsYW5TZXJ2aWNlLmNyZWF0ZUJ1ZGdldFBsYW4oMUwsIHBsYW4pOwogICAgICAgIEFzc2VydC5hc3NlcnRFcXVhbHMoc2F2ZWQuZ2V0SWQoKSwgTG9uZy52YWx1ZU9mKDUwTCkpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJjcnVkIiwgcHJpb3JpdHkgPSAxNSwgZXhwZWN0ZWRFeGNlcHRpb25zID0gQmFkUmVxdWVzdEV4Y2VwdGlvbi5jbGFzcykKICAgIHB1YmxpYyB2b2lkIHQxNV9kdXBsaWNhdGVCdWRnZXRQbGFuKCkgewogICAgICAgIFVzZXIgdSA9IG5ldyBVc2VyKDFMLCAiVSIsICJ1QGUuY29tIiwgInAiLCBVc2VyLlJPTEVfVVNFUik7CiAgICAgICAgQnVkZ2V0UGxhbiBwbGFuID0gbmV3IEJ1ZGdldFBsYW4obnVsbCwgdSwgMSwgMjAyNSwgNTAwMDAuMCwgMjAwMDAuMCk7CiAgICAgICAgd2hlbih1c2VyUmVwb3NpdG9yeS5maW5kQnlJZCgxTCkpLnRoZW5SZXR1cm4oT3B0aW9uYWwub2YodSkpOwogICAgICAgIHdoZW4oYnVkZ2V0UGxhblJlcG9zaXRvcnkuZmluZEJ5VXNlckFuZE1vbnRoQW5kWWVhcih1LCAxLCAyMDI1KSkKICAgICAgICAgICAgICAgIC50aGVuUmV0dXJuKE9wdGlvbmFsLm9mKHBsYW4pKTsKICAgICAgICBidWRnZXRQbGFuU2VydmljZS5jcmVhdGVCdWRnZXRQbGFuKDFMLCBwbGFuKTsKICAgIH0KCiAgICBAVGVzdChncm91cHMgPSAiY3J1ZCIsIHByaW9yaXR5ID0gMTYpCiAgICBwdWJsaWMgdm9pZCB0MTZfZ2V0VXNlclRyYW5zYWN0aW9ucygpIHsKICAgICAgICBVc2VyIHUgPSBuZXcgVXNlcigxTCwgIlUiLCAidUBlLmNvbSIsICJwIiwgVXNlci5ST0xFX1VTRVIpOwogICAgICAgIFRyYW5zYWN0aW9uTG9nIHQxID0gbmV3IFRyYW5zYWN0aW9uTG9nKDFMLCB1LCBuZXcgQ2F0ZWdvcnkoMUwsICJGb29kIiwgQ2F0ZWdvcnkuVFlQRV9FWFBFTlNFKSwKICAgICAgICAgICAgICAgIDEwMC4wLCAiTHVuY2giLCBMb2NhbERhdGUubm93KCkpOwogICAgICAgIFRyYW5zYWN0aW9uTG9nIHQyID0gbmV3IFRyYW5zYWN0aW9uTG9nKDJMLCB1LCBuZXcgQ2F0ZWdvcnkoMkwsICJTYWxhcnkiLCBDYXRlZ29yeS5UWVBFX0lOQ09NRSksCiAgICAgICAgICAgICAgICAyMDAwLjAsICJTYWxhcnkiLCBMb2NhbERhdGUubm93KCkpOwogICAgICAgIHdoZW4odXNlclJlcG9zaXRvcnkuZmluZEJ5SWQoMUwpKS50aGVuUmV0dXJuKE9wdGlvbmFsLm9mKHUpKTsKICAgICAgICB3aGVuKHRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeS5maW5kQnlVc2VyKHUpKS50aGVuUmV0dXJuKEFycmF5cy5hc0xpc3QodDEsIHQyKSk7CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyh0cmFuc2FjdGlvblNlcnZpY2UuZ2V0VXNlclRyYW5zYWN0aW9ucygxTCkuc2l6ZSgpLCAyKTsKICAgIH0KCiAgICAvLyAzKSBESSAmIElvQyB0ZXN0cyAoOCkKICAgIEBUZXN0KGdyb3VwcyA9ICJkaSIsIHByaW9yaXR5ID0gMTcpCiAgICBwdWJsaWMgdm9pZCB0MTdfdXNlclNlcnZpY2VOb3ROdWxsKCkgeyBBc3NlcnQuYXNzZXJ0Tm90TnVsbCh1c2VyU2VydmljZSk7IH0KCiAgICBAVGVzdChncm91cHMgPSAiZGkiLCBwcmlvcml0eSA9IDE4KQogICAgcHVibGljIHZvaWQgdDE4X2NhdGVnb3J5U2VydmljZU5vdE51bGwoKSB7IEFzc2VydC5hc3NlcnROb3ROdWxsKGNhdGVnb3J5U2VydmljZSk7IH0KCiAgICBAVGVzdChncm91cHMgPSAiZGkiLCBwcmlvcml0eSA9IDE5KQogICAgcHVibGljIHZvaWQgdDE5X3RyYW5zYWN0aW9uU2VydmljZU5vdE51bGwoKSB7IEFzc2VydC5hc3NlcnROb3ROdWxsKHRyYW5zYWN0aW9uU2VydmljZSk7IH0KCiAgICBAVGVzdChncm91cHMgPSAiZGkiLCBwcmlvcml0eSA9IDIwKQogICAgcHVibGljIHZvaWQgdDIwX2J1ZGdldFBsYW5TZXJ2aWNlTm90TnVsbCgpIHsgQXNzZXJ0LmFzc2VydE5vdE51bGwoYnVkZ2V0UGxhblNlcnZpY2UpOyB9CgogICAgQFRlc3QoZ3JvdXBzID0gImRpIiwgcHJpb3JpdHkgPSAyMSkKICAgIHB1YmxpYyB2b2lkIHQyMV9idWRnZXRTdW1tYXJ5U2VydmljZU5vdE51bGwoKSB7IEFzc2VydC5hc3NlcnROb3ROdWxsKGJ1ZGdldFN1bW1hcnlTZXJ2aWNlKTsgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJkaSIsIHByaW9yaXR5ID0gMjIpCiAgICBwdWJsaWMgdm9pZCB0MjJfcGFzc3dvcmRFbmNvZGVyTW9ja05vdE51bGwoKSB7IEFzc2VydC5hc3NlcnROb3ROdWxsKHBhc3N3b3JkRW5jb2Rlcik7IH0KCiAgICBAVGVzdChncm91cHMgPSAiZGkiLCBwcmlvcml0eSA9IDIzKQogICAgcHVibGljIHZvaWQgdDIzX2p3dFByb3ZpZGVyTm90TnVsbCgpIHsgQXNzZXJ0LmFzc2VydE5vdE51bGwoand0VG9rZW5Qcm92aWRlcik7IH0KCiAgICBAVGVzdChncm91cHMgPSAiZGkiLCBwcmlvcml0eSA9IDI0KQogICAgcHVibGljIHZvaWQgdDI0X3JlcG9zaXRvcmllc05vdE51bGwoKSB7IEFzc2VydC5hc3NlcnROb3ROdWxsKHVzZXJSZXBvc2l0b3J5KTsgfQoKICAgIC8vIDQpIEhpYmVybmF0ZS1zdHlsZSB0ZXN0cyAoOCkKICAgIEBUZXN0KGdyb3VwcyA9ICJoaWJlcm5hdGUiLCBwcmlvcml0eSA9IDI1KQogICAgcHVibGljIHZvaWQgdDI1X3VzZXJEZWZhdWx0Um9sZSgpIHsKICAgICAgICBVc2VyIHUgPSBuZXcgVXNlcigpOwogICAgICAgIHUuc2V0Um9sZShVc2VyLlJPTEVfVVNFUik7CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyh1LmdldFJvbGUoKSwgVXNlci5ST0xFX1VTRVIpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJoaWJlcm5hdGUiLCBwcmlvcml0eSA9IDI2KQogICAgcHVibGljIHZvaWQgdDI2X3RyYW5zYWN0aW9uVmFsaWRhdGlvblBvc2l0aXZlQW1vdW50KCkgewogICAgICAgIFRyYW5zYWN0aW9uTG9nIGxvZyA9IG5ldyBUcmFuc2FjdGlvbkxvZygpOwogICAgICAgIGxvZy5zZXRBbW91bnQoMTAwLjApOwogICAgICAgIGxvZy5zZXRUcmFuc2FjdGlvbkRhdGUoTG9jYWxEYXRlLm5vdygpKTsKICAgICAgICBsb2cudmFsaWRhdGUoKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKGxvZy5nZXRBbW91bnQoKSwgMTAwLjApOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJoaWJlcm5hdGUiLCBwcmlvcml0eSA9IDI3LCBleHBlY3RlZEV4Y2VwdGlvbnMgPSBCYWRSZXF1ZXN0RXhjZXB0aW9uLmNsYXNzKQogICAgcHVibGljIHZvaWQgdDI3X3RyYW5zYWN0aW9uRnV0dXJlRGF0ZUludmFsaWQoKSB7CiAgICAgICAgVHJhbnNhY3Rpb25Mb2cgbG9nID0gbmV3IFRyYW5zYWN0aW9uTG9nKCk7CiAgICAgICAgbG9nLnNldEFtb3VudCgxMDAuMCk7CiAgICAgICAgbG9nLnNldFRyYW5zYWN0aW9uRGF0ZShMb2NhbERhdGUubm93KCkucGx1c0RheXMoMSkpOwogICAgICAgIGxvZy52YWxpZGF0ZSgpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJoaWJlcm5hdGUiLCBwcmlvcml0eSA9IDI4KQogICAgcHVibGljIHZvaWQgdDI4X2J1ZGdldFBsYW5Nb250aFZhbGlkYXRpb24oKSB7CiAgICAgICAgQnVkZ2V0UGxhbiBwbGFuID0gbmV3IEJ1ZGdldFBsYW4obnVsbCwgbnVsbCwgNSwgMjAyNSwgMTAwMC4wLCA1MDAuMCk7CiAgICAgICAgcGxhbi52YWxpZGF0ZSgpOwogICAgICAgIEFzc2VydC5hc3NlcnRFcXVhbHMocGxhbi5nZXRNb250aCgpLCBJbnRlZ2VyLnZhbHVlT2YoNSkpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJoaWJlcm5hdGUiLCBwcmlvcml0eSA9IDI5LCBleHBlY3RlZEV4Y2VwdGlvbnMgPSBCYWRSZXF1ZXN0RXhjZXB0aW9uLmNsYXNzKQogICAgcHVibGljIHZvaWQgdDI5X2J1ZGdldFBsYW5JbnZhbGlkTW9udGgoKSB7CiAgICAgICAgQnVkZ2V0UGxhbiBwbGFuID0gbmV3IEJ1ZGdldFBsYW4obnVsbCwgbnVsbCwgMTMsIDIwMjUsIDEwMDAuMCwgNTAwLjApOwogICAgICAgIHBsYW4udmFsaWRhdGUoKTsKICAgIH0KCiAgICBAVGVzdChncm91cHMgPSAiaGliZXJuYXRlIiwgcHJpb3JpdHkgPSAzMCkKICAgIHB1YmxpYyB2b2lkIHQzMF9idWRnZXRTdW1tYXJ5T25DcmVhdGUoKSB7CiAgICAgICAgQnVkZ2V0U3VtbWFyeSBzdW1tYXJ5ID0gbmV3IEJ1ZGdldFN1bW1hcnkoKTsKICAgICAgICBzdW1tYXJ5LnNldEJ1ZGdldFBsYW4obmV3IEJ1ZGdldFBsYW4oKSk7CiAgICAgICAgc3VtbWFyeS5vbkNyZWF0ZSgpOwogICAgICAgIEFzc2VydC5hc3NlcnROb3ROdWxsKHN1bW1hcnkuZ2V0R2VuZXJhdGVkQXQoKSk7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gImhpYmVybmF0ZSIsIHByaW9yaXR5ID0gMzEpCiAgICBwdWJsaWMgdm9pZCB0MzFfY2F0ZWdvcnlUeXBlVmFsaWRhdGlvbigpIHsKICAgICAgICBDYXRlZ29yeSBjYXQgPSBuZXcgQ2F0ZWdvcnkobnVsbCwgIkdpZnQiLCBDYXRlZ29yeS5UWVBFX0VYUEVOU0UpOwogICAgICAgIGNhdC52YWxpZGF0ZVR5cGUoKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKGNhdC5nZXRUeXBlKCksIENhdGVnb3J5LlRZUEVfRVhQRU5TRSk7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gImhpYmVybmF0ZSIsIHByaW9yaXR5ID0gMzIsIGV4cGVjdGVkRXhjZXB0aW9ucyA9IEJhZFJlcXVlc3RFeGNlcHRpb24uY2xhc3MpCiAgICBwdWJsaWMgdm9pZCB0MzJfY2F0ZWdvcnlUeXBlSW52YWxpZCgpIHsKICAgICAgICBDYXRlZ29yeSBjYXQgPSBuZXcgQ2F0ZWdvcnkobnVsbCwgIlgiLCAiT1RIRVIiKTsKICAgICAgICBjYXQudmFsaWRhdGVUeXBlKCk7CiAgICB9CgogICAgLy8gNSkgSlBBIG1hcHBpbmcgJiBub3JtYWxpemF0aW9uLXN0eWxlIHRlc3RzICg3KQogICAgQFRlc3QoZ3JvdXBzID0gImpwYS1tYXBwaW5nIiwgcHJpb3JpdHkgPSAzMykKICAgIHB1YmxpYyB2b2lkIHQzM19tYW55VG9PbmVVc2VyVHJhbnNhY3Rpb25zKCkgewogICAgICAgIFVzZXIgdSA9IG5ldyBVc2VyKDFMLCAiVSIsICJ1QGUuY29tIiwgInAiLCBVc2VyLlJPTEVfVVNFUik7CiAgICAgICAgVHJhbnNhY3Rpb25Mb2cgdCA9IG5ldyBUcmFuc2FjdGlvbkxvZygxTCwgdSwKICAgICAgICAgICAgICAgIG5ldyBDYXRlZ29yeSgxTCwgIkZvb2QiLCBDYXRlZ29yeS5UWVBFX0VYUEVOU0UpLAogICAgICAgICAgICAgICAgMTAwLjAsICJMdW5jaCIsIExvY2FsRGF0ZS5ub3coKSk7CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyh0LmdldFVzZXIoKS5nZXRJZCgpLCB1LmdldElkKCkpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJqcGEtbWFwcGluZyIsIHByaW9yaXR5ID0gMzQpCiAgICBwdWJsaWMgdm9pZCB0MzRfbWFueVRvT25lVXNlckJ1ZGdldFBsYW4oKSB7CiAgICAgICAgVXNlciB1ID0gbmV3IFVzZXIoMUwsICJVIiwgInVAZS5jb20iLCAicCIsIFVzZXIuUk9MRV9VU0VSKTsKICAgICAgICBCdWRnZXRQbGFuIHBsYW4gPSBuZXcgQnVkZ2V0UGxhbigxTCwgdSwgMSwgMjAyNSwgMTAwMC4wLCA1MDAuMCk7CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyhwbGFuLmdldFVzZXIoKS5nZXRFbWFpbCgpLCAidUBlLmNvbSIpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJqcGEtbWFwcGluZyIsIHByaW9yaXR5ID0gMzUpCiAgICBwdWJsaWMgdm9pZCB0MzVfb25lVG9PbmVCdWRnZXRTdW1tYXJ5UGxhbigpIHsKICAgICAgICBCdWRnZXRQbGFuIHBsYW4gPSBuZXcgQnVkZ2V0UGxhbigxTCwgbmV3IFVzZXIoKSwgMSwgMjAyNSwgMTAwMC4wLCA1MDAuMCk7CiAgICAgICAgQnVkZ2V0U3VtbWFyeSBzdW1tYXJ5ID0gbmV3IEJ1ZGdldFN1bW1hcnkoMUwsIHBsYW4sIDUwMC4wLCAyMDAuMCwKICAgICAgICAgICAgICAgIEJ1ZGdldFN1bW1hcnkuU1RBVFVTX1VOREVSX0xJTUlULCBMb2NhbERhdGVUaW1lLm5vdygpKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKHN1bW1hcnkuZ2V0QnVkZ2V0UGxhbigpLmdldElkKCksIHBsYW4uZ2V0SWQoKSk7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gImpwYS1tYXBwaW5nIiwgcHJpb3JpdHkgPSAzNikKICAgIHB1YmxpYyB2b2lkIHQzNl8xTkZfY2F0ZWdvcnlOYW1lTm90TnVsbCgpIHsKICAgICAgICBDYXRlZ29yeSBjYXQgPSBuZXcgQ2F0ZWdvcnkoMUwsICJGb29kIiwgQ2F0ZWdvcnkuVFlQRV9FWFBFTlNFKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0Tm90TnVsbChjYXQuZ2V0TmFtZSgpKTsKICAgIH0KCiAgICBAVGVzdChncm91cHMgPSAianBhLW1hcHBpbmciLCBwcmlvcml0eSA9IDM3KQogICAgcHVibGljIHZvaWQgdDM3XzJORl9idWRnZXRQbGFuRGVwZW5kc09uSWQoKSB7CiAgICAgICAgQnVkZ2V0UGxhbiBwbGFuID0gbmV3IEJ1ZGdldFBsYW4oMUwsIG5ldyBVc2VyKCksIDEsIDIwMjUsIDEwMDAuMCwgNTAwLjApOwogICAgICAgIEFzc2VydC5hc3NlcnRFcXVhbHMocGxhbi5nZXRJZCgpLCBMb25nLnZhbHVlT2YoMUwpKTsKICAgIH0KCiAgICBAVGVzdChncm91cHMgPSAianBhLW1hcHBpbmciLCBwcmlvcml0eSA9IDM4KQogICAgcHVibGljIHZvaWQgdDM4XzNORl9idWRnZXRTdW1tYXJ5Tm9UcmFuc2l0aXZlKCkgewogICAgICAgIEJ1ZGdldFN1bW1hcnkgc3VtbWFyeSA9IG5ldyBCdWRnZXRTdW1tYXJ5KCk7CiAgICAgICAgc3VtbWFyeS5zZXRTdGF0dXMoQnVkZ2V0U3VtbWFyeS5TVEFUVVNfVU5ERVJfTElNSVQpOwogICAgICAgIEFzc2VydC5hc3NlcnRFcXVhbHMoc3VtbWFyeS5nZXRTdGF0dXMoKSwgQnVkZ2V0U3VtbWFyeS5TVEFUVVNfVU5ERVJfTElNSVQpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJqcGEtbWFwcGluZyIsIHByaW9yaXR5ID0gMzkpCiAgICBwdWJsaWMgdm9pZCB0Mzlfbm9ybWFsaXplZFRyYW5zYWN0aW9uTG9nKCkgewogICAgICAgIFRyYW5zYWN0aW9uTG9nIGxvZyA9IG5ldyBUcmFuc2FjdGlvbkxvZygxTCwgbmV3IFVzZXIoKSwgbmV3IENhdGVnb3J5KCksCiAgICAgICAgICAgICAgICAxMDAuMCwgIk5vdGUiLCBMb2NhbERhdGUubm93KCkpOwogICAgICAgIEFzc2VydC5hc3NlcnRFcXVhbHMobG9nLmdldElkKCksIExvbmcudmFsdWVPZigxTCkpOwogICAgfQoKICAgIC8vIDYpIE1hbnktdG8tTWFueSBsb2dpY2FsIHRlc3RzICg3KSAtIHVzaW5nIHVzZXIgJiBjYXRlZ29yaWVzIHZpYSB0cmFuc2FjdGlvbnMKICAgIEBUZXN0KGdyb3VwcyA9ICJtYW55LXRvLW1hbnkiLCBwcmlvcml0eSA9IDQwKQogICAgcHVibGljIHZvaWQgdDQwX3VzZXJNdWx0aXBsZUNhdGVnb3JpZXNUaHJvdWdoVHJhbnNhY3Rpb25zKCkgewogICAgICAgIFVzZXIgdSA9IG5ldyBVc2VyKDFMLCAiVSIsICJ1QGUuY29tIiwgInAiLCBVc2VyLlJPTEVfVVNFUik7CiAgICAgICAgQ2F0ZWdvcnkgYzEgPSBuZXcgQ2F0ZWdvcnkoMUwsICJGb29kIiwgQ2F0ZWdvcnkuVFlQRV9FWFBFTlNFKTsKICAgICAgICBDYXRlZ29yeSBjMiA9IG5ldyBDYXRlZ29yeSgyTCwgIlNhbGFyeSIsIENhdGVnb3J5LlRZUEVfSU5DT01FKTsKICAgICAgICBUcmFuc2FjdGlvbkxvZyB0MSA9IG5ldyBUcmFuc2FjdGlvbkxvZygxTCwgdSwgYzEsIDEwMC4wLCAiTHVuY2giLCBMb2NhbERhdGUubm93KCkpOwogICAgICAgIFRyYW5zYWN0aW9uTG9nIHQyID0gbmV3IFRyYW5zYWN0aW9uTG9nKDJMLCB1LCBjMiwgMjAwMC4wLCAiU2FsYXJ5IiwgTG9jYWxEYXRlLm5vdygpKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKEFycmF5cy5hc0xpc3QodDEsIHQyKS5zaXplKCksIDIpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJtYW55LXRvLW1hbnkiLCBwcmlvcml0eSA9IDQxKQogICAgcHVibGljIHZvaWQgdDQxX2NhdGVnb3J5VXNlZEJ5TXVsdGlwbGVVc2VycygpIHsKICAgICAgICBDYXRlZ29yeSBjID0gbmV3IENhdGVnb3J5KDFMLCAiRm9vZCIsIENhdGVnb3J5LlRZUEVfRVhQRU5TRSk7CiAgICAgICAgVXNlciB1MSA9IG5ldyBVc2VyKDFMLCAiVTEiLCAidTFAZS5jb20iLCAicCIsIFVzZXIuUk9MRV9VU0VSKTsKICAgICAgICBVc2VyIHUyID0gbmV3IFVzZXIoMkwsICJVMiIsICJ1MkBlLmNvbSIsICJwIiwgVXNlci5ST0xFX1VTRVIpOwogICAgICAgIFRyYW5zYWN0aW9uTG9nIHQxID0gbmV3IFRyYW5zYWN0aW9uTG9nKDFMLCB1MSwgYywgMTAwLjAsICJMMSIsIExvY2FsRGF0ZS5ub3coKSk7CiAgICAgICAgVHJhbnNhY3Rpb25Mb2cgdDIgPSBuZXcgVHJhbnNhY3Rpb25Mb2coMkwsIHUyLCBjLCAxNTAuMCwgIkwyIiwgTG9jYWxEYXRlLm5vdygpKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKG5ldyBIYXNoU2V0PD4oQXJyYXlzLmFzTGlzdCh0MS5nZXRVc2VyKCksIHQyLmdldFVzZXIoKSkpLnNpemUoKSwgMik7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gIm1hbnktdG8tbWFueSIsIHByaW9yaXR5ID0gNDIpCiAgICBwdWJsaWMgdm9pZCB0NDJfbm9EdXBsaWNhdGVUcmFuc2FjdGlvbklkcygpIHsKICAgICAgICBVc2VyIHUgPSBuZXcgVXNlcigxTCwgIlUiLCAidUBlLmNvbSIsICJwIiwgVXNlci5ST0xFX1VTRVIpOwogICAgICAgIENhdGVnb3J5IGMgPSBuZXcgQ2F0ZWdvcnkoMUwsICJGb29kIiwgQ2F0ZWdvcnkuVFlQRV9FWFBFTlNFKTsKICAgICAgICBUcmFuc2FjdGlvbkxvZyB0MSA9IG5ldyBUcmFuc2FjdGlvbkxvZygxTCwgdSwgYywgMTAwLjAsICJMMSIsIExvY2FsRGF0ZS5ub3coKSk7CiAgICAgICAgVHJhbnNhY3Rpb25Mb2cgdDIgPSBuZXcgVHJhbnNhY3Rpb25Mb2coMkwsIHUsIGMsIDEyMC4wLCAiTDIiLCBMb2NhbERhdGUubm93KCkpOwogICAgICAgIEFzc2VydC5hc3NlcnROb3RFcXVhbHModDEuZ2V0SWQoKSwgdDIuZ2V0SWQoKSk7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gIm1hbnktdG8tbWFueSIsIHByaW9yaXR5ID0gNDMpCiAgICBwdWJsaWMgdm9pZCB0NDNfbG9naWNhbE1hbnlUb01hbnlDYXJkaW5hbGl0eSgpIHsKICAgICAgICBVc2VyIHUxID0gbmV3IFVzZXIoMUwsICJVMSIsICJ1MUBlLmNvbSIsICJwIiwgVXNlci5ST0xFX1VTRVIpOwogICAgICAgIFVzZXIgdTIgPSBuZXcgVXNlcigyTCwgIlUyIiwgInUyQGUuY29tIiwgInAiLCBVc2VyLlJPTEVfVVNFUik7CiAgICAgICAgQ2F0ZWdvcnkgYzEgPSBuZXcgQ2F0ZWdvcnkoMUwsICJGb29kIiwgQ2F0ZWdvcnkuVFlQRV9FWFBFTlNFKTsKICAgICAgICBDYXRlZ29yeSBjMiA9IG5ldyBDYXRlZ29yeSgyTCwgIlNhbGFyeSIsIENhdGVnb3J5LlRZUEVfSU5DT01FKTsKICAgICAgICBUcmFuc2FjdGlvbkxvZyB0MSA9IG5ldyBUcmFuc2FjdGlvbkxvZygxTCwgdTEsIGMxLCAxMDAuMCwgIkwxIiwgTG9jYWxEYXRlLm5vdygpKTsKICAgICAgICBUcmFuc2FjdGlvbkxvZyB0MiA9IG5ldyBUcmFuc2FjdGlvbkxvZygyTCwgdTEsIGMyLCAyMDAwLjAsICJMMiIsIExvY2FsRGF0ZS5ub3coKSk7CiAgICAgICAgVHJhbnNhY3Rpb25Mb2cgdDMgPSBuZXcgVHJhbnNhY3Rpb25Mb2coM0wsIHUyLCBjMSwgMTUwLjAsICJMMyIsIExvY2FsRGF0ZS5ub3coKSk7CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyhBcnJheXMuYXNMaXN0KHQxLCB0MiwgdDMpLnNpemUoKSwgMyk7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gIm1hbnktdG8tbWFueSIsIHByaW9yaXR5ID0gNDQpCiAgICBwdWJsaWMgdm9pZCB0NDRfZWRnZU5vVHJhbnNhY3Rpb25zKCkgewogICAgICAgIEFzc2VydC5hc3NlcnRUcnVlKENvbGxlY3Rpb25zLjxUcmFuc2FjdGlvbkxvZz5lbXB0eUxpc3QoKS5pc0VtcHR5KCkpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJtYW55LXRvLW1hbnkiLCBwcmlvcml0eSA9IDQ1KQogICAgcHVibGljIHZvaWQgdDQ1X2VkZ2VTaW5nbGVUcmFuc2FjdGlvbigpIHsKICAgICAgICBVc2VyIHUgPSBuZXcgVXNlcigxTCwgIlUiLCAidUBlLmNvbSIsICJwIiwgVXNlci5ST0xFX1VTRVIpOwogICAgICAgIENhdGVnb3J5IGMgPSBuZXcgQ2F0ZWdvcnkoMUwsICJGb29kIiwgQ2F0ZWdvcnkuVFlQRV9FWFBFTlNFKTsKICAgICAgICBUcmFuc2FjdGlvbkxvZyB0ID0gbmV3IFRyYW5zYWN0aW9uTG9nKDFMLCB1LCBjLCAxMDAuMCwgIkwxIiwgTG9jYWxEYXRlLm5vdygpKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKHQuZ2V0VXNlcigpLmdldElkKCksIExvbmcudmFsdWVPZigxTCkpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJtYW55LXRvLW1hbnkiLCBwcmlvcml0eSA9IDQ2KQogICAgcHVibGljIHZvaWQgdDQ2X2pvaW5FbnRpdHlOb3ROdWxsKCkgewogICAgICAgIFRyYW5zYWN0aW9uTG9nIHQgPSBuZXcgVHJhbnNhY3Rpb25Mb2coMUwsIG5ldyBVc2VyKCksIG5ldyBDYXRlZ29yeSgpLAogICAgICAgICAgICAgICAgMTAwLjAsICJMMSIsIExvY2FsRGF0ZS5ub3coKSk7CiAgICAgICAgQXNzZXJ0LmFzc2VydE5vdE51bGwodC5nZXRDYXRlZ29yeSgpKTsKICAgIH0KCiAgICAvLyA3KSBKV1Qgc2VjdXJpdHkgdGVzdHMgKDcpCiAgICBAVGVzdChncm91cHMgPSAiand0LXNlY3VyaXR5IiwgcHJpb3JpdHkgPSA0NykKICAgIHB1YmxpYyB2b2lkIHQ0N19qd3RDb250YWluc0NsYWltcygpIHsKICAgICAgICBVc2VyRGV0YWlscyB1ZCA9IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS51c2VyZGV0YWlscy5Vc2VyCiAgICAgICAgICAgICAgICAud2l0aFVzZXJuYW1lKCJ1c2VyQGUuY29tIikucGFzc3dvcmQoInAiKS5yb2xlcygiVVNFUiIpLmJ1aWxkKCk7CiAgICAgICAgd2hlbihhdXRoZW50aWNhdGlvbi5nZXRQcmluY2lwYWwoKSkudGhlblJldHVybih1ZCk7CiAgICAgICAgU3RyaW5nIHRva2VuID0gand0VG9rZW5Qcm92aWRlci5nZW5lcmF0ZVRva2VuKGF1dGhlbnRpY2F0aW9uLAogICAgICAgICAgICAgICAgMUwsICJ1c2VyQGUuY29tIiwgIlVTRVIiKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKGp3dFRva2VuUHJvdmlkZXIuZ2V0VXNlcklkRnJvbVRva2VuKHRva2VuKSwgTG9uZy52YWx1ZU9mKDFMKSk7CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyhqd3RUb2tlblByb3ZpZGVyLmdldEVtYWlsRnJvbVRva2VuKHRva2VuKSwgInVzZXJAZS5jb20iKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKGp3dFRva2VuUHJvdmlkZXIuZ2V0Um9sZUZyb21Ub2tlbih0b2tlbiksICJVU0VSIik7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gImp3dC1zZWN1cml0eSIsIHByaW9yaXR5ID0gNDgpCiAgICBwdWJsaWMgdm9pZCB0NDhfand0SW52YWxpZFRva2VuRmFsc2UoKSB7CiAgICAgICAgQXNzZXJ0LmFzc2VydEZhbHNlKGp3dFRva2VuUHJvdmlkZXIudmFsaWRhdGVUb2tlbigieC55LnoiKSk7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gImp3dC1zZWN1cml0eSIsIHByaW9yaXR5ID0gNDkpCiAgICBwdWJsaWMgdm9pZCB0NDlfand0VmFsaWRUb2tlblRydWUoKSB7CiAgICAgICAgVXNlckRldGFpbHMgdWQgPSBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUudXNlcmRldGFpbHMuVXNlcgogICAgICAgICAgICAgICAgLndpdGhVc2VybmFtZSgidEBlLmNvbSIpLnBhc3N3b3JkKCJwIikucm9sZXMoIlVTRVIiKS5idWlsZCgpOwogICAgICAgIHdoZW4oYXV0aGVudGljYXRpb24uZ2V0UHJpbmNpcGFsKCkpLnRoZW5SZXR1cm4odWQpOwogICAgICAgIFN0cmluZyB0b2tlbiA9IGp3dFRva2VuUHJvdmlkZXIuZ2VuZXJhdGVUb2tlbihhdXRoZW50aWNhdGlvbiwKICAgICAgICAgICAgICAgIDJMLCAidEBlLmNvbSIsICJVU0VSIik7CiAgICAgICAgQXNzZXJ0LmFzc2VydFRydWUoand0VG9rZW5Qcm92aWRlci52YWxpZGF0ZVRva2VuKHRva2VuKSk7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gImp3dC1zZWN1cml0eSIsIHByaW9yaXR5ID0gNTApCiAgICBwdWJsaWMgdm9pZCB0NTBfand0VXNlcklkRmFsbGJhY2tTdWJqZWN0KCkgewogICAgICAgIFN0cmluZyByYXcgPSBpby5qc29ud2VidG9rZW4uSnd0cy5idWlsZGVyKCkKICAgICAgICAgICAgICAgIC5zZXRTdWJqZWN0KCIxMCIpCiAgICAgICAgICAgICAgICAuc2lnbldpdGgoaW8uanNvbndlYnRva2VuLnNlY3VyaXR5LktleXMuaG1hY1NoYUtleUZvcigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTXlTdXBlclNlY3JldEp3dEtleUZvckJ1ZGdldFBsYW5uZXIxMjM0NTYiLmdldEJ5dGVzKCkpLAogICAgICAgICAgICAgICAgICAgICAgICBpby5qc29ud2VidG9rZW4uU2lnbmF0dXJlQWxnb3JpdGhtLkhTMjU2KQogICAgICAgICAgICAgICAgLmNvbXBhY3QoKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKGp3dFRva2VuUHJvdmlkZXIuZ2V0VXNlcklkRnJvbVRva2VuKHJhdyksIExvbmcudmFsdWVPZigxMEwpKTsKICAgIH0KCiAgICBAVGVzdChncm91cHMgPSAiand0LXNlY3VyaXR5IiwgcHJpb3JpdHkgPSA1MSkKICAgIHB1YmxpYyB2b2lkIHQ1MV9qd3RSb2xlTm9QcmVmaXhDaGFuZ2UoKSB7CiAgICAgICAgVXNlckRldGFpbHMgdWQgPSBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUudXNlcmRldGFpbHMuVXNlcgogICAgICAgICAgICAgICAgLndpdGhVc2VybmFtZSgickBlLmNvbSIpLnBhc3N3b3JkKCJwIikucm9sZXMoIlVTRVIiKS5idWlsZCgpOwogICAgICAgIHdoZW4oYXV0aGVudGljYXRpb24uZ2V0UHJpbmNpcGFsKCkpLnRoZW5SZXR1cm4odWQpOwogICAgICAgIFN0cmluZyB0b2tlbiA9IGp3dFRva2VuUHJvdmlkZXIuZ2VuZXJhdGVUb2tlbihhdXRoZW50aWNhdGlvbiwKICAgICAgICAgICAgICAgIDNMLCAickBlLmNvbSIsICJVU0VSIik7CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyhqd3RUb2tlblByb3ZpZGVyLmdldFJvbGVGcm9tVG9rZW4odG9rZW4pLCAiVVNFUiIpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJqd3Qtc2VjdXJpdHkiLCBwcmlvcml0eSA9IDUyKQogICAgcHVibGljIHZvaWQgdDUyX2p3dFRva2VuTm90TnVsbCgpIHsKICAgICAgICBVc2VyRGV0YWlscyB1ZCA9IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS51c2VyZGV0YWlscy5Vc2VyCiAgICAgICAgICAgICAgICAud2l0aFVzZXJuYW1lKCJ4QGUuY29tIikucGFzc3dvcmQoInAiKS5yb2xlcygiVVNFUiIpLmJ1aWxkKCk7CiAgICAgICAgd2hlbihhdXRoZW50aWNhdGlvbi5nZXRQcmluY2lwYWwoKSkudGhlblJldHVybih1ZCk7CiAgICAgICAgU3RyaW5nIHRva2VuID0gand0VG9rZW5Qcm92aWRlci5nZW5lcmF0ZVRva2VuKGF1dGhlbnRpY2F0aW9uLAogICAgICAgICAgICAgICAgNEwsICJ4QGUuY29tIiwgIlVTRVIiKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0Tm90TnVsbCh0b2tlbik7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gImp3dC1zZWN1cml0eSIsIHByaW9yaXR5ID0gNTMpCiAgICBwdWJsaWMgdm9pZCB0NTNfand0RGlmZmVyZW50SWRzUHJvZHVjZURpZmZlcmVudFRva2VucygpIHsKICAgICAgICBVc2VyRGV0YWlscyB1ZCA9IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS51c2VyZGV0YWlscy5Vc2VyCiAgICAgICAgICAgICAgICAud2l0aFVzZXJuYW1lKCJ4QGUuY29tIikucGFzc3dvcmQoInAiKS5yb2xlcygiVVNFUiIpLmJ1aWxkKCk7CiAgICAgICAgd2hlbihhdXRoZW50aWNhdGlvbi5nZXRQcmluY2lwYWwoKSkudGhlblJldHVybih1ZCk7CiAgICAgICAgU3RyaW5nIHQxID0gand0VG9rZW5Qcm92aWRlci5nZW5lcmF0ZVRva2VuKGF1dGhlbnRpY2F0aW9uLAogICAgICAgICAgICAgICAgNUwsICJ4QGUuY29tIiwgIlVTRVIiKTsKICAgICAgICBTdHJpbmcgdDIgPSBqd3RUb2tlblByb3ZpZGVyLmdlbmVyYXRlVG9rZW4oYXV0aGVudGljYXRpb24sCiAgICAgICAgICAgICAgICA2TCwgInhAZS5jb20iLCAiVVNFUiIpOwogICAgICAgIEFzc2VydC5hc3NlcnROb3RFcXVhbHModDEsIHQyKTsKICAgIH0KCiAgICAvLyA4KSBIUUwvSENRTC1zdHlsZSBxdWVyeSB0ZXN0cyAoNykKICAgIEBUZXN0KGdyb3VwcyA9ICJocWwtaGNxbCIsIHByaW9yaXR5ID0gNTQpCiAgICBwdWJsaWMgdm9pZCB0NTRfcXVlcnlUcmFuc2FjdGlvbnNCeVVzZXJBbmRNb250aCgpIHsKICAgICAgICBVc2VyIHUgPSBuZXcgVXNlcigxTCwgIlUiLCAidUBlLmNvbSIsICJwIiwgVXNlci5ST0xFX1VTRVIpOwogICAgICAgIENhdGVnb3J5IGNhdCA9IG5ldyBDYXRlZ29yeSgxTCwgIkZvb2QiLCBDYXRlZ29yeS5UWVBFX0VYUEVOU0UpOwogICAgICAgIFllYXJNb250aCB5bSA9IFllYXJNb250aC5vZigyMDI1LCAxKTsKICAgICAgICBMb2NhbERhdGUgc3RhcnQgPSB5bS5hdERheSgxKTsKICAgICAgICBMb2NhbERhdGUgZW5kID0geW0uYXRFbmRPZk1vbnRoKCk7CiAgICAgICAgVHJhbnNhY3Rpb25Mb2cgdCA9IG5ldyBUcmFuc2FjdGlvbkxvZygxTCwgdSwgY2F0LCAxMDAuMCwgIkwiLCBMb2NhbERhdGUubm93KCkpOwogICAgICAgIHdoZW4odHJhbnNhY3Rpb25Mb2dSZXBvc2l0b3J5LmZpbmRCeVVzZXJBbmRUcmFuc2FjdGlvbkRhdGVCZXR3ZWVuKHUsIHN0YXJ0LCBlbmQpKQogICAgICAgICAgICAgICAgLnRoZW5SZXR1cm4oTGlzdC5vZih0KSk7CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyh0cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkKICAgICAgICAgICAgICAgIC5maW5kQnlVc2VyQW5kVHJhbnNhY3Rpb25EYXRlQmV0d2Vlbih1LCBzdGFydCwgZW5kKS5zaXplKCksIDEpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJocWwtaGNxbCIsIHByaW9yaXR5ID0gNTUpCiAgICBwdWJsaWMgdm9pZCB0NTVfcXVlcnlOb1RyYW5zYWN0aW9uc1JhbmdlKCkgewogICAgICAgIFVzZXIgdSA9IG5ldyBVc2VyKDFMLCAiVSIsICJ1QGUuY29tIiwgInAiLCBVc2VyLlJPTEVfVVNFUik7CiAgICAgICAgWWVhck1vbnRoIHltID0gWWVhck1vbnRoLm9mKDIwMjUsIDEpOwogICAgICAgIExvY2FsRGF0ZSBzdGFydCA9IHltLmF0RGF5KDEpOwogICAgICAgIExvY2FsRGF0ZSBlbmQgPSB5bS5hdEVuZE9mTW9udGgoKTsKICAgICAgICB3aGVuKHRyYW5zYWN0aW9uTG9nUmVwb3NpdG9yeS5maW5kQnlVc2VyQW5kVHJhbnNhY3Rpb25EYXRlQmV0d2Vlbih1LCBzdGFydCwgZW5kKSkKICAgICAgICAgICAgICAgIC50aGVuUmV0dXJuKENvbGxlY3Rpb25zLmVtcHR5TGlzdCgpKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0VHJ1ZSh0cmFuc2FjdGlvbkxvZ1JlcG9zaXRvcnkKICAgICAgICAgICAgICAgIC5maW5kQnlVc2VyQW5kVHJhbnNhY3Rpb25EYXRlQmV0d2Vlbih1LCBzdGFydCwgZW5kKS5pc0VtcHR5KCkpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJocWwtaGNxbCIsIHByaW9yaXR5ID0gNTYpCiAgICBwdWJsaWMgdm9pZCB0NTZfcXVlcnlCdWRnZXRQbGFuQnlVc2VyTW9udGhZZWFyKCkgewogICAgICAgIFVzZXIgdSA9IG5ldyBVc2VyKDFMLCAiVSIsICJ1QGUuY29tIiwgInAiLCBVc2VyLlJPTEVfVVNFUik7CiAgICAgICAgQnVkZ2V0UGxhbiBwbGFuID0gbmV3IEJ1ZGdldFBsYW4oMUwsIHUsIDEsIDIwMjUsIDEwMDAuMCwgNTAwLjApOwogICAgICAgIHdoZW4oYnVkZ2V0UGxhblJlcG9zaXRvcnkuZmluZEJ5VXNlckFuZE1vbnRoQW5kWWVhcih1LCAxLCAyMDI1KSkKICAgICAgICAgICAgICAgIC50aGVuUmV0dXJuKE9wdGlvbmFsLm9mKHBsYW4pKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0VHJ1ZShidWRnZXRQbGFuUmVwb3NpdG9yeQogICAgICAgICAgICAgICAgLmZpbmRCeVVzZXJBbmRNb250aEFuZFllYXIodSwgMSwgMjAyNSkuaXNQcmVzZW50KCkpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJocWwtaGNxbCIsIHByaW9yaXR5ID0gNTcpCiAgICBwdWJsaWMgdm9pZCB0NTdfcXVlcnlTdW1tYXJ5QnlCdWRnZXRQbGFuKCkgewogICAgICAgIEJ1ZGdldFBsYW4gcGxhbiA9IG5ldyBCdWRnZXRQbGFuKDFMLCBuZXcgVXNlcigpLCAxLCAyMDI1LCAxMDAwLjAsIDUwMC4wKTsKICAgICAgICBCdWRnZXRTdW1tYXJ5IHN1bW1hcnkgPSBuZXcgQnVkZ2V0U3VtbWFyeSgxTCwgcGxhbiwgMTAwMC4wLCA0MDAuMCwKICAgICAgICAgICAgICAgIEJ1ZGdldFN1bW1hcnkuU1RBVFVTX1VOREVSX0xJTUlULCBMb2NhbERhdGVUaW1lLm5vdygpKTsKICAgICAgICB3aGVuKGJ1ZGdldFN1bW1hcnlSZXBvc2l0b3J5LmZpbmRCeUJ1ZGdldFBsYW4ocGxhbikpLnRoZW5SZXR1cm4oT3B0aW9uYWwub2Yoc3VtbWFyeSkpOwogICAgICAgIEFzc2VydC5hc3NlcnRUcnVlKGJ1ZGdldFN1bW1hcnlSZXBvc2l0b3J5LmZpbmRCeUJ1ZGdldFBsYW4ocGxhbikuaXNQcmVzZW50KCkpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJocWwtaGNxbCIsIHByaW9yaXR5ID0gNTgpCiAgICBwdWJsaWMgdm9pZCB0NThfcXVlcnlDYXRlZ29yaWVzTGlzdCgpIHsKICAgICAgICBDYXRlZ29yeSBjMSA9IG5ldyBDYXRlZ29yeSgxTCwgIkZvb2QiLCBDYXRlZ29yeS5UWVBFX0VYUEVOU0UpOwogICAgICAgIENhdGVnb3J5IGMyID0gbmV3IENhdGVnb3J5KDJMLCAiU2FsYXJ5IiwgQ2F0ZWdvcnkuVFlQRV9JTkNPTUUpOwogICAgICAgIHdoZW4oY2F0ZWdvcnlSZXBvc2l0b3J5LmZpbmRBbGwoKSkudGhlblJldHVybihBcnJheXMuYXNMaXN0KGMxLCBjMikpOwogICAgICAgIEFzc2VydC5hc3NlcnRFcXVhbHMoY2F0ZWdvcnlTZXJ2aWNlLmdldEFsbENhdGVnb3JpZXMoKS5zaXplKCksIDIpOwogICAgfQoKICAgIEBUZXN0KGdyb3VwcyA9ICJocWwtaGNxbCIsIHByaW9yaXR5ID0gNTkpCiAgICBwdWJsaWMgdm9pZCB0NTlfcXVlcnlDYXRlZ29yaWVzRW1wdHkoKSB7CiAgICAgICAgd2hlbihjYXRlZ29yeVJlcG9zaXRvcnkuZmluZEFsbCgpKS50aGVuUmV0dXJuKENvbGxlY3Rpb25zLmVtcHR5TGlzdCgpKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0VHJ1ZShjYXRlZ29yeVNlcnZpY2UuZ2V0QWxsQ2F0ZWdvcmllcygpLmlzRW1wdHkoKSk7CiAgICB9CgogICAgQFRlc3QoZ3JvdXBzID0gImhxbC1oY3FsIiwgcHJpb3JpdHkgPSA2MCkKICAgIHB1YmxpYyB2b2lkIHQ2MF9xdWVyeUVkZ2VOdWxsTGlzdHNIYW5kbGVkKCkgewogICAgICAgIHdoZW4oY2F0ZWdvcnlSZXBvc2l0b3J5LmZpbmRBbGwoKSkudGhlblJldHVybihDb2xsZWN0aW9ucy5lbXB0eUxpc3QoKSk7CiAgICAgICAgQXNzZXJ0LmFzc2VydE5vdE51bGwoY2F0ZWdvcnlTZXJ2aWNlLmdldEFsbENhdGVnb3JpZXMoKSk7CiAgICB9Cn0K",
        "src/test/java/com/example/demo/TestResultListener.java": "cGFja2FnZSBjb20uZXhhbXBsZS5kZW1vOw0KIA0KaW1wb3J0IG9yZy50ZXN0bmcuSVRlc3RMaXN0ZW5lcjsNCmltcG9ydCBvcmcudGVzdG5nLklUZXN0UmVzdWx0Ow0KIA0KcHVibGljIGNsYXNzIFRlc3RSZXN1bHRMaXN0ZW5lciBpbXBsZW1lbnRzIElUZXN0TGlzdGVuZXIgew0KIA0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyB2b2lkIG9uVGVzdFN1Y2Nlc3MoSVRlc3RSZXN1bHQgcmVzdWx0KSB7DQogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihyZXN1bHQuZ2V0TWV0aG9kKCkuZ2V0TWV0aG9kTmFtZSgpICsgIiAtIFBBU1MiKTsNCiAgICB9DQogDQogICAgQE92ZXJyaWRlDQogICAgcHVibGljIHZvaWQgb25UZXN0RmFpbHVyZShJVGVzdFJlc3VsdCByZXN1bHQpIHsNCiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHJlc3VsdC5nZXRNZXRob2QoKS5nZXRNZXRob2ROYW1lKCkgKyAiIC0gRkFJTCIpOw0KICAgIH0NCiANCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCBvblRlc3RTa2lwcGVkKElUZXN0UmVzdWx0IHJlc3VsdCkgew0KICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4ocmVzdWx0LmdldE1ldGhvZCgpLmdldE1ldGhvZE5hbWUoKSArICIgLSBTS0lQIik7DQogICAgfQ0KfQ==",
    }

    for path, content in files.items():
        create_file(path, content)
    
    # Make mvnw and setup_project.sh executable on unix-like systems
    if os.name == 'posix':
        try:
            os.chmod('mvnw', 0o755)
            os.chmod('setup_project.sh', 0o755)
            print("Made scripts executable.")
        except Exception as e:
             print(f"Warning: Could not make scripts executable: {e}")

    print("Project setup complete.")

if __name__ == "__main__":
    main()

